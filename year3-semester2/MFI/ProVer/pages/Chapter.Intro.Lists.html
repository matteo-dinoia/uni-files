<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Programming with lists | Introduction to Program Verification in Agda</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Programming with lists" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="Introduction to Program Verification in Agda" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Programming with lists" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Programming with lists","url":"/pages/Chapter.Intro.Lists.html"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="../assets/css/main.css">
  <link rel="stylesheet" href="../assets/css/Agda.css">
  <script src="../assets/js/mathjax.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="../assets/js/codereveal.js"></script>
  <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Introduction to Program Verification in Agda" /><!-- <script src="/assets/js/clipboard.min.js"></script> -->
  <!-- <script src="/assets/js/codeselect.js"></script> -->
</head>
<body>

<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="../index.html">Introduction to Program Verification in Agda</a>
    

    <nav class="site-nav">
      <a href="https://agda.readthedocs.io/en/latest/">AGDA DOCS</a>
    </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">
  <ul class="menu">
  <li>
    <a href="Chapter.Intro.Polymorphism.html">‹ Polymorphic functions and implicit arguments</a></li>
  <li><a href="Main.html">Table of contents ›</a></li>
</ul>
  <header class="post-header">
    <h1 class="post-title">Programming with lists</h1>
  </header>

  <div class="post-content">
    <pre class="Agda"><a id="78" class="Keyword">module</a> <a id="85" href="Chapter.Intro.Lists.html" class="Module">Chapter.Intro.Lists</a> <a id="105" class="Keyword">where</a>
</pre>
<p>Lists are a fundamental data structure for the representation of
<strong>finite sequences</strong> of elements. In this section we define the
<code class="language-plaintext highlighter-rouge">List</code> data type and prove a few properties of functions that
manipulate lists.</p>

<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Library.Fun.html" class="Module">Library.Fun</a>
<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Library.Equality.html" class="Module">Library.Equality</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Library.Equality.Reasoning.html" class="Module">Library.Equality.Reasoning</a>
<a id="434" class="Keyword">open</a> <a id="439" class="Keyword">import</a> <a id="446" href="Library.Nat.html" class="Module">Library.Nat</a>
</pre>
<h2 id="data-types-with-parameters">Data types with parameters</h2>

<p>It is easy to define an Agda data type of lists, observing that
every list of elements of type <code class="language-plaintext highlighter-rouge">A</code> can be either</p>

<ul>
  <li>the <strong>empty list</strong>, or</li>
  <li>a non empty list with a <strong>head</strong> of type <code class="language-plaintext highlighter-rouge">A</code> (the first element of
the list) and a <strong>tail</strong> which is itself a list of elements of
type <code class="language-plaintext highlighter-rouge">A</code>.</li>
</ul>

<p>We would like to define the list data type once and for all,
independently of the type <code class="language-plaintext highlighter-rouge">A</code> of its elements. For this, we
introduce a <strong>parameter</strong> into the data type.</p>

<pre class="Agda"><a id="952" class="Keyword">data</a> <a id="List"></a><a id="957" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="962" class="Symbol">(</a><a id="963" href="Chapter.Intro.Lists.html#963" class="Bound">A</a> <a id="965" class="Symbol">:</a> <a id="967" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="970" class="Symbol">)</a> <a id="972" class="Symbol">:</a> <a id="974" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="978" class="Keyword">where</a>
  <a id="List.[]"></a><a id="986" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>   <a id="991" class="Symbol">:</a> <a id="993" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="998" href="Chapter.Intro.Lists.html#963" class="Bound">A</a>
  <a id="List._::_"></a><a id="1002" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a> <a id="1007" class="Symbol">:</a> <a id="1009" href="Chapter.Intro.Lists.html#963" class="Bound">A</a> <a id="1011" class="Symbol">-&gt;</a> <a id="1014" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="1019" href="Chapter.Intro.Lists.html#963" class="Bound">A</a> <a id="1021" class="Symbol">-&gt;</a> <a id="1024" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="1029" href="Chapter.Intro.Lists.html#963" class="Bound">A</a>
</pre>
<p>According to this definition, <code class="language-plaintext highlighter-rouge">List</code> by itself is not a
type. Rather, it is a function that, when applied to an arbitrary
type <code class="language-plaintext highlighter-rouge">A</code>, yields the type of lists with elements of type <code class="language-plaintext highlighter-rouge">A</code>. You
can verify this claim by entering <code class="language-plaintext highlighter-rouge">C-c C-d List</code>. Notice that the
parameter <code class="language-plaintext highlighter-rouge">A</code> is declared right after the name of the data type and
its scope covers all the constructors of the data type, in which it
becomes an implicit argument. In line with the syntax adopted in
many functional languages, we have chosen to write <code class="language-plaintext highlighter-rouge">[]</code> for the
empty list and <code class="language-plaintext highlighter-rouge">x :: xs</code> for the list with head <code class="language-plaintext highlighter-rouge">x</code> and tail
<code class="language-plaintext highlighter-rouge">xs</code>. We declare <code class="language-plaintext highlighter-rouge">::</code> as a right associative operator so as to make
it easy to write lists by repeated applications of <code class="language-plaintext highlighter-rouge">::</code>.</p>

<pre class="Agda"><a id="1746" class="Keyword">infixr</a> <a id="1753" class="Number">5</a> <a id="1755" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a>
</pre>
<p>For example, the following list contains the first four natural
numbers.</p>

<pre class="Agda"><a id="1843" href="Chapter.Intro.Lists.html#1843" class="Function">_</a> <a id="1845" class="Symbol">:</a> <a id="1847" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="1852" href="Library.Nat.html#32" class="Datatype">ℕ</a>
<a id="1854" class="Symbol">_</a> <a id="1856" class="Symbol">=</a> <a id="1858" class="Number">0</a> <a id="1860" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="1863" class="Number">1</a> <a id="1865" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="1868" class="Number">2</a> <a id="1870" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="1873" class="Number">3</a> <a id="1875" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="1878" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
</pre>
<h2 id="basic-operations-on-lists">Basic operations on lists</h2>

<p>As noted above, each constructor of lists carries an implicit
argument <code class="language-plaintext highlighter-rouge">A</code> standing for the type of the elements of the list being
constructed. We have to bear this aspect in mind when we define
functions that manipulate lists. For example, the following function
creates a list containing a single element.</p>

<pre class="Agda"><a id="[_]"></a><a id="2229" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[_]</a> <a id="2233" class="Symbol">:</a> <a id="2235" class="Symbol">∀{</a><a id="2237" href="Chapter.Intro.Lists.html#2237" class="Bound">A</a> <a id="2239" class="Symbol">:</a> <a id="2241" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="2244" class="Symbol">}</a> <a id="2246" class="Symbol">-&gt;</a> <a id="2249" href="Chapter.Intro.Lists.html#2237" class="Bound">A</a> <a id="2251" class="Symbol">-&gt;</a> <a id="2254" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="2259" href="Chapter.Intro.Lists.html#2237" class="Bound">A</a>
<a id="2261" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[_]</a> <a id="2265" class="Symbol">=</a> <a id="2267" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::</a> <a id="2271" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
</pre>
<p>Now we can write <code class="language-plaintext highlighter-rouge">[ 0 ]</code> for the list consisting of the sole element
<code class="language-plaintext highlighter-rouge">0</code> or <code class="language-plaintext highlighter-rouge">[ true ]</code> for the list consisting of the sole element
<code class="language-plaintext highlighter-rouge">true</code>. The type of the elements of these lists is inferred
automatically by Agda. If we want to write the implicit argument
explicitly, we have to resort to the prefix notation: <code class="language-plaintext highlighter-rouge">[_] {ℕ} 0</code> is
the singleton list made of <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">[_] {Bool} true</code> is the
singleton list made of <code class="language-plaintext highlighter-rouge">true</code>.</p>

<p>As another example, below is the function that computes the length
of a list.</p>

<pre class="Agda"><a id="length"></a><a id="2779" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="2786" class="Symbol">:</a> <a id="2788" class="Symbol">∀{</a><a id="2790" href="Chapter.Intro.Lists.html#2790" class="Bound">A</a> <a id="2792" class="Symbol">:</a> <a id="2794" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="2797" class="Symbol">}</a> <a id="2799" class="Symbol">-&gt;</a> <a id="2802" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="2807" href="Chapter.Intro.Lists.html#2790" class="Bound">A</a> <a id="2809" class="Symbol">-&gt;</a> <a id="2812" href="Library.Nat.html#32" class="Datatype">ℕ</a>
<a id="2814" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="2821" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="2831" class="Symbol">=</a> <a id="2833" class="Number">0</a>
<a id="2835" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="2842" class="Symbol">(_</a> <a id="2845" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="2848" href="Chapter.Intro.Lists.html#2848" class="Bound">xs</a><a id="2850" class="Symbol">)</a> <a id="2852" class="Symbol">=</a> <a id="2854" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="2859" class="Symbol">(</a><a id="2860" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="2867" href="Chapter.Intro.Lists.html#2848" class="Bound">xs</a><a id="2869" class="Symbol">)</a>
</pre>
<h2 id="list-concatenation">List concatenation</h2>

<p>We now define list concatenation and prove a few essential
properties about it. List concatenation, denoted by the infix
operator <code class="language-plaintext highlighter-rouge">++</code>, is defined by structural recursion on the left
operand.</p>

<pre class="Agda"><a id="_++_"></a><a id="3096" href="Chapter.Intro.Lists.html#3096" class="Function Operator">_++_</a> <a id="3101" class="Symbol">:</a> <a id="3103" class="Symbol">∀{</a><a id="3105" href="Chapter.Intro.Lists.html#3105" class="Bound">A</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="3112" class="Symbol">}</a> <a id="3114" class="Symbol">-&gt;</a> <a id="3117" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="3122" href="Chapter.Intro.Lists.html#3105" class="Bound">A</a> <a id="3124" class="Symbol">-&gt;</a> <a id="3127" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="3132" href="Chapter.Intro.Lists.html#3105" class="Bound">A</a> <a id="3134" class="Symbol">-&gt;</a> <a id="3137" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="3142" href="Chapter.Intro.Lists.html#3105" class="Bound">A</a>
<a id="3144" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="3154" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3157" href="Chapter.Intro.Lists.html#3157" class="Bound">ys</a> <a id="3160" class="Symbol">=</a> <a id="3162" href="Chapter.Intro.Lists.html#3157" class="Bound">ys</a>
<a id="3165" class="Symbol">(</a><a id="3166" href="Chapter.Intro.Lists.html#3166" class="Bound">x</a> <a id="3168" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="3171" href="Chapter.Intro.Lists.html#3171" class="Bound">xs</a><a id="3173" class="Symbol">)</a> <a id="3175" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3178" href="Chapter.Intro.Lists.html#3178" class="Bound">ys</a> <a id="3181" class="Symbol">=</a> <a id="3183" href="Chapter.Intro.Lists.html#3166" class="Bound">x</a> <a id="3185" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="3188" class="Symbol">(</a><a id="3189" href="Chapter.Intro.Lists.html#3171" class="Bound">xs</a> <a id="3192" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3195" href="Chapter.Intro.Lists.html#3178" class="Bound">ys</a><a id="3197" class="Symbol">)</a>
</pre>
<p>We stipulate that <code class="language-plaintext highlighter-rouge">++</code> is right associative and has the same
priority as <code class="language-plaintext highlighter-rouge">::</code>. In this way, we can write lists by mixing <code class="language-plaintext highlighter-rouge">::</code> and
<code class="language-plaintext highlighter-rouge">++</code> without using too many parentheses.</p>

<pre class="Agda"><a id="3380" class="Keyword">infixr</a> <a id="3387" class="Number">5</a> <a id="3389" href="Chapter.Intro.Lists.html#3096" class="Function Operator">_++_</a>
</pre>
<p>A first obvious fact about <code class="language-plaintext highlighter-rouge">++</code> is that the length of the
concatenation of two lists is the sum of the lengths of the two
lists.</p>

<pre class="Agda"><a id="length-++"></a><a id="3533" href="Chapter.Intro.Lists.html#3533" class="Function">length-++</a> <a id="3543" class="Symbol">:</a> <a id="3545" class="Symbol">∀{</a><a id="3547" href="Chapter.Intro.Lists.html#3547" class="Bound">A</a> <a id="3549" class="Symbol">:</a> <a id="3551" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="3554" class="Symbol">}</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Chapter.Intro.Lists.html#3557" class="Bound">xs</a> <a id="3560" href="Chapter.Intro.Lists.html#3560" class="Bound">ys</a> <a id="3563" class="Symbol">:</a> <a id="3565" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="3570" href="Chapter.Intro.Lists.html#3547" class="Bound">A</a><a id="3571" class="Symbol">)</a> <a id="3573" class="Symbol">-&gt;</a> <a id="3576" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="3583" class="Symbol">(</a><a id="3584" href="Chapter.Intro.Lists.html#3557" class="Bound">xs</a> <a id="3587" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3590" href="Chapter.Intro.Lists.html#3560" class="Bound">ys</a><a id="3592" class="Symbol">)</a> <a id="3594" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="3597" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="3604" href="Chapter.Intro.Lists.html#3557" class="Bound">xs</a> <a id="3607" href="Library.Nat.html#145" class="Function Operator">+</a> <a id="3609" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="3616" href="Chapter.Intro.Lists.html#3560" class="Bound">ys</a>
<a id="3619" href="Chapter.Intro.Lists.html#3533" class="Function">length-++</a> <a id="3629" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="3639" href="Chapter.Intro.Lists.html#3639" class="Bound">ys</a> <a id="3642" class="Symbol">=</a> <a id="3644" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="3649" href="Chapter.Intro.Lists.html#3533" class="Function">length-++</a> <a id="3659" class="Symbol">(_</a> <a id="3662" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="3665" href="Chapter.Intro.Lists.html#3665" class="Bound">xs</a><a id="3667" class="Symbol">)</a> <a id="3669" href="Chapter.Intro.Lists.html#3669" class="Bound">ys</a> <a id="3672" class="Symbol">=</a> <a id="3674" href="Library.Equality.html#373" class="Function">cong</a> <a id="3679" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="3684" class="Symbol">(</a><a id="3685" href="Chapter.Intro.Lists.html#3533" class="Function">length-++</a> <a id="3695" href="Chapter.Intro.Lists.html#3665" class="Bound">xs</a> <a id="3698" href="Chapter.Intro.Lists.html#3669" class="Bound">ys</a><a id="3700" class="Symbol">)</a>
</pre>
<p>Also, list concatenation is associative.</p>

<pre class="Agda"><a id="++-assoc"></a><a id="3753" href="Chapter.Intro.Lists.html#3753" class="Function">++-assoc</a> <a id="3762" class="Symbol">:</a> <a id="3764" class="Symbol">∀{</a><a id="3766" href="Chapter.Intro.Lists.html#3766" class="Bound">A</a> <a id="3768" class="Symbol">:</a> <a id="3770" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="3773" class="Symbol">}</a> <a id="3775" class="Symbol">(</a><a id="3776" href="Chapter.Intro.Lists.html#3776" class="Bound">xs</a> <a id="3779" href="Chapter.Intro.Lists.html#3779" class="Bound">ys</a> <a id="3782" href="Chapter.Intro.Lists.html#3782" class="Bound">zs</a> <a id="3785" class="Symbol">:</a> <a id="3787" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="3792" href="Chapter.Intro.Lists.html#3766" class="Bound">A</a><a id="3793" class="Symbol">)</a> <a id="3795" class="Symbol">-&gt;</a> <a id="3798" href="Chapter.Intro.Lists.html#3776" class="Bound">xs</a> <a id="3801" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3804" class="Symbol">(</a><a id="3805" href="Chapter.Intro.Lists.html#3779" class="Bound">ys</a> <a id="3808" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3811" href="Chapter.Intro.Lists.html#3782" class="Bound">zs</a><a id="3813" class="Symbol">)</a> <a id="3815" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="3818" class="Symbol">(</a><a id="3819" href="Chapter.Intro.Lists.html#3776" class="Bound">xs</a> <a id="3822" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3825" href="Chapter.Intro.Lists.html#3779" class="Bound">ys</a><a id="3827" class="Symbol">)</a> <a id="3829" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="3832" href="Chapter.Intro.Lists.html#3782" class="Bound">zs</a>
<a id="3835" href="Chapter.Intro.Lists.html#3753" class="Function">++-assoc</a> <a id="3844" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="3854" href="Chapter.Intro.Lists.html#3854" class="Bound">ys</a> <a id="3857" href="Chapter.Intro.Lists.html#3857" class="Bound">zs</a> <a id="3860" class="Symbol">=</a> <a id="3862" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="3867" href="Chapter.Intro.Lists.html#3753" class="Function">++-assoc</a> <a id="3876" class="Symbol">(</a><a id="3877" href="Chapter.Intro.Lists.html#3877" class="Bound">x</a> <a id="3879" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="3882" href="Chapter.Intro.Lists.html#3882" class="Bound">xs</a><a id="3884" class="Symbol">)</a> <a id="3886" href="Chapter.Intro.Lists.html#3886" class="Bound">ys</a> <a id="3889" href="Chapter.Intro.Lists.html#3889" class="Bound">zs</a> <a id="3892" class="Symbol">=</a> <a id="3894" href="Library.Equality.html#373" class="Function">cong</a> <a id="3899" class="Symbol">(</a><a id="3900" href="Chapter.Intro.Lists.html#3877" class="Bound">x</a> <a id="3902" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::_</a><a id="3905" class="Symbol">)</a> <a id="3907" class="Symbol">(</a><a id="3908" href="Chapter.Intro.Lists.html#3753" class="Function">++-assoc</a> <a id="3917" href="Chapter.Intro.Lists.html#3882" class="Bound">xs</a> <a id="3920" href="Chapter.Intro.Lists.html#3886" class="Bound">ys</a> <a id="3923" href="Chapter.Intro.Lists.html#3889" class="Bound">zs</a><a id="3925" class="Symbol">)</a>
</pre>
<p>The empty list <code class="language-plaintext highlighter-rouge">[]</code> acts as left and right unit for list
concatenation. On the left, this property follows from the very
definition of list concatenation.</p>

<pre class="Agda"><a id="++-unit-l"></a><a id="4092" href="Chapter.Intro.Lists.html#4092" class="Function">++-unit-l</a> <a id="4102" class="Symbol">:</a> <a id="4104" class="Symbol">∀{</a><a id="4106" href="Chapter.Intro.Lists.html#4106" class="Bound">A</a> <a id="4108" class="Symbol">:</a> <a id="4110" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="4113" class="Symbol">}</a> <a id="4115" class="Symbol">(</a><a id="4116" href="Chapter.Intro.Lists.html#4116" class="Bound">xs</a> <a id="4119" class="Symbol">:</a> <a id="4121" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="4126" href="Chapter.Intro.Lists.html#4106" class="Bound">A</a><a id="4127" class="Symbol">)</a> <a id="4129" class="Symbol">-&gt;</a> <a id="4132" href="Chapter.Intro.Lists.html#4116" class="Bound">xs</a> <a id="4135" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="4138" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="4141" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="4144" href="Chapter.Intro.Lists.html#4116" class="Bound">xs</a>
<a id="4147" href="Chapter.Intro.Lists.html#4092" class="Function">++-unit-l</a> <a id="4157" class="Symbol">_</a> <a id="4159" class="Symbol">=</a> <a id="4161" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
</pre>
<p>On the right, we prove the result by structural induction on the list.</p>

<pre class="Agda"><a id="++-unit-r"></a><a id="4247" href="Chapter.Intro.Lists.html#4247" class="Function">++-unit-r</a> <a id="4257" class="Symbol">:</a> <a id="4259" class="Symbol">∀{</a><a id="4261" href="Chapter.Intro.Lists.html#4261" class="Bound">A</a> <a id="4263" class="Symbol">:</a> <a id="4265" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="4268" class="Symbol">}</a> <a id="4270" class="Symbol">(</a><a id="4271" href="Chapter.Intro.Lists.html#4271" class="Bound">xs</a> <a id="4274" class="Symbol">:</a> <a id="4276" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="4281" href="Chapter.Intro.Lists.html#4261" class="Bound">A</a><a id="4282" class="Symbol">)</a> <a id="4284" class="Symbol">-&gt;</a> <a id="4287" href="Chapter.Intro.Lists.html#4271" class="Bound">xs</a> <a id="4290" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="4293" href="Chapter.Intro.Lists.html#4271" class="Bound">xs</a> <a id="4296" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="4299" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
<a id="4302" href="Chapter.Intro.Lists.html#4247" class="Function">++-unit-r</a> <a id="4312" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="4315" class="Symbol">=</a> <a id="4317" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="4322" href="Chapter.Intro.Lists.html#4247" class="Function">++-unit-r</a> <a id="4332" class="Symbol">(</a><a id="4333" href="Chapter.Intro.Lists.html#4333" class="Bound">x</a> <a id="4335" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="4338" href="Chapter.Intro.Lists.html#4338" class="Bound">xs</a><a id="4340" class="Symbol">)</a> <a id="4342" class="Symbol">=</a>
  <a id="4346" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="4356" href="Chapter.Intro.Lists.html#4333" class="Bound">x</a> <a id="4358" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="4361" href="Chapter.Intro.Lists.html#4338" class="Bound">xs</a>         <a id="4372" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="4376" href="Library.Equality.html#373" class="Function">cong</a> <a id="4381" class="Symbol">(</a><a id="4382" href="Chapter.Intro.Lists.html#4333" class="Bound">x</a> <a id="4384" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::_</a><a id="4387" class="Symbol">)</a> <a id="4389" class="Symbol">(</a><a id="4390" href="Chapter.Intro.Lists.html#4247" class="Function">++-unit-r</a> <a id="4400" href="Chapter.Intro.Lists.html#4338" class="Bound">xs</a><a id="4402" class="Symbol">)</a> <a id="4404" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="4410" href="Chapter.Intro.Lists.html#4333" class="Bound">x</a> <a id="4412" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="4415" class="Symbol">(</a><a id="4416" href="Chapter.Intro.Lists.html#4338" class="Bound">xs</a> <a id="4419" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="4422" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a><a id="4424" class="Symbol">)</a> <a id="4426" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="4430" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="4435" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="4441" class="Symbol">(</a><a id="4442" href="Chapter.Intro.Lists.html#4333" class="Bound">x</a> <a id="4444" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="4447" href="Chapter.Intro.Lists.html#4338" class="Bound">xs</a><a id="4449" class="Symbol">)</a> <a id="4451" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="4454" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
  <a id="4459" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>
<p>Note that list concatenation is not commutative in general.</p>

<h2 id="reversing-a-list">Reversing a list</h2>

<p>We now define a function <code class="language-plaintext highlighter-rouge">reverse</code> that, as the name suggests,
reverses the order of the elements in a list. There are several ways
of defining this function and the version we show here is simple but
also inefficient.</p>

<pre class="Agda"><a id="reverse"></a><a id="4774" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="4782" class="Symbol">:</a> <a id="4784" class="Symbol">∀{</a><a id="4786" href="Chapter.Intro.Lists.html#4786" class="Bound">A</a> <a id="4788" class="Symbol">:</a> <a id="4790" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="4793" class="Symbol">}</a> <a id="4795" class="Symbol">-&gt;</a> <a id="4798" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="4803" href="Chapter.Intro.Lists.html#4786" class="Bound">A</a> <a id="4805" class="Symbol">-&gt;</a> <a id="4808" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="4813" href="Chapter.Intro.Lists.html#4786" class="Bound">A</a>
<a id="4815" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="4823" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="4833" class="Symbol">=</a> <a id="4835" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
<a id="4838" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="4846" class="Symbol">(</a><a id="4847" href="Chapter.Intro.Lists.html#4847" class="Bound">x</a> <a id="4849" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="4852" href="Chapter.Intro.Lists.html#4852" class="Bound">xs</a><a id="4854" class="Symbol">)</a> <a id="4856" class="Symbol">=</a> <a id="4858" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="4866" href="Chapter.Intro.Lists.html#4852" class="Bound">xs</a> <a id="4869" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="4872" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="4874" href="Chapter.Intro.Lists.html#4847" class="Bound">x</a> <a id="4876" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a>
</pre>
<p>Intuitively, reversing the empty list yields the empty list and
reversing a list with head <code class="language-plaintext highlighter-rouge">x</code> and tail <code class="language-plaintext highlighter-rouge">xs</code> yields a list whose
prefix is the reverse of <code class="language-plaintext highlighter-rouge">xs</code> and whose last element is <code class="language-plaintext highlighter-rouge">x</code>. Note
the use of the operator <code class="language-plaintext highlighter-rouge">[_]</code> which is necessary as concatenation is
defined on lists, not on single elements of lists. As an example,
entering <code class="language-plaintext highlighter-rouge">C-c C-n reverse (0 :: 1 :: 2 :: 3 :: [])</code> yields <code class="language-plaintext highlighter-rouge">3 :: 2
:: 1 :: 0 :: []</code>.</p>

<p>We expect <code class="language-plaintext highlighter-rouge">reverse</code> to be an <em>involution</em>, namely a function that is
the inverse of itself. Before proving this property, it is necessary
to show how <code class="language-plaintext highlighter-rouge">reverse</code> behaves on the concatenation of two lists. Not
surprisingly, reversing the concatenation of two lists yields the
concatenation of the two lists reversed, but in the <em>reverse order</em>!</p>

<pre class="Agda"><a id="reverse-++"></a><a id="5646" href="Chapter.Intro.Lists.html#5646" class="Function">reverse-++</a> <a id="5657" class="Symbol">:</a> <a id="5659" class="Symbol">∀{</a><a id="5661" href="Chapter.Intro.Lists.html#5661" class="Bound">A</a> <a id="5663" class="Symbol">:</a> <a id="5665" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="5668" class="Symbol">}</a> <a id="5670" class="Symbol">(</a><a id="5671" href="Chapter.Intro.Lists.html#5671" class="Bound">xs</a> <a id="5674" href="Chapter.Intro.Lists.html#5674" class="Bound">ys</a> <a id="5677" class="Symbol">:</a> <a id="5679" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="5684" href="Chapter.Intro.Lists.html#5661" class="Bound">A</a><a id="5685" class="Symbol">)</a> <a id="5687" class="Symbol">-&gt;</a> <a id="5690" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5698" class="Symbol">(</a><a id="5699" href="Chapter.Intro.Lists.html#5671" class="Bound">xs</a> <a id="5702" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="5705" href="Chapter.Intro.Lists.html#5674" class="Bound">ys</a><a id="5707" class="Symbol">)</a> <a id="5709" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="5712" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5720" href="Chapter.Intro.Lists.html#5674" class="Bound">ys</a> <a id="5723" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="5726" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5734" href="Chapter.Intro.Lists.html#5671" class="Bound">xs</a>
<a id="5737" href="Chapter.Intro.Lists.html#5646" class="Function">reverse-++</a> <a id="5748" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="5751" href="Chapter.Intro.Lists.html#5751" class="Bound">ys</a>        <a id="5761" class="Symbol">=</a> <a id="5763" href="Chapter.Intro.Lists.html#4247" class="Function">++-unit-r</a> <a id="5773" class="Symbol">(</a><a id="5774" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5782" href="Chapter.Intro.Lists.html#5751" class="Bound">ys</a><a id="5784" class="Symbol">)</a>
<a id="5786" href="Chapter.Intro.Lists.html#5646" class="Function">reverse-++</a> <a id="5797" class="Symbol">(</a><a id="5798" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="5800" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="5803" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a><a id="5805" class="Symbol">)</a> <a id="5807" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a> <a id="5810" class="Symbol">=</a>
  <a id="5814" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="5824" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5832" class="Symbol">((</a><a id="5834" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="5836" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="5839" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a><a id="5841" class="Symbol">)</a> <a id="5843" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="5846" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a><a id="5848" class="Symbol">)</a>           <a id="5860" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="5864" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="5869" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="5875" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5883" class="Symbol">(</a><a id="5884" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="5886" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="5889" class="Symbol">(</a><a id="5890" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a> <a id="5893" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="5896" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a><a id="5898" class="Symbol">))</a>           <a id="5911" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="5915" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="5920" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="5926" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="5934" class="Symbol">(</a><a id="5935" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a> <a id="5938" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="5941" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a><a id="5943" class="Symbol">)</a> <a id="5945" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="5948" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="5950" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="5952" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a>         <a id="5962" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="5966" href="Library.Equality.html#373" class="Function">cong</a> <a id="5971" class="Symbol">(</a><a id="5972" href="Chapter.Intro.Lists.html#3096" class="Function Operator">_++</a> <a id="5976" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="5978" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="5980" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="5981" class="Symbol">)</a> <a id="5983" class="Symbol">(</a><a id="5984" href="Chapter.Intro.Lists.html#5646" class="Function">reverse-++</a> <a id="5995" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a> <a id="5998" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a><a id="6000" class="Symbol">)</a> <a id="6002" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="6008" class="Symbol">(</a><a id="6009" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6017" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a> <a id="6020" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6023" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6031" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a><a id="6033" class="Symbol">)</a> <a id="6035" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6038" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="6040" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="6042" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a>   <a id="6046" href="Library.Equality.Reasoning.html#341" class="Function Operator">⟨</a> <a id="6048" href="Chapter.Intro.Lists.html#3753" class="Function">++-assoc</a> <a id="6057" class="Symbol">(</a><a id="6058" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6066" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a><a id="6068" class="Symbol">)</a> <a id="6070" class="Symbol">(</a><a id="6071" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6079" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a><a id="6081" class="Symbol">)</a> <a id="6083" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="6085" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="6087" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="6089" href="Library.Equality.Reasoning.html#341" class="Function Operator">⟩==</a>
    <a id="6097" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6105" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a> <a id="6108" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6111" class="Symbol">(</a><a id="6112" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6120" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a> <a id="6123" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6126" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="6128" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="6130" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="6131" class="Symbol">)</a> <a id="6133" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="6137" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="6142" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="6148" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6156" href="Chapter.Intro.Lists.html#5807" class="Bound">ys</a> <a id="6159" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6162" class="Symbol">(</a><a id="6163" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6171" class="Symbol">(</a><a id="6172" href="Chapter.Intro.Lists.html#5798" class="Bound">x</a> <a id="6174" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="6177" href="Chapter.Intro.Lists.html#5803" class="Bound">xs</a><a id="6179" class="Symbol">))</a>
  <a id="6184" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>
<p>We can now show that <code class="language-plaintext highlighter-rouge">reverse</code> is an involution.</p>

<pre class="Agda"><a id="reverse-inv"></a><a id="6247" href="Chapter.Intro.Lists.html#6247" class="Function">reverse-inv</a> <a id="6259" class="Symbol">:</a> <a id="6261" class="Symbol">∀{</a><a id="6263" href="Chapter.Intro.Lists.html#6263" class="Bound">A</a> <a id="6265" class="Symbol">:</a> <a id="6267" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="6270" class="Symbol">}</a> <a id="6272" class="Symbol">(</a><a id="6273" href="Chapter.Intro.Lists.html#6273" class="Bound">xs</a> <a id="6276" class="Symbol">:</a> <a id="6278" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="6283" href="Chapter.Intro.Lists.html#6263" class="Bound">A</a><a id="6284" class="Symbol">)</a> <a id="6286" class="Symbol">-&gt;</a> <a id="6289" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6297" class="Symbol">(</a><a id="6298" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6306" href="Chapter.Intro.Lists.html#6273" class="Bound">xs</a><a id="6308" class="Symbol">)</a> <a id="6310" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="6313" href="Chapter.Intro.Lists.html#6273" class="Bound">xs</a>
<a id="6316" href="Chapter.Intro.Lists.html#6247" class="Function">reverse-inv</a> <a id="6328" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="6331" class="Symbol">=</a> <a id="6333" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="6338" href="Chapter.Intro.Lists.html#6247" class="Function">reverse-inv</a> <a id="6350" class="Symbol">(</a><a id="6351" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6353" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="6356" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a><a id="6358" class="Symbol">)</a> <a id="6360" class="Symbol">=</a>
  <a id="6364" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="6374" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6382" class="Symbol">(</a><a id="6383" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6391" class="Symbol">(</a><a id="6392" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6394" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="6397" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a><a id="6399" class="Symbol">))</a>           <a id="6412" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="6416" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="6421" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="6427" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6435" class="Symbol">(</a><a id="6436" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6444" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a> <a id="6447" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6450" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="6452" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6454" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="6455" class="Symbol">)</a>         <a id="6465" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="6469" href="Chapter.Intro.Lists.html#5646" class="Function">reverse-++</a> <a id="6480" class="Symbol">(</a><a id="6481" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6489" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a><a id="6491" class="Symbol">)</a> <a id="6493" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="6495" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6497" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="6499" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="6505" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6513" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="6515" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6517" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="6519" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="6522" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6530" class="Symbol">(</a><a id="6531" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6539" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a><a id="6541" class="Symbol">)</a> <a id="6543" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="6547" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="6552" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="6558" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6560" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="6563" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6571" class="Symbol">(</a><a id="6572" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="6580" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a><a id="6582" class="Symbol">)</a>             <a id="6596" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="6600" href="Library.Equality.html#373" class="Function">cong</a> <a id="6605" class="Symbol">(</a><a id="6606" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6608" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::_</a><a id="6611" class="Symbol">)</a> <a id="6613" class="Symbol">(</a><a id="6614" href="Chapter.Intro.Lists.html#6247" class="Function">reverse-inv</a> <a id="6626" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a><a id="6628" class="Symbol">)</a> <a id="6630" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="6636" href="Chapter.Intro.Lists.html#6351" class="Bound">x</a> <a id="6638" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="6641" href="Chapter.Intro.Lists.html#6356" class="Bound">xs</a>
  <a id="6646" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>
<h2 id="a-more-efficient-reverse">A more efficient <code class="language-plaintext highlighter-rouge">reverse</code></h2>

<p>The reason why the provided definition of <code class="language-plaintext highlighter-rouge">reverse</code> is inefficient
is that it makes use of concatenation to move the first element of a
list to the end of its reverse. Since concatenation is defined by
structural induction on the leftmost list, this means that the cost
of computing <code class="language-plaintext highlighter-rouge">reverse xs</code> is proportional to $n^2$ if $n$ is the
length of <code class="language-plaintext highlighter-rouge">xs</code>. In order to obtain a more efficient version of
<code class="language-plaintext highlighter-rouge">reverse</code> we start by defining a slightly more general function
called <code class="language-plaintext highlighter-rouge">reverse-onto</code>, which “moves” the elements of one list in
front of another list. Since the elements are moved one by one, the
effect is that of reversing the first list “onto” the second one.</p>

<pre class="Agda"><a id="reverse-onto"></a><a id="7352" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="7365" class="Symbol">:</a> <a id="7367" class="Symbol">∀{</a><a id="7369" href="Chapter.Intro.Lists.html#7369" class="Bound">A</a> <a id="7371" class="Symbol">:</a> <a id="7373" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="7376" class="Symbol">}</a> <a id="7378" class="Symbol">-&gt;</a> <a id="7381" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="7386" href="Chapter.Intro.Lists.html#7369" class="Bound">A</a> <a id="7388" class="Symbol">-&gt;</a> <a id="7391" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="7396" href="Chapter.Intro.Lists.html#7369" class="Bound">A</a> <a id="7398" class="Symbol">-&gt;</a> <a id="7401" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="7406" href="Chapter.Intro.Lists.html#7369" class="Bound">A</a>
<a id="7408" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="7421" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="7431" href="Chapter.Intro.Lists.html#7431" class="Bound">ys</a> <a id="7434" class="Symbol">=</a> <a id="7436" href="Chapter.Intro.Lists.html#7431" class="Bound">ys</a>
<a id="7439" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="7452" class="Symbol">(</a><a id="7453" href="Chapter.Intro.Lists.html#7453" class="Bound">x</a> <a id="7455" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="7458" href="Chapter.Intro.Lists.html#7458" class="Bound">xs</a><a id="7460" class="Symbol">)</a> <a id="7462" href="Chapter.Intro.Lists.html#7462" class="Bound">ys</a> <a id="7465" class="Symbol">=</a> <a id="7467" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="7480" href="Chapter.Intro.Lists.html#7458" class="Bound">xs</a> <a id="7483" class="Symbol">(</a><a id="7484" href="Chapter.Intro.Lists.html#7453" class="Bound">x</a> <a id="7486" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="7489" href="Chapter.Intro.Lists.html#7462" class="Bound">ys</a><a id="7491" class="Symbol">)</a>
</pre>
<p>For exampe, entering <code class="language-plaintext highlighter-rouge">C-c C-n reverse-onto (1 :: 2 :: 3 :: []) [ 4
]</code> yields <code class="language-plaintext highlighter-rouge">3 :: 2 :: 1 :: 4 :: []</code>. In particular, we can obtain an
alternative way of computing <code class="language-plaintext highlighter-rouge">reverse xs</code> as <code class="language-plaintext highlighter-rouge">reverse-onto xs
[]</code>. The advantage of this approach is that <code class="language-plaintext highlighter-rouge">reverse-onto</code> is only
defined in terms of <code class="language-plaintext highlighter-rouge">::</code>, whose complexity is constant.</p>

<pre class="Agda"><a id="fast-reverse"></a><a id="7823" href="Chapter.Intro.Lists.html#7823" class="Function">fast-reverse</a> <a id="7836" class="Symbol">:</a> <a id="7838" class="Symbol">∀{</a><a id="7840" href="Chapter.Intro.Lists.html#7840" class="Bound">A</a> <a id="7842" class="Symbol">:</a> <a id="7844" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="7847" class="Symbol">}</a> <a id="7849" class="Symbol">-&gt;</a> <a id="7852" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="7857" href="Chapter.Intro.Lists.html#7840" class="Bound">A</a> <a id="7859" class="Symbol">-&gt;</a> <a id="7862" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="7867" href="Chapter.Intro.Lists.html#7840" class="Bound">A</a>
<a id="7869" href="Chapter.Intro.Lists.html#7823" class="Function">fast-reverse</a> <a id="7882" href="Chapter.Intro.Lists.html#7882" class="Bound">xs</a> <a id="7885" class="Symbol">=</a> <a id="7887" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="7900" href="Chapter.Intro.Lists.html#7882" class="Bound">xs</a> <a id="7903" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
</pre>
<p>In order to show that <code class="language-plaintext highlighter-rouge">fast-reverse</code> and <code class="language-plaintext highlighter-rouge">reverse</code> are in fact two
different implementations of the same function we need the following
auxiliary result, relating <code class="language-plaintext highlighter-rouge">reverse-onto</code> and <code class="language-plaintext highlighter-rouge">reverse</code>.</p>

<pre class="Agda"><a id="lemma-reverse-onto"></a><a id="8109" href="Chapter.Intro.Lists.html#8109" class="Function">lemma-reverse-onto</a> <a id="8128" class="Symbol">:</a> <a id="8130" class="Symbol">∀{</a><a id="8132" href="Chapter.Intro.Lists.html#8132" class="Bound">A</a> <a id="8134" class="Symbol">:</a> <a id="8136" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="8139" class="Symbol">}</a> <a id="8141" class="Symbol">(</a><a id="8142" href="Chapter.Intro.Lists.html#8142" class="Bound">xs</a> <a id="8145" href="Chapter.Intro.Lists.html#8145" class="Bound">ys</a> <a id="8148" class="Symbol">:</a> <a id="8150" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="8155" href="Chapter.Intro.Lists.html#8132" class="Bound">A</a><a id="8156" class="Symbol">)</a> <a id="8158" class="Symbol">-&gt;</a> <a id="8161" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="8174" href="Chapter.Intro.Lists.html#8142" class="Bound">xs</a> <a id="8177" href="Chapter.Intro.Lists.html#8145" class="Bound">ys</a> <a id="8180" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="8183" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8191" href="Chapter.Intro.Lists.html#8142" class="Bound">xs</a> <a id="8194" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8197" href="Chapter.Intro.Lists.html#8145" class="Bound">ys</a>
<a id="8200" href="Chapter.Intro.Lists.html#8109" class="Function">lemma-reverse-onto</a> <a id="8219" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="8222" href="Chapter.Intro.Lists.html#8222" class="Bound">ys</a> <a id="8225" class="Symbol">=</a> <a id="8227" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="8232" href="Chapter.Intro.Lists.html#8109" class="Function">lemma-reverse-onto</a> <a id="8251" class="Symbol">(</a><a id="8252" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8254" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="8257" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a><a id="8259" class="Symbol">)</a> <a id="8261" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a> <a id="8264" class="Symbol">=</a>
  <a id="8268" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="8278" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="8291" class="Symbol">(</a><a id="8292" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8294" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="8297" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a><a id="8299" class="Symbol">)</a> <a id="8301" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a>   <a id="8306" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8310" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="8315" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8321" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="8334" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a> <a id="8337" class="Symbol">(</a><a id="8338" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8340" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="8343" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a><a id="8345" class="Symbol">)</a>   <a id="8349" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8353" href="Chapter.Intro.Lists.html#8109" class="Function">lemma-reverse-onto</a> <a id="8372" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a> <a id="8375" class="Symbol">(</a><a id="8376" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8378" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="8381" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a><a id="8383" class="Symbol">)</a> <a id="8385" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8391" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8399" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a> <a id="8402" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8405" class="Symbol">(</a><a id="8406" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8408" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="8411" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a><a id="8413" class="Symbol">)</a>     <a id="8419" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8423" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="8428" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8434" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8442" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a> <a id="8445" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8448" class="Symbol">(</a><a id="8449" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="8451" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8453" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="8455" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8458" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a><a id="8460" class="Symbol">)</a> <a id="8462" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8466" href="Chapter.Intro.Lists.html#3753" class="Function">++-assoc</a> <a id="8475" class="Symbol">(</a><a id="8476" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8484" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a><a id="8486" class="Symbol">)</a> <a id="8488" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="8490" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8492" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="8494" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a> <a id="8497" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8503" class="Symbol">(</a><a id="8504" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8512" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a> <a id="8515" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8518" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="8520" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8522" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="8523" class="Symbol">)</a> <a id="8525" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8528" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a> <a id="8531" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8535" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="8540" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8546" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8554" class="Symbol">(</a><a id="8555" href="Chapter.Intro.Lists.html#8252" class="Bound">x</a> <a id="8557" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="8560" href="Chapter.Intro.Lists.html#8257" class="Bound">xs</a><a id="8562" class="Symbol">)</a> <a id="8564" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8567" href="Chapter.Intro.Lists.html#8261" class="Bound">ys</a>
  <a id="8572" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>
<p>We can now complete the proof of <code class="language-plaintext highlighter-rouge">fast-reverse xs == reverse xs</code>.</p>

<pre class="Agda"><a id="fast-reverse-correct"></a><a id="8652" href="Chapter.Intro.Lists.html#8652" class="Function">fast-reverse-correct</a> <a id="8673" class="Symbol">:</a> <a id="8675" class="Symbol">∀{</a><a id="8677" href="Chapter.Intro.Lists.html#8677" class="Bound">A</a> <a id="8679" class="Symbol">:</a> <a id="8681" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="8684" class="Symbol">}</a> <a id="8686" class="Symbol">(</a><a id="8687" href="Chapter.Intro.Lists.html#8687" class="Bound">xs</a> <a id="8690" class="Symbol">:</a> <a id="8692" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="8697" href="Chapter.Intro.Lists.html#8677" class="Bound">A</a><a id="8698" class="Symbol">)</a> <a id="8700" class="Symbol">-&gt;</a> <a id="8703" href="Chapter.Intro.Lists.html#7823" class="Function">fast-reverse</a> <a id="8716" href="Chapter.Intro.Lists.html#8687" class="Bound">xs</a> <a id="8719" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="8722" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8730" href="Chapter.Intro.Lists.html#8687" class="Bound">xs</a>
<a id="8733" href="Chapter.Intro.Lists.html#8652" class="Function">fast-reverse-correct</a> <a id="8754" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a> <a id="8757" class="Symbol">=</a>
  <a id="8761" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="8771" href="Chapter.Intro.Lists.html#7823" class="Function">fast-reverse</a> <a id="8784" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a>    <a id="8790" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8794" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="8799" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8805" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="8818" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a> <a id="8821" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="8824" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="8828" href="Chapter.Intro.Lists.html#8109" class="Function">lemma-reverse-onto</a> <a id="8847" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a> <a id="8850" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="8853" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="8859" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8867" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a> <a id="8870" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="8873" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>     <a id="8880" href="Library.Equality.Reasoning.html#341" class="Function Operator">⟨</a> <a id="8882" href="Chapter.Intro.Lists.html#4247" class="Function">++-unit-r</a> <a id="8892" class="Symbol">(</a><a id="8893" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8901" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a><a id="8903" class="Symbol">)</a> <a id="8905" href="Library.Equality.Reasoning.html#341" class="Function Operator">⟩==</a>
    <a id="8913" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="8921" href="Chapter.Intro.Lists.html#8754" class="Bound">xs</a>
  <a id="8926" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>
<h2 id="exercises">Exercises</h2>

<p>Let <code class="language-plaintext highlighter-rouge">map</code> be the function defined below.</p>

<pre class="Agda"><a id="map"></a><a id="8995" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="8999" class="Symbol">:</a> <a id="9001" class="Symbol">∀{</a><a id="9003" href="Chapter.Intro.Lists.html#9003" class="Bound">A</a> <a id="9005" href="Chapter.Intro.Lists.html#9005" class="Bound">B</a> <a id="9007" class="Symbol">:</a> <a id="9009" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="9012" class="Symbol">}</a> <a id="9014" class="Symbol">-&gt;</a> <a id="9017" class="Symbol">(</a><a id="9018" href="Chapter.Intro.Lists.html#9003" class="Bound">A</a> <a id="9020" class="Symbol">-&gt;</a> <a id="9023" href="Chapter.Intro.Lists.html#9005" class="Bound">B</a><a id="9024" class="Symbol">)</a> <a id="9026" class="Symbol">-&gt;</a> <a id="9029" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="9034" href="Chapter.Intro.Lists.html#9003" class="Bound">A</a> <a id="9036" class="Symbol">-&gt;</a> <a id="9039" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="9044" href="Chapter.Intro.Lists.html#9005" class="Bound">B</a>
<a id="9046" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9050" href="Chapter.Intro.Lists.html#9050" class="Bound">f</a> <a id="9052" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="9062" class="Symbol">=</a> <a id="9064" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>
<a id="9067" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9071" href="Chapter.Intro.Lists.html#9071" class="Bound">f</a> <a id="9073" class="Symbol">(</a><a id="9074" href="Chapter.Intro.Lists.html#9074" class="Bound">x</a> <a id="9076" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="9079" href="Chapter.Intro.Lists.html#9079" class="Bound">xs</a><a id="9081" class="Symbol">)</a> <a id="9083" class="Symbol">=</a> <a id="9085" href="Chapter.Intro.Lists.html#9071" class="Bound">f</a> <a id="9087" href="Chapter.Intro.Lists.html#9074" class="Bound">x</a> <a id="9089" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="9092" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9096" href="Chapter.Intro.Lists.html#9071" class="Bound">f</a> <a id="9098" href="Chapter.Intro.Lists.html#9079" class="Bound">xs</a>
</pre>
<ol>
  <li>Prove that <code class="language-plaintext highlighter-rouge">length (map f xs) == length xs</code></li>
  <li>Prove that <code class="language-plaintext highlighter-rouge">map f (xs ++ ys) == map f xs ++ map f ys</code></li>
  <li>Prove that <code class="language-plaintext highlighter-rouge">map f (reverse xs) == reverse (map f xs)</code></li>
  <li>Prove that <code class="language-plaintext highlighter-rouge">(map f ∘ map g) xs == map (f ∘ g) xs</code></li>
</ol>

<pre class="Agda solution"><a id="map-length"></a><a id="9325" href="Chapter.Intro.Lists.html#9325" class="Function">map-length</a> <a id="9336" class="Symbol">:</a> <a id="9338" class="Symbol">∀{</a><a id="9340" href="Chapter.Intro.Lists.html#9340" class="Bound">A</a> <a id="9342" href="Chapter.Intro.Lists.html#9342" class="Bound">B</a> <a id="9344" class="Symbol">:</a> <a id="9346" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="9349" class="Symbol">}</a> <a id="9351" class="Symbol">(</a><a id="9352" href="Chapter.Intro.Lists.html#9352" class="Bound">f</a> <a id="9354" class="Symbol">:</a> <a id="9356" href="Chapter.Intro.Lists.html#9340" class="Bound">A</a> <a id="9358" class="Symbol">-&gt;</a> <a id="9361" href="Chapter.Intro.Lists.html#9342" class="Bound">B</a><a id="9362" class="Symbol">)</a> <a id="9364" class="Symbol">(</a><a id="9365" href="Chapter.Intro.Lists.html#9365" class="Bound">xs</a> <a id="9368" class="Symbol">:</a> <a id="9370" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="9375" href="Chapter.Intro.Lists.html#9340" class="Bound">A</a><a id="9376" class="Symbol">)</a> <a id="9378" class="Symbol">-&gt;</a> <a id="9381" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="9388" class="Symbol">(</a><a id="9389" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9393" href="Chapter.Intro.Lists.html#9352" class="Bound">f</a> <a id="9395" href="Chapter.Intro.Lists.html#9365" class="Bound">xs</a><a id="9397" class="Symbol">)</a> <a id="9399" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="9402" href="Chapter.Intro.Lists.html#2779" class="Function">length</a> <a id="9409" href="Chapter.Intro.Lists.html#9365" class="Bound">xs</a>
<a id="9412" href="Chapter.Intro.Lists.html#9325" class="Function">map-length</a> <a id="9423" href="Chapter.Intro.Lists.html#9423" class="Bound">f</a> <a id="9425" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="9428" class="Symbol">=</a> <a id="9430" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="9435" href="Chapter.Intro.Lists.html#9325" class="Function">map-length</a> <a id="9446" href="Chapter.Intro.Lists.html#9446" class="Bound">f</a> <a id="9448" class="Symbol">(</a><a id="9449" href="Chapter.Intro.Lists.html#9449" class="Bound">x</a> <a id="9451" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="9454" href="Chapter.Intro.Lists.html#9454" class="Bound">xs</a><a id="9456" class="Symbol">)</a> <a id="9458" class="Symbol">=</a> <a id="9460" href="Library.Equality.html#373" class="Function">cong</a> <a id="9465" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="9470" class="Symbol">(</a><a id="9471" href="Chapter.Intro.Lists.html#9325" class="Function">map-length</a> <a id="9482" href="Chapter.Intro.Lists.html#9446" class="Bound">f</a> <a id="9484" href="Chapter.Intro.Lists.html#9454" class="Bound">xs</a><a id="9486" class="Symbol">)</a>

<a id="map-++"></a><a id="9489" href="Chapter.Intro.Lists.html#9489" class="Function">map-++</a> <a id="9496" class="Symbol">:</a> <a id="9498" class="Symbol">∀{</a><a id="9500" href="Chapter.Intro.Lists.html#9500" class="Bound">A</a> <a id="9502" href="Chapter.Intro.Lists.html#9502" class="Bound">B</a> <a id="9504" class="Symbol">:</a> <a id="9506" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="9509" class="Symbol">}</a> <a id="9511" class="Symbol">(</a><a id="9512" href="Chapter.Intro.Lists.html#9512" class="Bound">f</a> <a id="9514" class="Symbol">:</a> <a id="9516" href="Chapter.Intro.Lists.html#9500" class="Bound">A</a> <a id="9518" class="Symbol">-&gt;</a> <a id="9521" href="Chapter.Intro.Lists.html#9502" class="Bound">B</a><a id="9522" class="Symbol">)</a> <a id="9524" class="Symbol">(</a><a id="9525" href="Chapter.Intro.Lists.html#9525" class="Bound">xs</a> <a id="9528" href="Chapter.Intro.Lists.html#9528" class="Bound">ys</a> <a id="9531" class="Symbol">:</a> <a id="9533" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="9538" href="Chapter.Intro.Lists.html#9500" class="Bound">A</a><a id="9539" class="Symbol">)</a> <a id="9541" class="Symbol">-&gt;</a> <a id="9544" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9548" href="Chapter.Intro.Lists.html#9512" class="Bound">f</a> <a id="9550" class="Symbol">(</a><a id="9551" href="Chapter.Intro.Lists.html#9525" class="Bound">xs</a> <a id="9554" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="9557" href="Chapter.Intro.Lists.html#9528" class="Bound">ys</a><a id="9559" class="Symbol">)</a> <a id="9561" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="9564" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9568" href="Chapter.Intro.Lists.html#9512" class="Bound">f</a> <a id="9570" href="Chapter.Intro.Lists.html#9525" class="Bound">xs</a> <a id="9573" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="9576" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9580" href="Chapter.Intro.Lists.html#9512" class="Bound">f</a> <a id="9582" href="Chapter.Intro.Lists.html#9528" class="Bound">ys</a>
<a id="9585" href="Chapter.Intro.Lists.html#9489" class="Function">map-++</a> <a id="9592" href="Chapter.Intro.Lists.html#9592" class="Bound">f</a> <a id="9594" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>        <a id="9604" href="Chapter.Intro.Lists.html#9604" class="Bound">ys</a> <a id="9607" class="Symbol">=</a> <a id="9609" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="9614" href="Chapter.Intro.Lists.html#9489" class="Function">map-++</a> <a id="9621" href="Chapter.Intro.Lists.html#9621" class="Bound">f</a> <a id="9623" class="Symbol">(</a><a id="9624" href="Chapter.Intro.Lists.html#9624" class="Bound">x</a> <a id="9626" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="9629" href="Chapter.Intro.Lists.html#9629" class="Bound">xs</a><a id="9631" class="Symbol">)</a> <a id="9633" href="Chapter.Intro.Lists.html#9633" class="Bound">ys</a> <a id="9636" class="Symbol">=</a> <a id="9638" href="Library.Equality.html#373" class="Function">cong</a> <a id="9643" class="Symbol">(</a><a id="9644" href="Chapter.Intro.Lists.html#9621" class="Bound">f</a> <a id="9646" href="Chapter.Intro.Lists.html#9624" class="Bound">x</a> <a id="9648" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::_</a><a id="9651" class="Symbol">)</a> <a id="9653" class="Symbol">(</a><a id="9654" href="Chapter.Intro.Lists.html#9489" class="Function">map-++</a> <a id="9661" href="Chapter.Intro.Lists.html#9621" class="Bound">f</a> <a id="9663" href="Chapter.Intro.Lists.html#9629" class="Bound">xs</a> <a id="9666" href="Chapter.Intro.Lists.html#9633" class="Bound">ys</a><a id="9668" class="Symbol">)</a>

<a id="map-reverse"></a><a id="9671" href="Chapter.Intro.Lists.html#9671" class="Function">map-reverse</a> <a id="9683" class="Symbol">:</a> <a id="9685" class="Symbol">∀{</a><a id="9687" href="Chapter.Intro.Lists.html#9687" class="Bound">A</a> <a id="9689" href="Chapter.Intro.Lists.html#9689" class="Bound">B</a> <a id="9691" class="Symbol">:</a> <a id="9693" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="9696" class="Symbol">}</a> <a id="9698" class="Symbol">(</a><a id="9699" href="Chapter.Intro.Lists.html#9699" class="Bound">f</a> <a id="9701" class="Symbol">:</a> <a id="9703" href="Chapter.Intro.Lists.html#9687" class="Bound">A</a> <a id="9705" class="Symbol">-&gt;</a> <a id="9708" href="Chapter.Intro.Lists.html#9689" class="Bound">B</a><a id="9709" class="Symbol">)</a> <a id="9711" class="Symbol">(</a><a id="9712" href="Chapter.Intro.Lists.html#9712" class="Bound">xs</a> <a id="9715" class="Symbol">:</a> <a id="9717" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="9722" href="Chapter.Intro.Lists.html#9687" class="Bound">A</a><a id="9723" class="Symbol">)</a> <a id="9725" class="Symbol">-&gt;</a> <a id="9728" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9732" href="Chapter.Intro.Lists.html#9699" class="Bound">f</a> <a id="9734" class="Symbol">(</a><a id="9735" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="9743" href="Chapter.Intro.Lists.html#9712" class="Bound">xs</a><a id="9745" class="Symbol">)</a> <a id="9747" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="9750" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="9758" class="Symbol">(</a><a id="9759" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9763" href="Chapter.Intro.Lists.html#9699" class="Bound">f</a> <a id="9765" href="Chapter.Intro.Lists.html#9712" class="Bound">xs</a><a id="9767" class="Symbol">)</a>
<a id="9769" href="Chapter.Intro.Lists.html#9671" class="Function">map-reverse</a> <a id="9781" href="Chapter.Intro.Lists.html#9781" class="Bound">f</a> <a id="9783" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="9786" class="Symbol">=</a> <a id="9788" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="9793" href="Chapter.Intro.Lists.html#9671" class="Function">map-reverse</a> <a id="9805" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="9807" class="Symbol">(</a><a id="9808" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="9810" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="9813" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="9815" class="Symbol">)</a> <a id="9817" class="Symbol">=</a>
  <a id="9821" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="9831" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9835" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="9837" class="Symbol">(</a><a id="9838" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="9846" class="Symbol">(</a><a id="9847" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="9849" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="9852" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="9854" class="Symbol">))</a>                   <a id="9875" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="9879" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="9884" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="9890" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9894" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="9896" class="Symbol">(</a><a id="9897" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="9905" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a> <a id="9908" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="9911" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="9913" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="9915" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="9916" class="Symbol">)</a>                 <a id="9934" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="9938" href="Chapter.Intro.Lists.html#9489" class="Function">map-++</a> <a id="9945" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="9947" class="Symbol">(</a><a id="9948" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="9956" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="9958" class="Symbol">)</a> <a id="9960" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="9962" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="9964" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="9966" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="9972" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9976" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="9978" class="Symbol">(</a><a id="9979" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="9987" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="9989" class="Symbol">)</a> <a id="9991" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="9994" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="9998" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10000" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="10002" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10004" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a>           <a id="10016" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10020" href="Library.Equality.html#373" class="Function">cong</a> <a id="10025" class="Symbol">(</a><a id="10026" href="Chapter.Intro.Lists.html#3096" class="Function Operator">_++</a> <a id="10030" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10034" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10036" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="10038" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10040" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="10041" class="Symbol">)</a> <a id="10043" class="Symbol">(</a><a id="10044" href="Chapter.Intro.Lists.html#9671" class="Function">map-reverse</a> <a id="10056" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10058" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="10060" class="Symbol">)</a> <a id="10062" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10068" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="10076" class="Symbol">(</a><a id="10077" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10081" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10083" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="10085" class="Symbol">)</a> <a id="10087" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="10090" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10094" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10096" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="10098" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10100" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a>           <a id="10112" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10116" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10121" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10127" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="10135" class="Symbol">(</a><a id="10136" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10140" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10142" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="10144" class="Symbol">)</a> <a id="10146" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="10149" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="10157" class="Symbol">(</a><a id="10158" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10162" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10164" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="10166" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10168" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="10169" class="Symbol">)</a> <a id="10171" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10175" href="Chapter.Intro.Lists.html#5646" class="Function">reverse-++</a> <a id="10186" class="Symbol">(</a><a id="10187" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10191" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10193" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="10195" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10197" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a><a id="10198" class="Symbol">)</a> <a id="10200" class="Symbol">(</a><a id="10201" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10205" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10207" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="10209" class="Symbol">)</a> <a id="10211" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10217" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="10225" class="Symbol">(</a><a id="10226" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10230" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10232" href="Chapter.Intro.Lists.html#2229" class="Function Operator">[</a> <a id="10234" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10236" href="Chapter.Intro.Lists.html#2229" class="Function Operator">]</a> <a id="10238" href="Chapter.Intro.Lists.html#3096" class="Function Operator">++</a> <a id="10241" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10245" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10247" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="10249" class="Symbol">)</a>           <a id="10261" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10265" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10270" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10276" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="10284" class="Symbol">(</a><a id="10285" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10289" href="Chapter.Intro.Lists.html#9805" class="Bound">f</a> <a id="10291" class="Symbol">(</a><a id="10292" href="Chapter.Intro.Lists.html#9808" class="Bound">x</a> <a id="10294" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10297" href="Chapter.Intro.Lists.html#9813" class="Bound">xs</a><a id="10299" class="Symbol">))</a>
  <a id="10304" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>

<a id="map-∘"></a><a id="10309" href="Chapter.Intro.Lists.html#10309" class="Function">map-∘</a> <a id="10315" class="Symbol">:</a> <a id="10317" class="Symbol">∀{</a><a id="10319" href="Chapter.Intro.Lists.html#10319" class="Bound">A</a> <a id="10321" href="Chapter.Intro.Lists.html#10321" class="Bound">B</a> <a id="10323" href="Chapter.Intro.Lists.html#10323" class="Bound">C</a> <a id="10325" class="Symbol">:</a> <a id="10327" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="10330" class="Symbol">}</a> <a id="10332" class="Symbol">(</a><a id="10333" href="Chapter.Intro.Lists.html#10333" class="Bound">f</a> <a id="10335" class="Symbol">:</a> <a id="10337" href="Chapter.Intro.Lists.html#10321" class="Bound">B</a> <a id="10339" class="Symbol">-&gt;</a> <a id="10342" href="Chapter.Intro.Lists.html#10323" class="Bound">C</a><a id="10343" class="Symbol">)</a> <a id="10345" class="Symbol">(</a><a id="10346" href="Chapter.Intro.Lists.html#10346" class="Bound">g</a> <a id="10348" class="Symbol">:</a> <a id="10350" href="Chapter.Intro.Lists.html#10319" class="Bound">A</a> <a id="10352" class="Symbol">-&gt;</a> <a id="10355" href="Chapter.Intro.Lists.html#10321" class="Bound">B</a><a id="10356" class="Symbol">)</a> <a id="10358" class="Symbol">(</a><a id="10359" href="Chapter.Intro.Lists.html#10359" class="Bound">xs</a> <a id="10362" class="Symbol">:</a> <a id="10364" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="10369" href="Chapter.Intro.Lists.html#10319" class="Bound">A</a><a id="10370" class="Symbol">)</a> <a id="10372" class="Symbol">-&gt;</a>
  <a id="10377" class="Symbol">(</a><a id="10378" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10382" href="Chapter.Intro.Lists.html#10333" class="Bound">f</a> <a id="10384" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10386" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10390" href="Chapter.Intro.Lists.html#10346" class="Bound">g</a><a id="10391" class="Symbol">)</a> <a id="10393" href="Chapter.Intro.Lists.html#10359" class="Bound">xs</a> <a id="10396" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="10399" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10403" class="Symbol">(</a><a id="10404" href="Chapter.Intro.Lists.html#10333" class="Bound">f</a> <a id="10406" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10408" href="Chapter.Intro.Lists.html#10346" class="Bound">g</a><a id="10409" class="Symbol">)</a> <a id="10411" href="Chapter.Intro.Lists.html#10359" class="Bound">xs</a>
<a id="10414" href="Chapter.Intro.Lists.html#10309" class="Function">map-∘</a> <a id="10420" href="Chapter.Intro.Lists.html#10420" class="Bound">f</a> <a id="10422" href="Chapter.Intro.Lists.html#10422" class="Bound">g</a> <a id="10424" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="10427" class="Symbol">=</a> <a id="10429" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="10434" href="Chapter.Intro.Lists.html#10309" class="Function">map-∘</a> <a id="10440" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10442" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10444" class="Symbol">(</a><a id="10445" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10447" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10450" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10452" class="Symbol">)</a> <a id="10454" class="Symbol">=</a>
  <a id="10458" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="10468" class="Symbol">(</a><a id="10469" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10473" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10475" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10477" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10481" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10482" class="Symbol">)</a> <a id="10484" class="Symbol">(</a><a id="10485" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10487" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10490" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10492" class="Symbol">)</a>       <a id="10500" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10504" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10509" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10515" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10519" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10521" class="Symbol">(</a><a id="10522" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10526" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10528" class="Symbol">(</a><a id="10529" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10531" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10534" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10536" class="Symbol">))</a>         <a id="10547" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10551" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10556" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10562" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10566" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10568" class="Symbol">(</a><a id="10569" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10571" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10573" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10576" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10580" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10582" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10584" class="Symbol">)</a>         <a id="10594" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10598" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10603" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10609" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10611" class="Symbol">(</a><a id="10612" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10614" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a><a id="10615" class="Symbol">)</a> <a id="10617" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10620" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10624" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10626" class="Symbol">(</a><a id="10627" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10631" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10633" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10635" class="Symbol">)</a>     <a id="10641" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10645" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10650" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10656" class="Symbol">(</a><a id="10657" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10659" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10661" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10662" class="Symbol">)</a> <a id="10664" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10666" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10674" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10676" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10678" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10682" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10683" class="Symbol">)</a> <a id="10685" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a> <a id="10688" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10692" href="Library.Equality.html#373" class="Function">cong</a> <a id="10697" class="Symbol">((</a><a id="10699" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10701" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10703" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10704" class="Symbol">)</a> <a id="10706" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10708" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::_</a><a id="10711" class="Symbol">)</a> <a id="10713" class="Symbol">(</a><a id="10714" href="Chapter.Intro.Lists.html#10309" class="Function">map-∘</a> <a id="10720" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10722" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a> <a id="10724" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10726" class="Symbol">)</a> <a id="10728" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10734" class="Symbol">(</a><a id="10735" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10737" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10739" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10740" class="Symbol">)</a> <a id="10742" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10744" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10747" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10751" class="Symbol">(</a><a id="10752" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10754" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10756" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10757" class="Symbol">)</a> <a id="10759" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a>     <a id="10766" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="10770" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="10775" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="10781" href="Chapter.Intro.Lists.html#8995" class="Function">map</a> <a id="10785" class="Symbol">(</a><a id="10786" href="Chapter.Intro.Lists.html#10440" class="Bound">f</a> <a id="10788" href="Library.Fun.html#112" class="Function Operator">∘</a> <a id="10790" href="Chapter.Intro.Lists.html#10442" class="Bound">g</a><a id="10791" class="Symbol">)</a> <a id="10793" class="Symbol">(</a><a id="10794" href="Chapter.Intro.Lists.html#10445" class="Bound">x</a> <a id="10796" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10799" href="Chapter.Intro.Lists.html#10450" class="Bound">xs</a><a id="10801" class="Symbol">)</a>
  <a id="10805" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>

<!--
Let `foldl` and `foldr` be the functions defined

<pre class="Agda"><a id="foldr"></a><a id="10886" href="Chapter.Intro.Lists.html#10886" class="Function">foldr</a> <a id="10892" class="Symbol">:</a> <a id="10894" class="Symbol">{</a><a id="10895" href="Chapter.Intro.Lists.html#10895" class="Bound">A</a> <a id="10897" href="Chapter.Intro.Lists.html#10897" class="Bound">B</a> <a id="10899" class="Symbol">:</a> <a id="10901" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="10904" class="Symbol">}</a> <a id="10906" class="Symbol">-&gt;</a> <a id="10909" class="Symbol">(</a><a id="10910" href="Chapter.Intro.Lists.html#10895" class="Bound">A</a> <a id="10912" class="Symbol">-&gt;</a> <a id="10915" href="Chapter.Intro.Lists.html#10897" class="Bound">B</a> <a id="10917" class="Symbol">-&gt;</a> <a id="10920" href="Chapter.Intro.Lists.html#10897" class="Bound">B</a><a id="10921" class="Symbol">)</a> <a id="10923" class="Symbol">-&gt;</a> <a id="10926" href="Chapter.Intro.Lists.html#10897" class="Bound">B</a> <a id="10928" class="Symbol">-&gt;</a> <a id="10931" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="10936" href="Chapter.Intro.Lists.html#10895" class="Bound">A</a> <a id="10938" class="Symbol">-&gt;</a> <a id="10941" href="Chapter.Intro.Lists.html#10897" class="Bound">B</a>
<a id="10943" href="Chapter.Intro.Lists.html#10886" class="Function">foldr</a> <a id="10949" href="Chapter.Intro.Lists.html#10949" class="Bound">f</a> <a id="10951" href="Chapter.Intro.Lists.html#10951" class="Bound">a</a> <a id="10953" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="10956" class="Symbol">=</a> <a id="10958" href="Chapter.Intro.Lists.html#10951" class="Bound">a</a>
<a id="10960" href="Chapter.Intro.Lists.html#10886" class="Function">foldr</a> <a id="10966" href="Chapter.Intro.Lists.html#10966" class="Bound">f</a> <a id="10968" href="Chapter.Intro.Lists.html#10968" class="Bound">a</a> <a id="10970" class="Symbol">(</a><a id="10971" href="Chapter.Intro.Lists.html#10971" class="Bound">x</a> <a id="10973" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="10976" href="Chapter.Intro.Lists.html#10976" class="Bound">xs</a><a id="10978" class="Symbol">)</a> <a id="10980" class="Symbol">=</a> <a id="10982" href="Chapter.Intro.Lists.html#10966" class="Bound">f</a> <a id="10984" href="Chapter.Intro.Lists.html#10971" class="Bound">x</a> <a id="10986" class="Symbol">(</a><a id="10987" href="Chapter.Intro.Lists.html#10886" class="Function">foldr</a> <a id="10993" href="Chapter.Intro.Lists.html#10966" class="Bound">f</a> <a id="10995" href="Chapter.Intro.Lists.html#10968" class="Bound">a</a> <a id="10997" href="Chapter.Intro.Lists.html#10976" class="Bound">xs</a><a id="10999" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="foldl"></a><a id="11010" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11016" class="Symbol">:</a> <a id="11018" class="Symbol">{</a><a id="11019" href="Chapter.Intro.Lists.html#11019" class="Bound">A</a> <a id="11021" href="Chapter.Intro.Lists.html#11021" class="Bound">B</a> <a id="11023" class="Symbol">:</a> <a id="11025" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="11028" class="Symbol">}</a> <a id="11030" class="Symbol">-&gt;</a> <a id="11033" class="Symbol">(</a><a id="11034" href="Chapter.Intro.Lists.html#11019" class="Bound">A</a> <a id="11036" class="Symbol">-&gt;</a> <a id="11039" href="Chapter.Intro.Lists.html#11021" class="Bound">B</a> <a id="11041" class="Symbol">-&gt;</a> <a id="11044" href="Chapter.Intro.Lists.html#11019" class="Bound">A</a><a id="11045" class="Symbol">)</a> <a id="11047" class="Symbol">-&gt;</a> <a id="11050" href="Chapter.Intro.Lists.html#11019" class="Bound">A</a> <a id="11052" class="Symbol">-&gt;</a> <a id="11055" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="11060" href="Chapter.Intro.Lists.html#11021" class="Bound">B</a> <a id="11062" class="Symbol">-&gt;</a> <a id="11065" href="Chapter.Intro.Lists.html#11019" class="Bound">A</a>
<a id="11067" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11073" href="Chapter.Intro.Lists.html#11073" class="Bound">f</a> <a id="11075" href="Chapter.Intro.Lists.html#11075" class="Bound">a</a> <a id="11077" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="11080" class="Symbol">=</a> <a id="11082" href="Chapter.Intro.Lists.html#11075" class="Bound">a</a>
<a id="11084" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11090" href="Chapter.Intro.Lists.html#11090" class="Bound">f</a> <a id="11092" href="Chapter.Intro.Lists.html#11092" class="Bound">a</a> <a id="11094" class="Symbol">(</a><a id="11095" href="Chapter.Intro.Lists.html#11095" class="Bound">x</a> <a id="11097" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11100" href="Chapter.Intro.Lists.html#11100" class="Bound">xs</a><a id="11102" class="Symbol">)</a> <a id="11104" class="Symbol">=</a> <a id="11106" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11112" href="Chapter.Intro.Lists.html#11090" class="Bound">f</a> <a id="11114" class="Symbol">(</a><a id="11115" href="Chapter.Intro.Lists.html#11090" class="Bound">f</a> <a id="11117" href="Chapter.Intro.Lists.html#11092" class="Bound">a</a> <a id="11119" href="Chapter.Intro.Lists.html#11095" class="Bound">x</a><a id="11120" class="Symbol">)</a> <a id="11122" href="Chapter.Intro.Lists.html#11100" class="Bound">xs</a>
</pre>
<pre class="Agda"><a id="foldl-reverse-onto"></a><a id="11134" href="Chapter.Intro.Lists.html#11134" class="Function">foldl-reverse-onto</a> <a id="11153" class="Symbol">:</a> <a id="11155" class="Symbol">{</a><a id="11156" href="Chapter.Intro.Lists.html#11156" class="Bound">A</a> <a id="11158" class="Symbol">:</a> <a id="11160" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="11163" class="Symbol">}</a> <a id="11165" class="Symbol">(</a><a id="11166" href="Chapter.Intro.Lists.html#11166" class="Bound">xs</a> <a id="11169" href="Chapter.Intro.Lists.html#11169" class="Bound">ys</a> <a id="11172" class="Symbol">:</a> <a id="11174" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="11179" href="Chapter.Intro.Lists.html#11156" class="Bound">A</a><a id="11180" class="Symbol">)</a> <a id="11182" class="Symbol">-&gt;</a> <a id="11185" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11191" class="Symbol">(</a><a id="11192" href="Library.Fun.html#187" class="Function">flip</a> <a id="11197" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a><a id="11201" class="Symbol">)</a> <a id="11203" href="Chapter.Intro.Lists.html#11169" class="Bound">ys</a> <a id="11206" href="Chapter.Intro.Lists.html#11166" class="Bound">xs</a> <a id="11209" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11212" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="11225" href="Chapter.Intro.Lists.html#11166" class="Bound">xs</a> <a id="11228" href="Chapter.Intro.Lists.html#11169" class="Bound">ys</a>
<a id="11231" href="Chapter.Intro.Lists.html#11134" class="Function">foldl-reverse-onto</a> <a id="11250" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="11253" href="Chapter.Intro.Lists.html#11253" class="Bound">ys</a> <a id="11256" class="Symbol">=</a> <a id="11258" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="11263" href="Chapter.Intro.Lists.html#11134" class="Function">foldl-reverse-onto</a> <a id="11282" class="Symbol">(</a><a id="11283" href="Chapter.Intro.Lists.html#11283" class="Bound">x</a> <a id="11285" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11288" href="Chapter.Intro.Lists.html#11288" class="Bound">xs</a><a id="11290" class="Symbol">)</a> <a id="11292" href="Chapter.Intro.Lists.html#11292" class="Bound">ys</a> <a id="11295" class="Symbol">=</a>
  <a id="11299" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="11309" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Library.Fun.html#187" class="Function">flip</a> <a id="11321" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a><a id="11325" class="Symbol">)</a> <a id="11327" href="Chapter.Intro.Lists.html#11292" class="Bound">ys</a> <a id="11330" class="Symbol">(</a><a id="11331" href="Chapter.Intro.Lists.html#11283" class="Bound">x</a> <a id="11333" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11336" href="Chapter.Intro.Lists.html#11288" class="Bound">xs</a><a id="11338" class="Symbol">)</a> <a id="11340" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="11344" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="11349" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="11355" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11361" class="Symbol">(</a><a id="11362" href="Library.Fun.html#187" class="Function">flip</a> <a id="11367" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a><a id="11371" class="Symbol">)</a> <a id="11373" class="Symbol">(</a><a id="11374" href="Chapter.Intro.Lists.html#11283" class="Bound">x</a> <a id="11376" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11379" href="Chapter.Intro.Lists.html#11292" class="Bound">ys</a><a id="11381" class="Symbol">)</a> <a id="11383" href="Chapter.Intro.Lists.html#11288" class="Bound">xs</a> <a id="11386" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="11390" href="Chapter.Intro.Lists.html#11134" class="Function">foldl-reverse-onto</a> <a id="11409" href="Chapter.Intro.Lists.html#11288" class="Bound">xs</a> <a id="11412" class="Symbol">(</a><a id="11413" href="Chapter.Intro.Lists.html#11283" class="Bound">x</a> <a id="11415" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11418" href="Chapter.Intro.Lists.html#11292" class="Bound">ys</a><a id="11420" class="Symbol">)</a> <a id="11422" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="11428" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="11441" href="Chapter.Intro.Lists.html#11288" class="Bound">xs</a> <a id="11444" class="Symbol">(</a><a id="11445" href="Chapter.Intro.Lists.html#11283" class="Bound">x</a> <a id="11447" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11450" href="Chapter.Intro.Lists.html#11292" class="Bound">ys</a><a id="11452" class="Symbol">)</a>      <a id="11459" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="11463" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="11468" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="11474" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="11487" class="Symbol">(</a><a id="11488" href="Chapter.Intro.Lists.html#11283" class="Bound">x</a> <a id="11490" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">::</a> <a id="11493" href="Chapter.Intro.Lists.html#11288" class="Bound">xs</a><a id="11495" class="Symbol">)</a> <a id="11497" href="Chapter.Intro.Lists.html#11292" class="Bound">ys</a>
  <a id="11502" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>

<a id="foldl-reverse"></a><a id="11507" href="Chapter.Intro.Lists.html#11507" class="Function">foldl-reverse</a> <a id="11521" class="Symbol">:</a> <a id="11523" class="Symbol">{</a><a id="11524" href="Chapter.Intro.Lists.html#11524" class="Bound">A</a> <a id="11526" class="Symbol">:</a> <a id="11528" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="11531" class="Symbol">}</a> <a id="11533" class="Symbol">(</a><a id="11534" href="Chapter.Intro.Lists.html#11534" class="Bound">xs</a> <a id="11537" class="Symbol">:</a> <a id="11539" href="Chapter.Intro.Lists.html#957" class="Datatype">List</a> <a id="11544" href="Chapter.Intro.Lists.html#11524" class="Bound">A</a><a id="11545" class="Symbol">)</a> <a id="11547" class="Symbol">-&gt;</a> <a id="11550" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11556" class="Symbol">(</a><a id="11557" href="Library.Fun.html#187" class="Function">flip</a> <a id="11562" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a><a id="11566" class="Symbol">)</a> <a id="11568" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="11571" href="Chapter.Intro.Lists.html#11534" class="Bound">xs</a> <a id="11574" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11577" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="11585" href="Chapter.Intro.Lists.html#11534" class="Bound">xs</a>
<a id="11588" href="Chapter.Intro.Lists.html#11507" class="Function">foldl-reverse</a> <a id="11602" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a> <a id="11605" class="Symbol">=</a>
  <a id="11609" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
    <a id="11619" href="Chapter.Intro.Lists.html#11010" class="Function">foldl</a> <a id="11625" class="Symbol">(</a><a id="11626" href="Library.Fun.html#187" class="Function">flip</a> <a id="11631" href="Chapter.Intro.Lists.html#1002" class="InductiveConstructor Operator">_::_</a><a id="11635" class="Symbol">)</a> <a id="11637" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="11640" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a> <a id="11643" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="11647" href="Chapter.Intro.Lists.html#11134" class="Function">foldl-reverse-onto</a> <a id="11666" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a> <a id="11669" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a> <a id="11672" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="11678" href="Chapter.Intro.Lists.html#7352" class="Function">reverse-onto</a> <a id="11691" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a> <a id="11694" href="Chapter.Intro.Lists.html#986" class="InductiveConstructor">[]</a>      <a id="11702" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="11706" href="Library.Equality.html#125" class="InductiveConstructor">refl</a> <a id="11711" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="11717" href="Chapter.Intro.Lists.html#7823" class="Function">fast-reverse</a> <a id="11730" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a>         <a id="11741" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="11745" href="Chapter.Intro.Lists.html#8652" class="Function">fast-reverse-correct</a> <a id="11766" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a> <a id="11769" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
    <a id="11775" href="Chapter.Intro.Lists.html#4774" class="Function">reverse</a> <a id="11783" href="Chapter.Intro.Lists.html#11602" class="Bound">xs</a>
  <a id="11788" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
</pre>-->

  </div>
  <ul class="menu">
  <li>
    <a href="Chapter.Intro.Polymorphism.html">‹ Polymorphic functions and implicit arguments</a></li>
  <li><a href="Main.html">Table of contents ›</a></li>
</ul>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>
  <div class="wrapper">
    <!-- <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"> -->
    <!--   <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png"/> -->
    <!-- </a> -->
    2022-2023
    <a href="https://boystrange.github.io">Luca Padovani</a>
    and <a href="http://www.di.unito.it/~deligu/">Ugo de'Liguoro</a>.
    Page generated on 20 Sep 2023.
  </div>
</footer>
</body>

</html>
