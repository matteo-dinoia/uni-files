<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Small-step operational semantics | Introduction to Program Verification in Agda</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Small-step operational semantics" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="Introduction to Program Verification in Agda" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Small-step operational semantics" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Small-step operational semantics","url":"/pages/Chapter.Imp.SmallStep.html"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="../assets/css/main.css">
  <link rel="stylesheet" href="../assets/css/Agda.css">
  <script src="../assets/js/mathjax.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="../assets/js/codereveal.js"></script>
  <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Introduction to Program Verification in Agda" /><!-- <script src="/assets/js/clipboard.min.js"></script> -->
  <!-- <script src="/assets/js/codeselect.js"></script> -->
</head>
<body>

<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="../index.html">Introduction to Program Verification in Agda</a>
    

    <nav class="site-nav">
      <a href="https://agda.readthedocs.io/en/latest/">AGDA DOCS</a>
    </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">
  <ul class="menu">
  <li>
    <a href="Chapter.Imp.BigStep.html">‹ Big-step operational semantics</a></li>
  <li>
    <a href="Chapter.Imp.HoareLogic.html">Hoare Logic for verification of IMP programs ›</a></li>
</ul>
  <header class="post-header">
    <h1 class="post-title">Small-step operational semantics</h1>
  </header>

  <div class="post-content">
    <!--
<pre class="Agda"><a id="119" class="Symbol">{-#</a> <a id="123" class="Keyword">OPTIONS</a> <a id="131" class="Pragma">--allow-unsolved-metas</a> <a id="154" class="Symbol">#-}</a>
</pre>-->

<pre class="Agda"><a id="171" class="Keyword">module</a> <a id="178" href="Chapter.Imp.SmallStep.html" class="Module">Chapter.Imp.SmallStep</a> <a id="200" class="Keyword">where</a>
</pre>
<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="228" class="Keyword">open</a> <a id="233" class="Keyword">import</a> <a id="240" href="Library.Bool.html" class="Module">Library.Bool</a>
<a id="253" class="Keyword">open</a> <a id="258" class="Keyword">import</a> <a id="265" href="Library.Nat.html" class="Module">Library.Nat</a>
<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Library.Nat.Properties.html" class="Module">Library.Nat.Properties</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Library.Logic.html" class="Module">Library.Logic</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Library.Logic.Laws.html" class="Module">Library.Logic.Laws</a>
<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Library.Equality.html" class="Module">Library.Equality</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Library.Equality.Reasoning.html" class="Module">Library.Equality.Reasoning</a>

<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Chapter.Imp.AexpBexp.html" class="Module">Chapter.Imp.AexpBexp</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Chapter.Imp.BigStep.html" class="Module">Chapter.Imp.BigStep</a>
</pre>
<p>An alternative approach to the operational semantics w.r.t. the big-step semantics is 
the <strong>structured operational semantics</strong> initiated by Gordon Plotkin in his famous
<em>Pisa notes</em>, and commonly called <strong>small-step</strong> semantics in the literature.
The idea is to describe the computation of a command out of
an initial state via a transition relation modelling its execution step by step.</p>

<h2 id="one-step-reduction-relation">One-step reduction relation</h2>

<p>Recall that a  <strong>configuration</strong> is a pair <code class="language-plaintext highlighter-rouge">⦅ c , s ⦆</code> of a command <code class="language-plaintext highlighter-rouge">c</code> and a state <code class="language-plaintext highlighter-rouge">s</code>.
Then we define the relation <code class="language-plaintext highlighter-rouge">⦅ c , s ⦆ ⟶ ⦅ c' , s' ⦆</code> to model the execution of the “leftmost”
command in <code class="language-plaintext highlighter-rouge">c</code> starting with <code class="language-plaintext highlighter-rouge">s</code> and  producing a new configuration <code class="language-plaintext highlighter-rouge">⦅ c' , s' ⦆</code> where
<code class="language-plaintext highlighter-rouge">c'</code> is what remains to be executed of <code class="language-plaintext highlighter-rouge">c</code>, called the <strong>continuation</strong>, and
<code class="language-plaintext highlighter-rouge">s'</code> is the new state produced by the execution step. By adopting terminology
from the λ-calculus, when <code class="language-plaintext highlighter-rouge">⦅ c , s ⦆ ⟶ ⦅ c' , s' ⦆</code> holds
we say that <code class="language-plaintext highlighter-rouge">⦅ c , s ⦆</code> <strong>reduces in one step</strong> to <code class="language-plaintext highlighter-rouge">⦅ c' , s' ⦆</code> and call
the relation <code class="language-plaintext highlighter-rouge">⟶</code> the <strong>one-step reduction</strong>.</p>

<pre class="Agda"><a id="1543" class="Keyword">data</a> <a id="_⟶_"></a><a id="1548" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">_⟶_</a> <a id="1552" class="Symbol">:</a> <a id="1554" href="Chapter.Imp.BigStep.html#3306" class="Datatype">Config</a> <a id="1561" class="Symbol">-&gt;</a> <a id="1564" href="Chapter.Imp.BigStep.html#3306" class="Datatype">Config</a> <a id="1571" class="Symbol">-&gt;</a> <a id="1574" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1578" class="Keyword">where</a>  <a id="1585" class="Comment">-- the symbol ⟶ is written \--&gt;</a>


  <a id="_⟶_.Loc"></a><a id="1621" href="Chapter.Imp.SmallStep.html#1621" class="InductiveConstructor">Loc</a> <a id="1625" class="Symbol">:</a> <a id="1627" class="Symbol">∀{</a><a id="1629" href="Chapter.Imp.SmallStep.html#1629" class="Bound">x</a> <a id="1631" href="Chapter.Imp.SmallStep.html#1631" class="Bound">a</a> <a id="1633" href="Chapter.Imp.SmallStep.html#1633" class="Bound">s</a><a id="1634" class="Symbol">}</a>
        <a id="1644" class="Comment">--------------------------------------------------</a>
      <a id="1701" class="Symbol">-&gt;</a> <a id="1704" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="1706" href="Chapter.Imp.SmallStep.html#1629" class="Bound">x</a> <a id="1708" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="1711" href="Chapter.Imp.SmallStep.html#1631" class="Bound">a</a> <a id="1713" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="1715" href="Chapter.Imp.SmallStep.html#1633" class="Bound">s</a> <a id="1717" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="1719" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="1721" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="1723" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="1728" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="1730" href="Chapter.Imp.SmallStep.html#1633" class="Bound">s</a> <a id="1732" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="1734" href="Chapter.Imp.SmallStep.html#1629" class="Bound">x</a> <a id="1736" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="1740" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="1745" href="Chapter.Imp.SmallStep.html#1631" class="Bound">a</a> <a id="1747" href="Chapter.Imp.SmallStep.html#1633" class="Bound">s</a> <a id="1749" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a> <a id="1751" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>

  <a id="_⟶_.Comp₁"></a><a id="1756" href="Chapter.Imp.SmallStep.html#1756" class="InductiveConstructor">Comp₁</a> <a id="1762" class="Symbol">:</a> <a id="1764" class="Symbol">∀{</a><a id="1766" href="Chapter.Imp.SmallStep.html#1766" class="Bound">c</a> <a id="1768" href="Chapter.Imp.SmallStep.html#1768" class="Bound">s</a><a id="1769" class="Symbol">}</a>
          <a id="1781" class="Comment">---------------------------------</a>
          <a id="1825" class="Symbol">-&gt;</a> <a id="1828" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="1830" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="1835" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="1838" href="Chapter.Imp.SmallStep.html#1766" class="Bound">c</a> <a id="1840" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="1842" href="Chapter.Imp.SmallStep.html#1768" class="Bound">s</a> <a id="1844" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="1846" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="1848" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="1850" href="Chapter.Imp.SmallStep.html#1766" class="Bound">c</a> <a id="1852" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="1854" href="Chapter.Imp.SmallStep.html#1768" class="Bound">s</a> <a id="1856" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
        
  <a id="_⟶_.Comp₂"></a><a id="1869" href="Chapter.Imp.SmallStep.html#1869" class="InductiveConstructor">Comp₂</a> <a id="1875" class="Symbol">:</a> <a id="1877" class="Symbol">∀{</a><a id="1879" href="Chapter.Imp.SmallStep.html#1879" class="Bound">c₁</a> <a id="1882" href="Chapter.Imp.SmallStep.html#1882" class="Bound">c₁′</a> <a id="1886" href="Chapter.Imp.SmallStep.html#1886" class="Bound">c₂</a> <a id="1889" href="Chapter.Imp.SmallStep.html#1889" class="Bound">s</a> <a id="1891" href="Chapter.Imp.SmallStep.html#1891" class="Bound">s′</a><a id="1893" class="Symbol">}</a>
          <a id="1905" class="Symbol">-&gt;</a> <a id="1908" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="1910" href="Chapter.Imp.SmallStep.html#1879" class="Bound">c₁</a> <a id="1913" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="1915" href="Chapter.Imp.SmallStep.html#1889" class="Bound">s</a> <a id="1917" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="1919" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="1921" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="1923" href="Chapter.Imp.SmallStep.html#1882" class="Bound">c₁′</a> <a id="1927" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="1929" href="Chapter.Imp.SmallStep.html#1891" class="Bound">s′</a> <a id="1932" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
          <a id="1944" class="Comment">-----------------------------------------</a>
          <a id="1996" class="Symbol">-&gt;</a> <a id="1999" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2001" href="Chapter.Imp.SmallStep.html#1879" class="Bound">c₁</a> <a id="2004" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="2007" href="Chapter.Imp.SmallStep.html#1886" class="Bound">c₂</a> <a id="2010" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2012" href="Chapter.Imp.SmallStep.html#1889" class="Bound">s</a> <a id="2014" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="2016" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="2018" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2020" href="Chapter.Imp.SmallStep.html#1882" class="Bound">c₁′</a> <a id="2024" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="2027" href="Chapter.Imp.SmallStep.html#1886" class="Bound">c₂</a> <a id="2030" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2032" href="Chapter.Imp.SmallStep.html#1891" class="Bound">s′</a> <a id="2035" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
        
  <a id="_⟶_.IfTrue"></a><a id="2048" href="Chapter.Imp.SmallStep.html#2048" class="InductiveConstructor">IfTrue</a>  <a id="2056" class="Symbol">:</a> <a id="2058" class="Symbol">∀{</a><a id="2060" href="Chapter.Imp.SmallStep.html#2060" class="Bound">b</a> <a id="2062" href="Chapter.Imp.SmallStep.html#2062" class="Bound">s</a> <a id="2064" href="Chapter.Imp.SmallStep.html#2064" class="Bound">c₁</a> <a id="2067" href="Chapter.Imp.SmallStep.html#2067" class="Bound">c₂</a><a id="2069" class="Symbol">}</a>
          <a id="2081" class="Symbol">-&gt;</a> <a id="2084" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="2089" href="Chapter.Imp.SmallStep.html#2060" class="Bound">b</a> <a id="2091" href="Chapter.Imp.SmallStep.html#2062" class="Bound">s</a> <a id="2093" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="2096" href="Library.Bool.html#52" class="InductiveConstructor">true</a>
          <a id="2111" class="Comment">---------------------------------------------</a>
          <a id="2167" class="Symbol">-&gt;</a> <a id="2170" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2172" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="2175" href="Chapter.Imp.SmallStep.html#2060" class="Bound">b</a> <a id="2177" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="2182" href="Chapter.Imp.SmallStep.html#2064" class="Bound">c₁</a> <a id="2185" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="2190" href="Chapter.Imp.SmallStep.html#2067" class="Bound">c₂</a> <a id="2193" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2195" href="Chapter.Imp.SmallStep.html#2062" class="Bound">s</a> <a id="2197" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="2199" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="2201" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2203" href="Chapter.Imp.SmallStep.html#2064" class="Bound">c₁</a> <a id="2206" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2208" href="Chapter.Imp.SmallStep.html#2062" class="Bound">s</a> <a id="2210" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
          
  <a id="_⟶_.IfFalse"></a><a id="2225" href="Chapter.Imp.SmallStep.html#2225" class="InductiveConstructor">IfFalse</a> <a id="2233" class="Symbol">:</a> <a id="2235" class="Symbol">∀{</a><a id="2237" href="Chapter.Imp.SmallStep.html#2237" class="Bound">b</a> <a id="2239" href="Chapter.Imp.SmallStep.html#2239" class="Bound">s</a> <a id="2241" href="Chapter.Imp.SmallStep.html#2241" class="Bound">c₁</a> <a id="2244" href="Chapter.Imp.SmallStep.html#2244" class="Bound">c₂</a><a id="2246" class="Symbol">}</a>
          <a id="2258" class="Symbol">-&gt;</a> <a id="2261" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="2266" href="Chapter.Imp.SmallStep.html#2237" class="Bound">b</a> <a id="2268" href="Chapter.Imp.SmallStep.html#2239" class="Bound">s</a> <a id="2270" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="2273" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
          <a id="2289" class="Comment">---------------------------------------------</a>
          <a id="2345" class="Symbol">-&gt;</a> <a id="2348" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2350" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="2353" href="Chapter.Imp.SmallStep.html#2237" class="Bound">b</a> <a id="2355" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="2360" href="Chapter.Imp.SmallStep.html#2241" class="Bound">c₁</a> <a id="2363" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="2368" href="Chapter.Imp.SmallStep.html#2244" class="Bound">c₂</a> <a id="2371" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2373" href="Chapter.Imp.SmallStep.html#2239" class="Bound">s</a> <a id="2375" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="2377" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="2379" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2381" href="Chapter.Imp.SmallStep.html#2244" class="Bound">c₂</a> <a id="2384" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2386" href="Chapter.Imp.SmallStep.html#2239" class="Bound">s</a> <a id="2388" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
          
  <a id="_⟶_.While"></a><a id="2403" href="Chapter.Imp.SmallStep.html#2403" class="InductiveConstructor">While</a> <a id="2409" class="Symbol">:</a> <a id="2411" class="Symbol">∀{</a><a id="2413" href="Chapter.Imp.SmallStep.html#2413" class="Bound">b</a> <a id="2415" href="Chapter.Imp.SmallStep.html#2415" class="Bound">c</a> <a id="2417" href="Chapter.Imp.SmallStep.html#2417" class="Bound">s</a><a id="2418" class="Symbol">}</a>
          <a id="2430" class="Comment">----------------------------------------------------------------------------</a>
          <a id="2517" class="Symbol">-&gt;</a> <a id="2520" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2522" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="2528" href="Chapter.Imp.SmallStep.html#2413" class="Bound">b</a> <a id="2530" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="2533" href="Chapter.Imp.SmallStep.html#2415" class="Bound">c</a> <a id="2535" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2537" href="Chapter.Imp.SmallStep.html#2417" class="Bound">s</a> <a id="2539" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="2541" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="2543" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="2545" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="2548" href="Chapter.Imp.SmallStep.html#2413" class="Bound">b</a> <a id="2550" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="2555" class="Symbol">(</a><a id="2556" href="Chapter.Imp.SmallStep.html#2415" class="Bound">c</a> <a id="2558" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="2561" class="Symbol">(</a><a id="2562" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="2568" href="Chapter.Imp.SmallStep.html#2413" class="Bound">b</a> <a id="2570" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="2573" href="Chapter.Imp.SmallStep.html#2415" class="Bound">c</a><a id="2574" class="Symbol">))</a> <a id="2577" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="2582" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="2587" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="2589" href="Chapter.Imp.SmallStep.html#2417" class="Bound">s</a> <a id="2591" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
</pre>
<p>In the above definition observe that for no <code class="language-plaintext highlighter-rouge">s</code> there is a configuration such that
<code class="language-plaintext highlighter-rouge">⦅ SKIP , s ⦆</code> can be reduced to it: we call such configurations <strong>terminated</strong> and
<code class="language-plaintext highlighter-rouge">SKIP</code> the <strong>terminated command</strong>.</p>

<p>Rules <code class="language-plaintext highlighter-rouge">Comp₁</code> and <code class="language-plaintext highlighter-rouge">Comp₂</code> tell that to execute the configuration
<code class="language-plaintext highlighter-rouge">⦅ c₁ :: c₂ , s ⦆</code> either <code class="language-plaintext highlighter-rouge">c₁</code> is terminated, namely it is the command <code class="language-plaintext highlighter-rouge">SKIP</code>,
so that the computation will proceed by <code class="language-plaintext highlighter-rouge">⦅ c₂ , s ⦆</code>, 
or we have to reduce in one step <code class="language-plaintext highlighter-rouge">⦅ c₁ , s⦆</code> to some <code class="language-plaintext highlighter-rouge">⦅ c₁′ , s′ ⦆</code> so obtaining
the new configuration <code class="language-plaintext highlighter-rouge">⦅ c₁′ :: c₂ , s′ ⦆</code> to proceed in the execution.</p>

<p>Rules <code class="language-plaintext highlighter-rouge">IfTrue</code> and <code class="language-plaintext highlighter-rouge">IfFalse</code> are clear. To understand rule <code class="language-plaintext highlighter-rouge">While</code> one should think
to what happens with ordinary programming languages like C when excuting a
<code class="language-plaintext highlighter-rouge">WHILE b DO c</code> command, where <code class="language-plaintext highlighter-rouge">b ∈ Bexp</code> is the <em>guard</em> and <code class="language-plaintext highlighter-rouge">c ∈ Com</code> the <em>body</em> of
the iteration.
Indeed the execution begins by checking the value of
<code class="language-plaintext highlighter-rouge">b</code>; if it is <code class="language-plaintext highlighter-rouge">false</code> then the execution terminates, which is
represented by the <code class="language-plaintext highlighter-rouge">SKIP</code> in the fals branch of the continuation;
otherwise the value of <code class="language-plaintext highlighter-rouge">b</code> is <code class="language-plaintext highlighter-rouge">true</code> and the execution will proceed by executing <code class="language-plaintext highlighter-rouge">c</code>
and then by repeating the <code class="language-plaintext highlighter-rouge">WHILE b DO c</code> command: this exatcly the true branch in the <code class="language-plaintext highlighter-rouge">IF</code>, namely
<code class="language-plaintext highlighter-rouge">c :: (WHILE b DO c)</code>. Incidentally we observe that the continuation in the reducion rule <code class="language-plaintext highlighter-rouge">While</code>
is justified w.r.t. the big-step semantics by the equivalence in <code class="language-plaintext highlighter-rouge">lemma-while-if</code> from
exercise 3 in chapter <a href="/pages/Chapter.Imp.BigStep.html">Big-step operational semantics</a>.</p>

<h2 id="reflexive-and-transitive-closure-of-one-step-reduction">Reflexive and transitive closure of one-step reduction</h2>

<p>In mathematics the reflexive and transitive closure of a binary relation <code class="language-plaintext highlighter-rouge">R</code>
is the least reflexive and transitive relation <code class="language-plaintext highlighter-rouge">R*</code> including <code class="language-plaintext highlighter-rouge">R</code>.
Having defined the one-step reduction <code class="language-plaintext highlighter-rouge">⟶</code>, we consider its reflexive and transitive
closure <code class="language-plaintext highlighter-rouge">⟶*</code> to model executions of arbitrary length, and we dub it
<strong>multi-step reduction</strong> or just <strong>reduction</strong>.</p>

<pre class="Agda"><a id="4470" class="Keyword">data</a>  <a id="_⟶*_"></a><a id="4476" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">_⟶*_</a> <a id="4481" class="Symbol">:</a> <a id="4483" href="Chapter.Imp.BigStep.html#3306" class="Datatype">Config</a> <a id="4490" class="Symbol">-&gt;</a> <a id="4493" href="Chapter.Imp.BigStep.html#3306" class="Datatype">Config</a> <a id="4500" class="Symbol">-&gt;</a> <a id="4503" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4507" class="Keyword">where</a>

   <a id="_⟶*_.⟶*-refl"></a><a id="4517" href="Chapter.Imp.SmallStep.html#4517" class="InductiveConstructor">⟶*-refl</a> <a id="4525" class="Symbol">:</a> <a id="4527" class="Symbol">∀</a> <a id="4529" class="Symbol">{</a><a id="4530" href="Chapter.Imp.SmallStep.html#4530" class="Bound">c</a> <a id="4532" href="Chapter.Imp.SmallStep.html#4532" class="Bound">s</a><a id="4533" class="Symbol">}</a> <a id="4535" class="Symbol">-&gt;</a> <a id="4538" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4540" href="Chapter.Imp.SmallStep.html#4530" class="Bound">c</a> <a id="4542" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4544" href="Chapter.Imp.SmallStep.html#4532" class="Bound">s</a> <a id="4546" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="4548" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="4551" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4553" href="Chapter.Imp.SmallStep.html#4530" class="Bound">c</a> <a id="4555" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4557" href="Chapter.Imp.SmallStep.html#4532" class="Bound">s</a> <a id="4559" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>  <a id="4562" class="Comment">-- reflexivity</a>
   <a id="_⟶*_.⟶*-incl"></a><a id="4580" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="4588" class="Symbol">:</a> <a id="4590" class="Symbol">∀</a> <a id="4592" class="Symbol">{</a><a id="4593" href="Chapter.Imp.SmallStep.html#4593" class="Bound">c1</a> <a id="4596" href="Chapter.Imp.SmallStep.html#4596" class="Bound">s1</a> <a id="4599" href="Chapter.Imp.SmallStep.html#4599" class="Bound">c2</a> <a id="4602" href="Chapter.Imp.SmallStep.html#4602" class="Bound">s2</a> <a id="4605" href="Chapter.Imp.SmallStep.html#4605" class="Bound">c3</a> <a id="4608" href="Chapter.Imp.SmallStep.html#4608" class="Bound">s3</a><a id="4610" class="Symbol">}</a> <a id="4612" class="Symbol">-&gt;</a>            <a id="4626" class="Comment">-- including ⟶</a>
                 <a id="4658" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4660" href="Chapter.Imp.SmallStep.html#4593" class="Bound">c1</a> <a id="4663" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4665" href="Chapter.Imp.SmallStep.html#4596" class="Bound">s1</a> <a id="4668" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="4670" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="4672" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4674" href="Chapter.Imp.SmallStep.html#4599" class="Bound">c2</a> <a id="4677" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4679" href="Chapter.Imp.SmallStep.html#4602" class="Bound">s2</a> <a id="4682" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="4684" class="Symbol">-&gt;</a>
                 <a id="4704" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4706" href="Chapter.Imp.SmallStep.html#4599" class="Bound">c2</a> <a id="4709" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4711" href="Chapter.Imp.SmallStep.html#4602" class="Bound">s2</a> <a id="4714" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="4716" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="4719" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4721" href="Chapter.Imp.SmallStep.html#4605" class="Bound">c3</a> <a id="4724" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4726" href="Chapter.Imp.SmallStep.html#4608" class="Bound">s3</a> <a id="4729" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="4731" class="Symbol">-&gt;</a>
                 <a id="4751" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4753" href="Chapter.Imp.SmallStep.html#4593" class="Bound">c1</a> <a id="4756" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4758" href="Chapter.Imp.SmallStep.html#4596" class="Bound">s1</a> <a id="4761" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="4763" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="4766" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="4768" href="Chapter.Imp.SmallStep.html#4605" class="Bound">c3</a> <a id="4771" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="4773" href="Chapter.Imp.SmallStep.html#4608" class="Bound">s3</a> <a id="4776" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
</pre>
<p>The rule <code class="language-plaintext highlighter-rouge">⟶*-refl</code> postulates that <code class="language-plaintext highlighter-rouge">⟶*</code> is reflexive; the rule <code class="language-plaintext highlighter-rouge">⟶*-incl</code> states that
by putting a one-step reduction <code class="language-plaintext highlighter-rouge">⦅ c1 , s1 ⦆ ⟶ ⦅ c2 , s2 ⦆</code> in front of the
multi-step reduction <code class="language-plaintext highlighter-rouge">⦅ c2 , s2 ⦆ ⟶* ⦅ c3 , s3 ⦆</code> one obtains the new reduction
<code class="language-plaintext highlighter-rouge">⦅ c1 , s1 ⦆ ⟶* ⦅ c3 , s3 ⦆</code>; not surprisingly the definition
of <code class="language-plaintext highlighter-rouge">-&gt;*-incl</code> reminds that of <code class="language-plaintext highlighter-rouge">cons</code> for lists. The effect of this rule is that
the relation <code class="language-plaintext highlighter-rouge">⟶*</code> is transitive, as shown below.</p>

<pre class="Agda"><a id="⟶*-tran"></a><a id="5220" href="Chapter.Imp.SmallStep.html#5220" class="Function">⟶*-tran</a> <a id="5228" class="Symbol">:</a> <a id="5230" class="Symbol">∀</a> <a id="5232" class="Symbol">{</a><a id="5233" href="Chapter.Imp.SmallStep.html#5233" class="Bound">c1</a> <a id="5236" href="Chapter.Imp.SmallStep.html#5236" class="Bound">s1</a> <a id="5239" href="Chapter.Imp.SmallStep.html#5239" class="Bound">c2</a> <a id="5242" href="Chapter.Imp.SmallStep.html#5242" class="Bound">s2</a> <a id="5245" href="Chapter.Imp.SmallStep.html#5245" class="Bound">c3</a> <a id="5248" href="Chapter.Imp.SmallStep.html#5248" class="Bound">s3</a><a id="5250" class="Symbol">}</a> <a id="5252" class="Symbol">-&gt;</a>
                 <a id="5272" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5274" href="Chapter.Imp.SmallStep.html#5233" class="Bound">c1</a> <a id="5277" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5279" href="Chapter.Imp.SmallStep.html#5236" class="Bound">s1</a> <a id="5282" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5284" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="5287" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5289" href="Chapter.Imp.SmallStep.html#5239" class="Bound">c2</a> <a id="5292" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5294" href="Chapter.Imp.SmallStep.html#5242" class="Bound">s2</a> <a id="5297" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5299" class="Symbol">-&gt;</a>
                 <a id="5319" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5321" href="Chapter.Imp.SmallStep.html#5239" class="Bound">c2</a> <a id="5324" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5326" href="Chapter.Imp.SmallStep.html#5242" class="Bound">s2</a> <a id="5329" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5331" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="5334" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5336" href="Chapter.Imp.SmallStep.html#5245" class="Bound">c3</a> <a id="5339" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5341" href="Chapter.Imp.SmallStep.html#5248" class="Bound">s3</a> <a id="5344" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5346" class="Symbol">-&gt;</a>
                 <a id="5366" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5368" href="Chapter.Imp.SmallStep.html#5233" class="Bound">c1</a> <a id="5371" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5373" href="Chapter.Imp.SmallStep.html#5236" class="Bound">s1</a> <a id="5376" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5378" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="5381" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5383" href="Chapter.Imp.SmallStep.html#5245" class="Bound">c3</a> <a id="5386" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5388" href="Chapter.Imp.SmallStep.html#5248" class="Bound">s3</a> <a id="5391" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>

<a id="5394" href="Chapter.Imp.SmallStep.html#5220" class="Function">⟶*-tran</a> <a id="5402" href="Chapter.Imp.SmallStep.html#4517" class="InductiveConstructor">⟶*-refl</a> <a id="5410" href="Chapter.Imp.SmallStep.html#5410" class="Bound">hyp2</a> <a id="5415" class="Symbol">=</a> <a id="5417" href="Chapter.Imp.SmallStep.html#5410" class="Bound">hyp2</a>
<a id="5422" href="Chapter.Imp.SmallStep.html#5220" class="Function">⟶*-tran</a> <a id="5430" class="Symbol">(</a><a id="5431" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="5439" href="Chapter.Imp.SmallStep.html#5439" class="Bound">x</a> <a id="5441" href="Chapter.Imp.SmallStep.html#5441" class="Bound">hyp1</a><a id="5445" class="Symbol">)</a> <a id="5447" href="Chapter.Imp.SmallStep.html#5447" class="Bound">hyp2</a> <a id="5452" class="Symbol">=</a> <a id="5454" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="5462" href="Chapter.Imp.SmallStep.html#5439" class="Bound">x</a> <a id="5464" class="Symbol">(</a><a id="5465" href="Chapter.Imp.SmallStep.html#5220" class="Function">⟶*-tran</a> <a id="5473" href="Chapter.Imp.SmallStep.html#5441" class="Bound">hyp1</a> <a id="5478" href="Chapter.Imp.SmallStep.html#5447" class="Bound">hyp2</a><a id="5482" class="Symbol">)</a>
</pre>
<p>In the examples and in the proofs it is more handy to use
some Agda functions allowing to concatenate both one-step and
multi-step reductions. They are some sort of <em>macros</em>
in the same style of the function <code class="language-plaintext highlighter-rouge">_==⟨_⟩</code> for equational reasoning:</p>

<pre class="Agda"><a id="⦅_,_⦆∎"></a><a id="5737" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅_,_⦆∎</a> <a id="5744" class="Symbol">:</a> <a id="5746" class="Symbol">∀</a> <a id="5748" href="Chapter.Imp.SmallStep.html#5748" class="Bound">c</a> <a id="5750" href="Chapter.Imp.SmallStep.html#5750" class="Bound">s</a> <a id="5752" class="Symbol">-&gt;</a> <a id="5755" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5757" href="Chapter.Imp.SmallStep.html#5748" class="Bound">c</a> <a id="5759" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5761" href="Chapter.Imp.SmallStep.html#5750" class="Bound">s</a> <a id="5763" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5765" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="5768" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5770" href="Chapter.Imp.SmallStep.html#5748" class="Bound">c</a> <a id="5772" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5774" href="Chapter.Imp.SmallStep.html#5750" class="Bound">s</a> <a id="5776" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
<a id="5778" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="5780" href="Chapter.Imp.SmallStep.html#5780" class="Bound">c</a> <a id="5782" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="5784" href="Chapter.Imp.SmallStep.html#5784" class="Bound">s</a> <a id="5786" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a> <a id="5789" class="Symbol">=</a> <a id="5791" href="Chapter.Imp.SmallStep.html#4517" class="InductiveConstructor">⟶*-refl</a>

<a id="⦅_,_⦆⟶⟨_⟩_"></a><a id="5800" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅_,_⦆⟶⟨_⟩_</a> <a id="5811" class="Symbol">:</a> <a id="5813" class="Symbol">∀</a> <a id="5815" href="Chapter.Imp.SmallStep.html#5815" class="Bound">c</a> <a id="5817" href="Chapter.Imp.SmallStep.html#5817" class="Bound">s</a> <a id="5819" class="Symbol">{</a><a id="5820" href="Chapter.Imp.SmallStep.html#5820" class="Bound">c&#39;</a> <a id="5823" href="Chapter.Imp.SmallStep.html#5823" class="Bound">c&#39;&#39;</a> <a id="5827" href="Chapter.Imp.SmallStep.html#5827" class="Bound">s&#39;</a> <a id="5830" href="Chapter.Imp.SmallStep.html#5830" class="Bound">s&#39;&#39;</a><a id="5833" class="Symbol">}</a> <a id="5835" class="Symbol">-&gt;</a>
             <a id="5851" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5853" href="Chapter.Imp.SmallStep.html#5815" class="Bound">c</a> <a id="5855" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5857" href="Chapter.Imp.SmallStep.html#5817" class="Bound">s</a> <a id="5859" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5861" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="5863" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5865" href="Chapter.Imp.SmallStep.html#5820" class="Bound">c&#39;</a> <a id="5868" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5870" href="Chapter.Imp.SmallStep.html#5827" class="Bound">s&#39;</a> <a id="5873" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5875" class="Symbol">-&gt;</a>
             <a id="5891" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5893" href="Chapter.Imp.SmallStep.html#5820" class="Bound">c&#39;</a> <a id="5896" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5898" href="Chapter.Imp.SmallStep.html#5827" class="Bound">s&#39;</a> <a id="5901" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5903" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="5906" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5908" href="Chapter.Imp.SmallStep.html#5823" class="Bound">c&#39;&#39;</a> <a id="5912" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5914" href="Chapter.Imp.SmallStep.html#5830" class="Bound">s&#39;&#39;</a> <a id="5918" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5920" class="Symbol">-&gt;</a>
             <a id="5936" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5938" href="Chapter.Imp.SmallStep.html#5815" class="Bound">c</a> <a id="5940" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5942" href="Chapter.Imp.SmallStep.html#5817" class="Bound">s</a> <a id="5944" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="5946" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="5949" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="5951" href="Chapter.Imp.SmallStep.html#5823" class="Bound">c&#39;&#39;</a> <a id="5955" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="5957" href="Chapter.Imp.SmallStep.html#5830" class="Bound">s&#39;&#39;</a> <a id="5961" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
<a id="5963" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="5965" href="Chapter.Imp.SmallStep.html#5965" class="Bound">c</a> <a id="5967" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="5969" href="Chapter.Imp.SmallStep.html#5969" class="Bound">s</a> <a id="5971" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="5975" href="Chapter.Imp.SmallStep.html#5975" class="Bound">x</a> <a id="5977" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a> <a id="5979" href="Chapter.Imp.SmallStep.html#5979" class="Bound">y</a> <a id="5981" class="Symbol">=</a> <a id="5983" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="5991" href="Chapter.Imp.SmallStep.html#5975" class="Bound">x</a> <a id="5993" href="Chapter.Imp.SmallStep.html#5979" class="Bound">y</a>

<a id="⦅_,_⦆⟶*⟨_⟩_"></a><a id="5996" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅_,_⦆⟶*⟨_⟩_</a> <a id="6008" class="Symbol">:</a> <a id="6010" class="Symbol">∀</a> <a id="6012" href="Chapter.Imp.SmallStep.html#6012" class="Bound">c</a> <a id="6014" href="Chapter.Imp.SmallStep.html#6014" class="Bound">s</a> <a id="6016" class="Symbol">{</a><a id="6017" href="Chapter.Imp.SmallStep.html#6017" class="Bound">c&#39;</a> <a id="6020" href="Chapter.Imp.SmallStep.html#6020" class="Bound">c&#39;&#39;</a> <a id="6024" href="Chapter.Imp.SmallStep.html#6024" class="Bound">s&#39;</a> <a id="6027" href="Chapter.Imp.SmallStep.html#6027" class="Bound">s&#39;&#39;</a><a id="6030" class="Symbol">}</a> <a id="6032" class="Symbol">-&gt;</a>
             <a id="6048" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="6050" href="Chapter.Imp.SmallStep.html#6012" class="Bound">c</a> <a id="6052" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="6054" href="Chapter.Imp.SmallStep.html#6014" class="Bound">s</a> <a id="6056" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="6058" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="6061" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="6063" href="Chapter.Imp.SmallStep.html#6017" class="Bound">c&#39;</a> <a id="6066" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="6068" href="Chapter.Imp.SmallStep.html#6024" class="Bound">s&#39;</a> <a id="6071" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="6073" class="Symbol">-&gt;</a>
             <a id="6089" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="6091" href="Chapter.Imp.SmallStep.html#6017" class="Bound">c&#39;</a> <a id="6094" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="6096" href="Chapter.Imp.SmallStep.html#6024" class="Bound">s&#39;</a> <a id="6099" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="6101" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="6104" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="6106" href="Chapter.Imp.SmallStep.html#6020" class="Bound">c&#39;&#39;</a> <a id="6110" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="6112" href="Chapter.Imp.SmallStep.html#6027" class="Bound">s&#39;&#39;</a> <a id="6116" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="6118" class="Symbol">-&gt;</a>
             <a id="6134" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="6136" href="Chapter.Imp.SmallStep.html#6012" class="Bound">c</a> <a id="6138" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="6140" href="Chapter.Imp.SmallStep.html#6014" class="Bound">s</a> <a id="6142" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="6144" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="6147" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="6149" href="Chapter.Imp.SmallStep.html#6020" class="Bound">c&#39;&#39;</a> <a id="6153" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="6155" href="Chapter.Imp.SmallStep.html#6027" class="Bound">s&#39;&#39;</a> <a id="6159" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>

<a id="6162" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="6164" href="Chapter.Imp.SmallStep.html#6164" class="Bound">c</a> <a id="6166" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="6168" href="Chapter.Imp.SmallStep.html#6168" class="Bound">s</a> <a id="6170" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="6175" href="Chapter.Imp.SmallStep.html#6175" class="Bound">x</a> <a id="6177" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a> <a id="6179" href="Chapter.Imp.SmallStep.html#6179" class="Bound">y</a> <a id="6181" class="Symbol">=</a> <a id="6183" href="Chapter.Imp.SmallStep.html#5220" class="Function">⟶*-tran</a> <a id="6191" href="Chapter.Imp.SmallStep.html#6175" class="Bound">x</a> <a id="6193" href="Chapter.Imp.SmallStep.html#6179" class="Bound">y</a>
</pre>
<h2 id="relating-big-step-and-small-step-operational-semantics">Relating big-step and small-step operational semantics</h2>

<p>Although conceptually different, both the big-step and the small-step semantics
model the same notion of execution of IMP programs, namely the same interpreter.
This is not to say that
the relations <code class="language-plaintext highlighter-rouge">_⇒_</code> and <code class="language-plaintext highlighter-rouge">_⟶*_</code> coincide, as they have different co-domains, that are
the sets of states and of configurations respectively, which is reflected by
their different types in Agda. Instead we can prove the following
<strong>Big and Small-step Equivalence Theorem</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Given any c ∈ Com and s, t ∈ State

           ⦅ c , s ⦆ ⇒ t if and only if ⦅ c , s ⦆ ⟶* ⦅ SKIP , t ⦆
</code></pre></div></div>

<p>We proceed by first establishing <code class="language-plaintext highlighter-rouge">theorem-small-big</code>, namely the if part
of the Equivalence Theorem above. Its proof uses <code class="language-plaintext highlighter-rouge">lemma-small-big</code> talling that
if a configuration reduces in one step to a second one which converges to a
state, then the former converges to the same state.</p>

<pre class="Agda"><a id="lemma-small-big"></a><a id="7123" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7139" class="Symbol">:</a> <a id="7141" class="Symbol">∀</a> <a id="7143" class="Symbol">{</a><a id="7144" href="Chapter.Imp.SmallStep.html#7144" class="Bound">c1</a> <a id="7147" href="Chapter.Imp.SmallStep.html#7147" class="Bound">s1</a> <a id="7150" href="Chapter.Imp.SmallStep.html#7150" class="Bound">c2</a> <a id="7153" href="Chapter.Imp.SmallStep.html#7153" class="Bound">s2</a> <a id="7156" href="Chapter.Imp.SmallStep.html#7156" class="Bound">t</a><a id="7157" class="Symbol">}</a> <a id="7159" class="Symbol">-&gt;</a>
                 <a id="7179" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7181" href="Chapter.Imp.SmallStep.html#7144" class="Bound">c1</a> <a id="7184" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7186" href="Chapter.Imp.SmallStep.html#7147" class="Bound">s1</a> <a id="7189" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7191" href="Chapter.Imp.SmallStep.html#1548" class="Datatype Operator">⟶</a> <a id="7193" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7195" href="Chapter.Imp.SmallStep.html#7150" class="Bound">c2</a> <a id="7198" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7200" href="Chapter.Imp.SmallStep.html#7153" class="Bound">s2</a> <a id="7203" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7205" class="Symbol">-&gt;</a>
                 <a id="7225" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7227" href="Chapter.Imp.SmallStep.html#7150" class="Bound">c2</a> <a id="7230" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7232" href="Chapter.Imp.SmallStep.html#7153" class="Bound">s2</a> <a id="7235" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7237" href="Chapter.Imp.BigStep.html#3810" class="Datatype Operator">⇒</a> <a id="7239" href="Chapter.Imp.SmallStep.html#7156" class="Bound">t</a> <a id="7241" class="Symbol">-&gt;</a>
                 <a id="7261" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7263" href="Chapter.Imp.SmallStep.html#7144" class="Bound">c1</a> <a id="7266" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7268" href="Chapter.Imp.SmallStep.html#7147" class="Bound">s1</a> <a id="7271" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7273" href="Chapter.Imp.BigStep.html#3810" class="Datatype Operator">⇒</a> <a id="7275" href="Chapter.Imp.SmallStep.html#7156" class="Bound">t</a>

<a id="7278" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7294" href="Chapter.Imp.SmallStep.html#1621" class="InductiveConstructor">Loc</a> <a id="7298" href="Chapter.Imp.BigStep.html#3849" class="InductiveConstructor">Skip</a> <a id="7303" class="Symbol">=</a> <a id="7305" href="Chapter.Imp.BigStep.html#3921" class="InductiveConstructor">Loc</a>
<a id="7309" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7325" href="Chapter.Imp.SmallStep.html#1756" class="InductiveConstructor">Comp₁</a> <a id="7331" href="Chapter.Imp.SmallStep.html#7331" class="Bound">hyp2</a> <a id="7336" class="Symbol">=</a> <a id="7338" href="Chapter.Imp.BigStep.html#4039" class="InductiveConstructor">Comp</a> <a id="7343" href="Chapter.Imp.BigStep.html#3849" class="InductiveConstructor">Skip</a> <a id="7348" href="Chapter.Imp.SmallStep.html#7331" class="Bound">hyp2</a>
<a id="7353" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7369" class="Symbol">(</a><a id="7370" href="Chapter.Imp.SmallStep.html#1869" class="InductiveConstructor">Comp₂</a> <a id="7376" href="Chapter.Imp.SmallStep.html#7376" class="Bound">hyp1</a><a id="7380" class="Symbol">)</a> <a id="7382" class="Symbol">(</a><a id="7383" href="Chapter.Imp.BigStep.html#4039" class="InductiveConstructor">Comp</a> <a id="7388" href="Chapter.Imp.SmallStep.html#7388" class="Bound">hyp2</a> <a id="7393" href="Chapter.Imp.SmallStep.html#7393" class="Bound">hyp3</a><a id="7397" class="Symbol">)</a> <a id="7399" class="Symbol">=</a> <a id="7401" href="Chapter.Imp.BigStep.html#4039" class="InductiveConstructor">Comp</a> <a id="7406" href="Chapter.Imp.SmallStep.html#7439" class="Function">indHyp</a> <a id="7413" href="Chapter.Imp.SmallStep.html#7393" class="Bound">hyp3</a>
      <a id="7424" class="Keyword">where</a>
         <a id="7439" href="Chapter.Imp.SmallStep.html#7439" class="Function">indHyp</a> <a id="7446" class="Symbol">=</a> <a id="7448" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7464" href="Chapter.Imp.SmallStep.html#7376" class="Bound">hyp1</a> <a id="7469" href="Chapter.Imp.SmallStep.html#7388" class="Bound">hyp2</a>
<a id="7474" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7490" class="Symbol">(</a><a id="7491" href="Chapter.Imp.SmallStep.html#2048" class="InductiveConstructor">IfTrue</a> <a id="7498" href="Chapter.Imp.SmallStep.html#7498" class="Bound">x</a><a id="7499" class="Symbol">)</a> <a id="7501" href="Chapter.Imp.SmallStep.html#7501" class="Bound">hyp2</a> <a id="7506" class="Symbol">=</a> <a id="7508" href="Chapter.Imp.BigStep.html#4198" class="InductiveConstructor">IfTrue</a> <a id="7515" href="Chapter.Imp.SmallStep.html#7498" class="Bound">x</a> <a id="7517" href="Chapter.Imp.SmallStep.html#7501" class="Bound">hyp2</a>
<a id="7522" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7538" class="Symbol">(</a><a id="7539" href="Chapter.Imp.SmallStep.html#2225" class="InductiveConstructor">IfFalse</a> <a id="7547" href="Chapter.Imp.SmallStep.html#7547" class="Bound">x</a><a id="7548" class="Symbol">)</a> <a id="7550" href="Chapter.Imp.SmallStep.html#7550" class="Bound">hyp2</a> <a id="7555" class="Symbol">=</a> <a id="7557" href="Chapter.Imp.BigStep.html#4385" class="InductiveConstructor">IfFalse</a> <a id="7565" href="Chapter.Imp.SmallStep.html#7547" class="Bound">x</a> <a id="7567" href="Chapter.Imp.SmallStep.html#7550" class="Bound">hyp2</a>
<a id="7572" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7588" href="Chapter.Imp.SmallStep.html#2403" class="InductiveConstructor">While</a> <a id="7594" class="Symbol">(</a><a id="7595" href="Chapter.Imp.BigStep.html#4198" class="InductiveConstructor">IfTrue</a> <a id="7602" href="Chapter.Imp.SmallStep.html#7602" class="Bound">x</a> <a id="7604" class="Symbol">(</a><a id="7605" href="Chapter.Imp.BigStep.html#4039" class="InductiveConstructor">Comp</a> <a id="7610" href="Chapter.Imp.SmallStep.html#7610" class="Bound">hyp2</a> <a id="7615" href="Chapter.Imp.SmallStep.html#7615" class="Bound">hyp3</a><a id="7619" class="Symbol">))</a> <a id="7622" class="Symbol">=</a>
                                           <a id="7667" href="Chapter.Imp.BigStep.html#4727" class="InductiveConstructor">WhileTrue</a> <a id="7677" href="Chapter.Imp.SmallStep.html#7602" class="Bound">x</a> <a id="7679" href="Chapter.Imp.SmallStep.html#7610" class="Bound">hyp2</a> <a id="7684" href="Chapter.Imp.SmallStep.html#7615" class="Bound">hyp3</a>
<a id="7689" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="7705" href="Chapter.Imp.SmallStep.html#2403" class="InductiveConstructor">While</a> <a id="7711" class="Symbol">(</a><a id="7712" href="Chapter.Imp.BigStep.html#4385" class="InductiveConstructor">IfFalse</a> <a id="7720" href="Chapter.Imp.SmallStep.html#7720" class="Bound">x</a> <a id="7722" href="Chapter.Imp.BigStep.html#3849" class="InductiveConstructor">Skip</a><a id="7726" class="Symbol">)</a> <a id="7728" class="Symbol">=</a> <a id="7730" href="Chapter.Imp.BigStep.html#4569" class="InductiveConstructor">WhileFalse</a> <a id="7741" href="Chapter.Imp.SmallStep.html#7720" class="Bound">x</a>
</pre>
<p>Given the lemma, the proof of <code class="language-plaintext highlighter-rouge">theorem-small-big</code> is a simple induction
over the definition of <code class="language-plaintext highlighter-rouge">⟶*</code>.</p>
<pre class="Agda"><a id="theorem-small-big"></a><a id="7853" href="Chapter.Imp.SmallStep.html#7853" class="Function">theorem-small-big</a> <a id="7871" class="Symbol">:</a> <a id="7873" class="Symbol">∀</a> <a id="7875" class="Symbol">{</a><a id="7876" href="Chapter.Imp.SmallStep.html#7876" class="Bound">c</a> <a id="7878" href="Chapter.Imp.SmallStep.html#7878" class="Bound">s</a> <a id="7880" href="Chapter.Imp.SmallStep.html#7880" class="Bound">t</a><a id="7881" class="Symbol">}</a> <a id="7883" class="Symbol">-&gt;</a>
          <a id="7896" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7898" href="Chapter.Imp.SmallStep.html#7876" class="Bound">c</a> <a id="7900" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7902" href="Chapter.Imp.SmallStep.html#7878" class="Bound">s</a> <a id="7904" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7906" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="7909" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7911" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="7916" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7918" href="Chapter.Imp.SmallStep.html#7880" class="Bound">t</a> <a id="7920" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7922" class="Symbol">-&gt;</a> <a id="7925" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="7927" href="Chapter.Imp.SmallStep.html#7876" class="Bound">c</a> <a id="7929" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="7931" href="Chapter.Imp.SmallStep.html#7878" class="Bound">s</a> <a id="7933" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="7935" href="Chapter.Imp.BigStep.html#3810" class="Datatype Operator">⇒</a> <a id="7937" href="Chapter.Imp.SmallStep.html#7880" class="Bound">t</a>

<a id="7940" href="Chapter.Imp.SmallStep.html#7853" class="Function">theorem-small-big</a> <a id="7958" href="Chapter.Imp.SmallStep.html#4517" class="InductiveConstructor">⟶*-refl</a> <a id="7966" class="Symbol">=</a> <a id="7968" href="Chapter.Imp.BigStep.html#3849" class="InductiveConstructor">Skip</a>
<a id="7973" href="Chapter.Imp.SmallStep.html#7853" class="Function">theorem-small-big</a> <a id="7991" class="Symbol">(</a><a id="7992" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="8000" href="Chapter.Imp.SmallStep.html#8000" class="Bound">x</a> <a id="8002" href="Chapter.Imp.SmallStep.html#8002" class="Bound">hyp</a><a id="8005" class="Symbol">)</a> <a id="8007" class="Symbol">=</a> <a id="8009" href="Chapter.Imp.SmallStep.html#7123" class="Function">lemma-small-big</a> <a id="8025" href="Chapter.Imp.SmallStep.html#8000" class="Bound">x</a> <a id="8027" href="Chapter.Imp.SmallStep.html#8057" class="Function">indHyp</a>
       <a id="8041" class="Keyword">where</a>
          <a id="8057" href="Chapter.Imp.SmallStep.html#8057" class="Function">indHyp</a> <a id="8064" class="Symbol">=</a> <a id="8066" href="Chapter.Imp.SmallStep.html#7853" class="Function">theorem-small-big</a> <a id="8084" href="Chapter.Imp.SmallStep.html#8002" class="Bound">hyp</a>
</pre>
<p>Proving the only if part of the Equivalence Theorem is more laborious.
We begin by establishing <code class="language-plaintext highlighter-rouge">lemma-big-small</code> which is the extension to <code class="language-plaintext highlighter-rouge">⟶*</code> of
rule <code class="language-plaintext highlighter-rouge">Comp₂</code> in the definition of  <code class="language-plaintext highlighter-rouge">⟶</code>, therefore allowing several setps in the
execution of the <code class="language-plaintext highlighter-rouge">c</code> command while executing <code class="language-plaintext highlighter-rouge">c :: c''</code>.
This will be of help in the theorem proof when treating the case of sequential composition.</p>

<pre class="Agda"><a id="lemma-big-small"></a><a id="8475" href="Chapter.Imp.SmallStep.html#8475" class="Function">lemma-big-small</a> <a id="8491" class="Symbol">:</a> <a id="8493" class="Symbol">∀</a> <a id="8495" class="Symbol">{</a><a id="8496" href="Chapter.Imp.SmallStep.html#8496" class="Bound">c</a> <a id="8498" href="Chapter.Imp.SmallStep.html#8498" class="Bound">c&#39;</a> <a id="8501" href="Chapter.Imp.SmallStep.html#8501" class="Bound">c&#39;&#39;</a> <a id="8505" href="Chapter.Imp.SmallStep.html#8505" class="Bound">s</a> <a id="8507" href="Chapter.Imp.SmallStep.html#8507" class="Bound">s&#39;</a><a id="8509" class="Symbol">}</a> <a id="8511" class="Symbol">-&gt;</a>
                    <a id="8534" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="8536" href="Chapter.Imp.SmallStep.html#8496" class="Bound">c</a> <a id="8538" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="8540" href="Chapter.Imp.SmallStep.html#8505" class="Bound">s</a> <a id="8542" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="8544" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="8547" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="8549" href="Chapter.Imp.SmallStep.html#8498" class="Bound">c&#39;</a> <a id="8552" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="8554" href="Chapter.Imp.SmallStep.html#8507" class="Bound">s&#39;</a> <a id="8557" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="8559" class="Symbol">-&gt;</a>
                    <a id="8582" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="8584" href="Chapter.Imp.SmallStep.html#8496" class="Bound">c</a> <a id="8586" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="8589" href="Chapter.Imp.SmallStep.html#8501" class="Bound">c&#39;&#39;</a> <a id="8593" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="8595" href="Chapter.Imp.SmallStep.html#8505" class="Bound">s</a> <a id="8597" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="8599" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="8602" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="8604" href="Chapter.Imp.SmallStep.html#8498" class="Bound">c&#39;</a> <a id="8607" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="8610" href="Chapter.Imp.SmallStep.html#8501" class="Bound">c&#39;&#39;</a> <a id="8614" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="8616" href="Chapter.Imp.SmallStep.html#8507" class="Bound">s&#39;</a> <a id="8619" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
                    
<a id="8642" href="Chapter.Imp.SmallStep.html#8475" class="Function">lemma-big-small</a> <a id="8658" href="Chapter.Imp.SmallStep.html#4517" class="InductiveConstructor">⟶*-refl</a> <a id="8666" class="Symbol">=</a> <a id="8668" href="Chapter.Imp.SmallStep.html#4517" class="InductiveConstructor">⟶*-refl</a>
<a id="8676" href="Chapter.Imp.SmallStep.html#8475" class="Function">lemma-big-small</a> <a id="8692" class="Symbol">(</a><a id="8693" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="8701" href="Chapter.Imp.SmallStep.html#8701" class="Bound">x</a> <a id="8703" href="Chapter.Imp.SmallStep.html#8703" class="Bound">hyp</a><a id="8706" class="Symbol">)</a> <a id="8708" class="Symbol">=</a>
           <a id="8721" href="Chapter.Imp.SmallStep.html#4580" class="InductiveConstructor">⟶*-incl</a> <a id="8729" class="Symbol">(</a><a id="8730" href="Chapter.Imp.SmallStep.html#1869" class="InductiveConstructor">Comp₂</a> <a id="8736" href="Chapter.Imp.SmallStep.html#8701" class="Bound">x</a><a id="8737" class="Symbol">)</a> <a id="8739" class="Symbol">(</a><a id="8740" href="Chapter.Imp.SmallStep.html#8475" class="Function">lemma-big-small</a> <a id="8756" href="Chapter.Imp.SmallStep.html#8703" class="Bound">hyp</a><a id="8759" class="Symbol">)</a>
</pre>
<p>Then we prove <code class="language-plaintext highlighter-rouge">theorem-big-small</code> by induction over the derivation
of <code class="language-plaintext highlighter-rouge">⦅ c , s ⦆ ⇒ t</code>. In this proof we profit of the macros for reasoning
about reductions, hopefully making the argument more readable.</p>
<pre class="Agda"><a id="theorem-big-small"></a><a id="8973" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="8991" class="Symbol">:</a> <a id="8993" class="Symbol">∀</a> <a id="8995" class="Symbol">{</a><a id="8996" href="Chapter.Imp.SmallStep.html#8996" class="Bound">c</a> <a id="8998" href="Chapter.Imp.SmallStep.html#8998" class="Bound">s</a> <a id="9000" href="Chapter.Imp.SmallStep.html#9000" class="Bound">t</a><a id="9001" class="Symbol">}</a> <a id="9003" class="Symbol">-&gt;</a>
          <a id="9016" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="9018" href="Chapter.Imp.SmallStep.html#8996" class="Bound">c</a> <a id="9020" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="9022" href="Chapter.Imp.SmallStep.html#8998" class="Bound">s</a> <a id="9024" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="9026" href="Chapter.Imp.BigStep.html#3810" class="Datatype Operator">⇒</a> <a id="9028" href="Chapter.Imp.SmallStep.html#9000" class="Bound">t</a> <a id="9030" class="Symbol">-&gt;</a> <a id="9033" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="9035" href="Chapter.Imp.SmallStep.html#8996" class="Bound">c</a> <a id="9037" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="9039" href="Chapter.Imp.SmallStep.html#8998" class="Bound">s</a> <a id="9041" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="9043" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="9046" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="9048" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9053" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="9055" href="Chapter.Imp.SmallStep.html#9000" class="Bound">t</a> <a id="9057" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>

<a id="9060" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9078" class="Symbol">(</a><a id="9079" href="Chapter.Imp.BigStep.html#3849" class="InductiveConstructor">Skip</a> <a id="9084" class="Symbol">{</a><a id="9085" href="Chapter.Imp.SmallStep.html#9085" class="Bound">s</a><a id="9086" class="Symbol">})</a> <a id="9089" class="Symbol">=</a>
           <a id="9102" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="9104" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9109" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="9111" href="Chapter.Imp.SmallStep.html#9085" class="Bound">s</a> <a id="9113" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
<a id="9116" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9134" class="Symbol">(</a><a id="9135" href="Chapter.Imp.BigStep.html#3921" class="InductiveConstructor">Loc</a> <a id="9139" class="Symbol">{</a><a id="9140" href="Chapter.Imp.SmallStep.html#9140" class="Bound">x</a><a id="9141" class="Symbol">}</a> <a id="9143" class="Symbol">{</a><a id="9144" href="Chapter.Imp.SmallStep.html#9144" class="Bound">a</a><a id="9145" class="Symbol">}</a> <a id="9147" class="Symbol">{</a><a id="9148" href="Chapter.Imp.SmallStep.html#9148" class="Bound">s</a><a id="9149" class="Symbol">})</a> <a id="9152" class="Symbol">=</a>
           <a id="9165" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="9167" href="Chapter.Imp.SmallStep.html#9140" class="Bound">x</a> <a id="9169" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="9172" href="Chapter.Imp.SmallStep.html#9144" class="Bound">a</a> <a id="9174" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="9176" href="Chapter.Imp.SmallStep.html#9148" class="Bound">s</a> <a id="9178" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="9182" href="Chapter.Imp.SmallStep.html#1621" class="InductiveConstructor">Loc</a> <a id="9186" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="9199" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="9201" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9206" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="9208" href="Chapter.Imp.SmallStep.html#9148" class="Bound">s</a> <a id="9210" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="9212" href="Chapter.Imp.SmallStep.html#9140" class="Bound">x</a> <a id="9214" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="9218" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="9223" href="Chapter.Imp.SmallStep.html#9144" class="Bound">a</a> <a id="9225" href="Chapter.Imp.SmallStep.html#9148" class="Bound">s</a> <a id="9227" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a> <a id="9229" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
<a id="9232" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9250" class="Symbol">(</a><a id="9251" href="Chapter.Imp.BigStep.html#4039" class="InductiveConstructor">Comp</a> <a id="9256" class="Symbol">{</a><a id="9257" href="Chapter.Imp.SmallStep.html#9257" class="Bound">c₁</a><a id="9259" class="Symbol">}</a> <a id="9261" class="Symbol">{</a><a id="9262" href="Chapter.Imp.SmallStep.html#9262" class="Bound">c₂</a><a id="9264" class="Symbol">}</a> <a id="9266" class="Symbol">{</a><a id="9267" href="Chapter.Imp.SmallStep.html#9267" class="Bound">s₁</a><a id="9269" class="Symbol">}</a> <a id="9271" class="Symbol">{</a><a id="9272" href="Chapter.Imp.SmallStep.html#9272" class="Bound">s₂</a><a id="9274" class="Symbol">}</a> <a id="9276" class="Symbol">{</a><a id="9277" href="Chapter.Imp.SmallStep.html#9277" class="Bound">s₃</a><a id="9279" class="Symbol">}</a> <a id="9281" href="Chapter.Imp.SmallStep.html#9281" class="Bound">hyp1</a> <a id="9286" href="Chapter.Imp.SmallStep.html#9286" class="Bound">hyp2</a><a id="9290" class="Symbol">)</a> <a id="9292" class="Symbol">=</a>
           <a id="9305" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="9307" href="Chapter.Imp.SmallStep.html#9257" class="Bound">c₁</a> <a id="9310" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="9313" href="Chapter.Imp.SmallStep.html#9262" class="Bound">c₂</a> <a id="9316" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="9318" href="Chapter.Imp.SmallStep.html#9267" class="Bound">s₁</a> <a id="9321" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="9326" href="Chapter.Imp.SmallStep.html#8475" class="Function">lemma-big-small</a> <a id="9342" class="Symbol">(</a><a id="9343" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9361" href="Chapter.Imp.SmallStep.html#9281" class="Bound">hyp1</a><a id="9365" class="Symbol">)</a> <a id="9367" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a>
           <a id="9380" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="9382" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9387" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="9390" href="Chapter.Imp.SmallStep.html#9262" class="Bound">c₂</a> <a id="9393" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="9395" href="Chapter.Imp.SmallStep.html#9272" class="Bound">s₂</a> <a id="9398" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="9402" href="Chapter.Imp.SmallStep.html#1756" class="InductiveConstructor">Comp₁</a> <a id="9408" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="9421" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="9423" href="Chapter.Imp.SmallStep.html#9262" class="Bound">c₂</a> <a id="9426" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="9428" href="Chapter.Imp.SmallStep.html#9272" class="Bound">s₂</a> <a id="9431" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="9436" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9454" href="Chapter.Imp.SmallStep.html#9286" class="Bound">hyp2</a> <a id="9459" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a>
           <a id="9472" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="9474" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9479" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="9481" href="Chapter.Imp.SmallStep.html#9277" class="Bound">s₃</a> <a id="9484" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
<a id="9487" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9505" class="Symbol">(</a><a id="9506" href="Chapter.Imp.BigStep.html#4198" class="InductiveConstructor">IfTrue</a> <a id="9513" class="Symbol">{</a><a id="9514" href="Chapter.Imp.SmallStep.html#9514" class="Bound">c₁</a><a id="9516" class="Symbol">}</a> <a id="9518" class="Symbol">{</a><a id="9519" href="Chapter.Imp.SmallStep.html#9519" class="Bound">c₂</a><a id="9521" class="Symbol">}</a> <a id="9523" class="Symbol">{</a><a id="9524" href="Chapter.Imp.SmallStep.html#9524" class="Bound">b</a><a id="9525" class="Symbol">}</a> <a id="9527" class="Symbol">{</a><a id="9528" href="Chapter.Imp.SmallStep.html#9528" class="Bound">s</a><a id="9529" class="Symbol">}</a> <a id="9531" class="Symbol">{</a><a id="9532" href="Chapter.Imp.SmallStep.html#9532" class="Bound">t</a><a id="9533" class="Symbol">}</a> <a id="9535" href="Chapter.Imp.SmallStep.html#9535" class="Bound">x</a> <a id="9537" href="Chapter.Imp.SmallStep.html#9537" class="Bound">hyp</a><a id="9540" class="Symbol">)</a> <a id="9542" class="Symbol">=</a>
           <a id="9555" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="9557" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="9560" href="Chapter.Imp.SmallStep.html#9524" class="Bound">b</a> <a id="9562" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="9567" href="Chapter.Imp.SmallStep.html#9514" class="Bound">c₁</a> <a id="9570" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="9575" href="Chapter.Imp.SmallStep.html#9519" class="Bound">c₂</a> <a id="9578" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="9580" href="Chapter.Imp.SmallStep.html#9528" class="Bound">s</a> <a id="9582" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="9586" href="Chapter.Imp.SmallStep.html#2048" class="InductiveConstructor">IfTrue</a> <a id="9593" href="Chapter.Imp.SmallStep.html#9535" class="Bound">x</a> <a id="9595" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="9608" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="9610" href="Chapter.Imp.SmallStep.html#9514" class="Bound">c₁</a> <a id="9613" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="9615" href="Chapter.Imp.SmallStep.html#9528" class="Bound">s</a> <a id="9617" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="9622" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9640" href="Chapter.Imp.SmallStep.html#9537" class="Bound">hyp</a> <a id="9644" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a>
           <a id="9657" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="9659" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9664" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="9666" href="Chapter.Imp.SmallStep.html#9532" class="Bound">t</a> <a id="9668" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
<a id="9671" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9689" class="Symbol">(</a><a id="9690" href="Chapter.Imp.BigStep.html#4385" class="InductiveConstructor">IfFalse</a> <a id="9698" class="Symbol">{</a><a id="9699" href="Chapter.Imp.SmallStep.html#9699" class="Bound">c₁</a><a id="9701" class="Symbol">}</a> <a id="9703" class="Symbol">{</a><a id="9704" href="Chapter.Imp.SmallStep.html#9704" class="Bound">c₂</a><a id="9706" class="Symbol">}</a> <a id="9708" class="Symbol">{</a><a id="9709" href="Chapter.Imp.SmallStep.html#9709" class="Bound">b</a><a id="9710" class="Symbol">}</a> <a id="9712" class="Symbol">{</a><a id="9713" href="Chapter.Imp.SmallStep.html#9713" class="Bound">s</a><a id="9714" class="Symbol">}</a> <a id="9716" class="Symbol">{</a><a id="9717" href="Chapter.Imp.SmallStep.html#9717" class="Bound">t</a><a id="9718" class="Symbol">}</a> <a id="9720" href="Chapter.Imp.SmallStep.html#9720" class="Bound">x</a> <a id="9722" href="Chapter.Imp.SmallStep.html#9722" class="Bound">hyp</a><a id="9725" class="Symbol">)</a> <a id="9727" class="Symbol">=</a>
           <a id="9740" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="9742" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="9745" href="Chapter.Imp.SmallStep.html#9709" class="Bound">b</a> <a id="9747" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="9752" href="Chapter.Imp.SmallStep.html#9699" class="Bound">c₁</a> <a id="9755" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="9760" href="Chapter.Imp.SmallStep.html#9704" class="Bound">c₂</a> <a id="9763" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="9765" href="Chapter.Imp.SmallStep.html#9713" class="Bound">s</a> <a id="9767" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="9771" href="Chapter.Imp.SmallStep.html#2225" class="InductiveConstructor">IfFalse</a> <a id="9779" href="Chapter.Imp.SmallStep.html#9720" class="Bound">x</a> <a id="9781" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="9794" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="9796" href="Chapter.Imp.SmallStep.html#9704" class="Bound">c₂</a> <a id="9799" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="9801" href="Chapter.Imp.SmallStep.html#9713" class="Bound">s</a> <a id="9803" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="9808" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9826" href="Chapter.Imp.SmallStep.html#9722" class="Bound">hyp</a> <a id="9830" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a>
           <a id="9843" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="9845" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9850" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="9852" href="Chapter.Imp.SmallStep.html#9717" class="Bound">t</a> <a id="9854" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
<a id="9857" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="9875" class="Symbol">(</a><a id="9876" href="Chapter.Imp.BigStep.html#4569" class="InductiveConstructor">WhileFalse</a> <a id="9887" class="Symbol">{</a><a id="9888" href="Chapter.Imp.SmallStep.html#9888" class="Bound">c</a><a id="9889" class="Symbol">}</a> <a id="9891" class="Symbol">{</a><a id="9892" href="Chapter.Imp.SmallStep.html#9892" class="Bound">b</a><a id="9893" class="Symbol">}</a> <a id="9895" class="Symbol">{</a><a id="9896" href="Chapter.Imp.SmallStep.html#9896" class="Bound">s</a><a id="9897" class="Symbol">}</a> <a id="9899" href="Chapter.Imp.SmallStep.html#9899" class="Bound">x</a><a id="9900" class="Symbol">)</a> <a id="9902" class="Symbol">=</a>
           <a id="9915" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="9917" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="9923" href="Chapter.Imp.SmallStep.html#9892" class="Bound">b</a> <a id="9925" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="9928" href="Chapter.Imp.SmallStep.html#9888" class="Bound">c</a> <a id="9930" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="9932" href="Chapter.Imp.SmallStep.html#9896" class="Bound">s</a> <a id="9934" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="9938" href="Chapter.Imp.SmallStep.html#2403" class="InductiveConstructor">While</a> <a id="9944" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="9957" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="9959" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="9962" href="Chapter.Imp.SmallStep.html#9892" class="Bound">b</a> <a id="9964" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="9969" href="Chapter.Imp.SmallStep.html#9888" class="Bound">c</a> <a id="9971" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="9974" class="Symbol">(</a><a id="9975" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="9981" href="Chapter.Imp.SmallStep.html#9892" class="Bound">b</a> <a id="9983" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="9986" href="Chapter.Imp.SmallStep.html#9888" class="Bound">c</a><a id="9987" class="Symbol">)</a> <a id="9989" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="9994" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="9999" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="10001" href="Chapter.Imp.SmallStep.html#9896" class="Bound">s</a> <a id="10003" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="10007" href="Chapter.Imp.SmallStep.html#2225" class="InductiveConstructor">IfFalse</a> <a id="10015" href="Chapter.Imp.SmallStep.html#9899" class="Bound">x</a> <a id="10017" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="10030" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="10032" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="10037" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="10039" href="Chapter.Imp.SmallStep.html#9896" class="Bound">s</a> <a id="10041" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
<a id="10044" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="10062" class="Symbol">(</a><a id="10063" href="Chapter.Imp.BigStep.html#4727" class="InductiveConstructor">WhileTrue</a> <a id="10073" class="Symbol">{</a><a id="10074" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a><a id="10075" class="Symbol">}</a> <a id="10077" class="Symbol">{</a><a id="10078" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a><a id="10079" class="Symbol">}</a> <a id="10081" class="Symbol">{</a><a id="10082" href="Chapter.Imp.SmallStep.html#10082" class="Bound">s</a><a id="10083" class="Symbol">}</a> <a id="10085" class="Symbol">{</a><a id="10086" href="Chapter.Imp.SmallStep.html#10086" class="Bound">s′</a><a id="10088" class="Symbol">}</a> <a id="10090" class="Symbol">{</a><a id="10091" href="Chapter.Imp.SmallStep.html#10091" class="Bound">t</a><a id="10092" class="Symbol">}</a> <a id="10094" href="Chapter.Imp.SmallStep.html#10094" class="Bound">x</a> <a id="10096" href="Chapter.Imp.SmallStep.html#10096" class="Bound">hyp1</a> <a id="10101" href="Chapter.Imp.SmallStep.html#10101" class="Bound">hyp2</a><a id="10105" class="Symbol">)</a> <a id="10107" class="Symbol">=</a>
           <a id="10120" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="10122" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="10128" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a> <a id="10130" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="10133" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a> <a id="10135" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="10137" href="Chapter.Imp.SmallStep.html#10082" class="Bound">s</a> <a id="10139" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="10143" href="Chapter.Imp.SmallStep.html#2403" class="InductiveConstructor">While</a> <a id="10149" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="10162" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="10164" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">IF</a> <a id="10167" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a> <a id="10169" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">THEN</a> <a id="10174" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a> <a id="10176" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="10179" class="Symbol">(</a><a id="10180" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="10186" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a> <a id="10188" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="10191" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a><a id="10192" class="Symbol">)</a> <a id="10194" href="Chapter.Imp.BigStep.html#1681" class="InductiveConstructor Operator">ELSE</a> <a id="10199" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="10204" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="10206" href="Chapter.Imp.SmallStep.html#10082" class="Bound">s</a> <a id="10208" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="10212" href="Chapter.Imp.SmallStep.html#2048" class="InductiveConstructor">IfTrue</a> <a id="10219" href="Chapter.Imp.SmallStep.html#10094" class="Bound">x</a> <a id="10221" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="10234" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="10236" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a> <a id="10238" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="10241" class="Symbol">(</a><a id="10242" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="10248" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a> <a id="10250" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="10253" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a><a id="10254" class="Symbol">)</a> <a id="10256" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="10258" href="Chapter.Imp.SmallStep.html#10082" class="Bound">s</a> <a id="10260" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="10265" href="Chapter.Imp.SmallStep.html#8475" class="Function">lemma-big-small</a> <a id="10281" class="Symbol">(</a><a id="10282" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="10300" href="Chapter.Imp.SmallStep.html#10096" class="Bound">hyp1</a><a id="10304" class="Symbol">)</a> <a id="10306" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a>
           <a id="10319" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="10321" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="10326" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="10329" class="Symbol">(</a><a id="10330" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="10336" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a> <a id="10338" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="10341" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a><a id="10342" class="Symbol">)</a> <a id="10344" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="10346" href="Chapter.Imp.SmallStep.html#10086" class="Bound">s′</a> <a id="10349" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="10353" href="Chapter.Imp.SmallStep.html#1756" class="InductiveConstructor">Comp₁</a> <a id="10359" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
           <a id="10372" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦅</a> <a id="10374" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">WHILE</a> <a id="10380" href="Chapter.Imp.SmallStep.html#10078" class="Bound">b</a> <a id="10382" href="Chapter.Imp.BigStep.html#1738" class="InductiveConstructor Operator">DO</a> <a id="10385" href="Chapter.Imp.SmallStep.html#10074" class="Bound">c</a> <a id="10387" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">,</a> <a id="10389" href="Chapter.Imp.SmallStep.html#10086" class="Bound">s′</a> <a id="10392" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⦆⟶*⟨</a> <a id="10397" href="Chapter.Imp.SmallStep.html#8973" class="Function">theorem-big-small</a> <a id="10415" href="Chapter.Imp.SmallStep.html#10101" class="Bound">hyp2</a> <a id="10420" href="Chapter.Imp.SmallStep.html#5996" class="Function Operator">⟩</a>
           <a id="10433" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="10435" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="10440" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="10442" href="Chapter.Imp.SmallStep.html#10091" class="Bound">t</a> <a id="10444" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
</pre>
<p>We end this chapter observing that the two semantics are equivalent only
with respect to converging executions. Indeed if a configuration
<code class="language-plaintext highlighter-rouge">⦅ c , s ⦆</code> does not converge then nothing is obtainable from the definition
of <code class="language-plaintext highlighter-rouge">_⇒_</code>, which tells us only about the postive cases. On the contrary
the reduction relation <code class="language-plaintext highlighter-rouge">_⟶*_</code> can model even such diverging executions
which correspond to infinite reductions, even if we cannot decide when
this is the case.</p>

<p>As a matter of fact both relations are <em>semi-decidable</em>, but not <em>decidable</em> in
the sense of computability theory. Semi-decidability follows by the
fact that both relations are defined by finitary formal systems. Their undecidability
is consequence of the fact that both are formal descriptions of an interpreter for IMP
programs. In fact, in spite of its rudimentary syntax, IMP is a Turing complete programming
language, even slightly extending the <em>While</em> language used in Kfoury, Mall and Arbib’s book
<em>A Programming Approach to Computability</em>
as an equivalent substitute for Turing machines. Were either big or small-step semantics decidable,
we would have an algorithm deciding the halting problem.</p>

<h2 id="exercise">Exercise</h2>

<p>Let <code class="language-plaintext highlighter-rouge">com0</code> be the command</p>
<pre class="Agda"><a id="com0"></a><a id="11648" href="Chapter.Imp.SmallStep.html#11648" class="Function">com0</a> <a id="11653" class="Symbol">:</a> <a id="11655" href="Chapter.Imp.BigStep.html#1498" class="Datatype">Com</a>
<a id="11659" href="Chapter.Imp.SmallStep.html#11648" class="Function">com0</a> <a id="11664" class="Symbol">=</a> <a id="11666" class="Symbol">(</a><a id="11667" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a> <a id="11669" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="11672" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="11674" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a><a id="11675" class="Symbol">)</a> <a id="11677" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="11680" class="Symbol">((</a><a id="11682" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="11684" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="11687" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="11689" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a><a id="11690" class="Symbol">)</a> <a id="11692" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="11695" class="Symbol">(</a><a id="11696" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="11698" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="11701" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="11703" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a><a id="11704" class="Symbol">))</a>
</pre>
<p>swapping the values of <code class="language-plaintext highlighter-rouge">X</code> and <code class="language-plaintext highlighter-rouge">Y</code> using <code class="language-plaintext highlighter-rouge">Z</code> to temporarily save the value of <code class="language-plaintext highlighter-rouge">X</code>.
Consider the following states:</p>
<pre class="Agda"><a id="st07"></a><a id="11829" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="11834" class="Symbol">:</a> <a id="11836" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11842" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="11847" class="Symbol">=</a> <a id="11849" class="Symbol">((λ</a> <a id="11853" href="Chapter.Imp.SmallStep.html#11853" class="Bound">z</a> <a id="11855" class="Symbol">-&gt;</a> <a id="11858" class="Number">0</a><a id="11859" class="Symbol">)</a> <a id="11861" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="11863" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="11865" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="11869" class="Number">1</a> <a id="11871" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="11872" class="Symbol">)</a> <a id="11874" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="11876" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="11878" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="11882" class="Number">2</a> <a id="11884" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>

<a id="st08"></a><a id="11887" href="Chapter.Imp.SmallStep.html#11887" class="Function">st08</a> <a id="11892" class="Symbol">:</a> <a id="11894" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11900" href="Chapter.Imp.SmallStep.html#11887" class="Function">st08</a> <a id="11905" class="Symbol">=</a> <a id="11907" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="11912" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="11914" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a> <a id="11916" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="11920" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="11925" class="Symbol">(</a><a id="11926" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="11928" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a><a id="11929" class="Symbol">)</a> <a id="11931" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="11936" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>

<a id="st09"></a><a id="11939" href="Chapter.Imp.SmallStep.html#11939" class="Function">st09</a> <a id="11944" class="Symbol">:</a> <a id="11946" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11952" href="Chapter.Imp.SmallStep.html#11939" class="Function">st09</a> <a id="11957" class="Symbol">=</a> <a id="11959" href="Chapter.Imp.SmallStep.html#11887" class="Function">st08</a> <a id="11964" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="11966" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="11968" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="11972" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="11977" class="Symbol">(</a><a id="11978" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="11980" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a><a id="11981" class="Symbol">)</a> <a id="11983" href="Chapter.Imp.SmallStep.html#11887" class="Function">st08</a> <a id="11988" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>

<a id="st10"></a><a id="11991" href="Chapter.Imp.SmallStep.html#11991" class="Function">st10</a> <a id="11996" class="Symbol">:</a> <a id="11998" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="12004" href="Chapter.Imp.SmallStep.html#11991" class="Function">st10</a> <a id="12009" class="Symbol">=</a> <a id="12011" href="Chapter.Imp.SmallStep.html#11939" class="Function">st09</a> <a id="12016" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="12018" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12020" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="12024" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12029" class="Symbol">(</a><a id="12030" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12032" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a><a id="12033" class="Symbol">)</a> <a id="12035" href="Chapter.Imp.SmallStep.html#11939" class="Function">st09</a> <a id="12040" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>
</pre>
<p>such that</p>
<pre class="Agda"><a id="12060" href="Chapter.Imp.SmallStep.html#12060" class="Function">_</a> <a id="12062" class="Symbol">:</a> <a id="12064" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="12069" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="12071" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12074" class="Number">1</a>
<a id="12076" class="Symbol">_</a> <a id="12078" class="Symbol">=</a> <a id="12080" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="12086" href="Chapter.Imp.SmallStep.html#12086" class="Function">_</a> <a id="12088" class="Symbol">:</a> <a id="12090" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="12095" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12097" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12100" class="Number">2</a>
<a id="12102" class="Symbol">_</a> <a id="12104" class="Symbol">=</a> <a id="12106" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="12112" href="Chapter.Imp.SmallStep.html#12112" class="Function">_</a> <a id="12114" class="Symbol">:</a> <a id="12116" href="Chapter.Imp.SmallStep.html#11991" class="Function">st10</a> <a id="12121" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="12123" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12126" class="Number">2</a>
<a id="12128" class="Symbol">_</a> <a id="12130" class="Symbol">=</a> <a id="12132" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="12138" href="Chapter.Imp.SmallStep.html#12138" class="Function">_</a> <a id="12140" class="Symbol">:</a> <a id="12142" href="Chapter.Imp.SmallStep.html#11991" class="Function">st10</a> <a id="12147" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12149" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12152" class="Number">1</a>
<a id="12154" class="Symbol">_</a> <a id="12156" class="Symbol">=</a> <a id="12158" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
</pre>
<p>By means of the macros for reasoning about reduction, show</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  exec0 : ⦅ com0 , st07 ⦆ ⟶* ⦅ SKIP , st10 ⦆
</code></pre></div></div>

<pre class="Agda solution"><a id="exec0"></a><a id="12285" href="Chapter.Imp.SmallStep.html#12285" class="Function">exec0</a> <a id="12291" class="Symbol">:</a> <a id="12293" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="12295" href="Chapter.Imp.SmallStep.html#11648" class="Function">com0</a> <a id="12300" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="12302" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="12307" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a> <a id="12309" href="Chapter.Imp.SmallStep.html#4476" class="Datatype Operator">⟶*</a> <a id="12312" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦅</a> <a id="12314" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="12319" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">,</a> <a id="12321" href="Chapter.Imp.SmallStep.html#11991" class="Function">st10</a> <a id="12326" href="Chapter.Imp.BigStep.html#3329" class="InductiveConstructor Operator">⦆</a>
<a id="12328" href="Chapter.Imp.SmallStep.html#12285" class="Function">exec0</a> <a id="12334" class="Symbol">=</a> <a id="12336" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="12338" href="Chapter.Imp.SmallStep.html#11648" class="Function">com0</a> <a id="12343" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="12345" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="12350" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="12354" href="Chapter.Imp.SmallStep.html#1869" class="InductiveConstructor">Comp₂</a> <a id="12360" href="Chapter.Imp.SmallStep.html#1621" class="InductiveConstructor">Loc</a> <a id="12364" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a> 
        <a id="12375" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="12377" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="12382" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="12385" class="Symbol">((</a><a id="12387" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="12389" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="12392" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12394" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a><a id="12395" class="Symbol">)</a> <a id="12397" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="12400" class="Symbol">(</a><a id="12401" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12403" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="12406" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12408" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a><a id="12409" class="Symbol">))</a><a id="12411" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="12413" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="12418" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="12420" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a> <a id="12422" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="12426" href="Chapter.Imp.SmallStep.html#11829" class="Function">st07</a> <a id="12431" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="12433" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a> <a id="12435" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="12439" href="Chapter.Imp.SmallStep.html#1756" class="InductiveConstructor">Comp₁</a> <a id="12445" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
        <a id="12455" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="12457" class="Symbol">(</a><a id="12458" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="12460" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="12463" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12465" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a><a id="12466" class="Symbol">)</a> <a id="12468" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="12471" class="Symbol">(</a><a id="12472" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12474" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="12477" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12479" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a><a id="12480" class="Symbol">)</a> <a id="12482" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="12484" href="Chapter.Imp.SmallStep.html#11887" class="Function">st08</a> <a id="12489" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="12493" href="Chapter.Imp.SmallStep.html#1869" class="InductiveConstructor">Comp₂</a> <a id="12499" href="Chapter.Imp.SmallStep.html#1621" class="InductiveConstructor">Loc</a> <a id="12503" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
        <a id="12513" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="12515" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="12520" href="Chapter.Imp.BigStep.html#1627" class="InductiveConstructor Operator">::</a> <a id="12523" class="Symbol">(</a><a id="12524" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12526" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="12529" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12531" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a><a id="12532" class="Symbol">)</a> <a id="12534" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="12536" href="Chapter.Imp.SmallStep.html#11939" class="Function">st09</a> <a id="12541" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="12545" href="Chapter.Imp.SmallStep.html#1756" class="InductiveConstructor">Comp₁</a> <a id="12551" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a> 
        <a id="12562" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦅</a> <a id="12564" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="12566" href="Chapter.Imp.BigStep.html#1571" class="InductiveConstructor Operator">:=</a> <a id="12569" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="12571" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a> <a id="12573" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">,</a> <a id="12575" href="Chapter.Imp.SmallStep.html#11939" class="Function">st09</a> <a id="12580" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⦆⟶⟨</a> <a id="12584" href="Chapter.Imp.SmallStep.html#1621" class="InductiveConstructor">Loc</a> <a id="12588" href="Chapter.Imp.SmallStep.html#5800" class="Function Operator">⟩</a>
        <a id="12598" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦅</a> <a id="12600" href="Chapter.Imp.BigStep.html#1516" class="InductiveConstructor">SKIP</a> <a id="12605" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">,</a> <a id="12607" href="Chapter.Imp.SmallStep.html#11991" class="Function">st10</a> <a id="12612" href="Chapter.Imp.SmallStep.html#5737" class="Function Operator">⦆∎</a>
</pre>

  </div>
  <ul class="menu">
  <li>
    <a href="Chapter.Imp.BigStep.html">‹ Big-step operational semantics</a></li>
  <li>
    <a href="Chapter.Imp.HoareLogic.html">Hoare Logic for verification of IMP programs ›</a></li>
</ul>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>
  <div class="wrapper">
    <!-- <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"> -->
    <!--   <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png"/> -->
    <!-- </a> -->
    2022-2023
    <a href="https://boystrange.github.io">Luca Padovani</a>
    and <a href="http://www.di.unito.it/~deligu/">Ugo de'Liguoro</a>.
    Page generated on 20 Sep 2023.
  </div>
</footer>
</body>

</html>
