<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Arithmetic and boolean expressions | Introduction to Program Verification in Agda</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Arithmetic and boolean expressions" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="Introduction to Program Verification in Agda" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Arithmetic and boolean expressions" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Arithmetic and boolean expressions","url":"/pages/Chapter.Imp.AexpBexp.html"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="../assets/css/main.css">
  <link rel="stylesheet" href="../assets/css/Agda.css">
  <script src="../assets/js/mathjax.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="../assets/js/codereveal.js"></script>
  <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Introduction to Program Verification in Agda" /><!-- <script src="/assets/js/clipboard.min.js"></script> -->
  <!-- <script src="/assets/js/codeselect.js"></script> -->
</head>
<body>

<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="../index.html">Introduction to Program Verification in Agda</a>
    

    <nav class="site-nav">
      <a href="https://agda.readthedocs.io/en/latest/">AGDA DOCS</a>
    </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">
  <ul class="menu">
  <li>
    <a href="Chapter.Imp.Introduction.html">‹ Introduction to IMP and to Hoare Logic</a></li>
  <li>
    <a href="Chapter.Imp.BigStep.html">Big-step operational semantics ›</a></li>
</ul>
  <header class="post-header">
    <h1 class="post-title">Arithmetic and boolean expressions</h1>
  </header>

  <div class="post-content">
    <!--
<pre class="Agda"><a id="124" class="Symbol">{-#</a> <a id="128" class="Keyword">OPTIONS</a> <a id="136" class="Pragma">--allow-unsolved-metas</a> <a id="159" class="Symbol">#-}</a>
</pre>-->

<pre class="Agda"><a id="176" class="Keyword">module</a> <a id="183" href="Chapter.Imp.AexpBexp.html" class="Module">Chapter.Imp.AexpBexp</a> <a id="204" class="Keyword">where</a>
</pre>
<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Library.Bool.html" class="Module">Library.Bool</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Library.Nat.html" class="Module">Library.Nat</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Library.Nat.Properties.html" class="Module">Library.Nat.Properties</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Library.Logic.html" class="Module">Library.Logic</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Library.Equality.html" class="Module">Library.Equality</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Library.Equality.Reasoning.html" class="Module">Library.Equality.Reasoning</a>

</pre>
<p>In this chapter we introduce the data types <code class="language-plaintext highlighter-rouge">Aexp</code> and <code class="language-plaintext highlighter-rouge">Bexp</code> for <strong>arithmetic</strong> and <strong>boolean expressions</strong>
of the language IMP respectively.</p>

<p>Let <code class="language-plaintext highlighter-rouge">{X₀, X₁, ... }</code> be a denumerable set of <strong>program variables</strong>.
In Agda we formalize <code class="language-plaintext highlighter-rouge">Xᵢ</code> by <code class="language-plaintext highlighter-rouge">Vn i</code> namely the variable whose name has pedice or
index <code class="language-plaintext highlighter-rouge">i ∈ Index</code>, where <code class="language-plaintext highlighter-rouge">Index</code> is just <code class="language-plaintext highlighter-rouge">ℕ</code>, the set of natural numbers:</p>

<pre class="Agda"><a id="Index"></a><a id="787" href="Chapter.Imp.AexpBexp.html#787" class="Function">Index</a> <a id="793" class="Symbol">=</a> <a id="795" href="Library.Nat.html#32" class="Datatype">ℕ</a>
<a id="797" class="Keyword">data</a> <a id="Vname"></a><a id="802" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a> <a id="808" class="Symbol">:</a> <a id="810" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="814" class="Keyword">where</a>
   <a id="Vname.Vn"></a><a id="823" href="Chapter.Imp.AexpBexp.html#823" class="InductiveConstructor">Vn</a> <a id="826" class="Symbol">:</a> <a id="828" href="Chapter.Imp.AexpBexp.html#787" class="Function">Index</a> <a id="834" class="Symbol">-&gt;</a> <a id="837" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a>
</pre>
<p>In examples we shall use the following abbreviations:</p>
<pre class="Agda"><a id="X"></a><a id="906" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="908" class="Symbol">:</a> <a id="910" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a>
<a id="916" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="918" class="Symbol">=</a> <a id="920" href="Chapter.Imp.AexpBexp.html#823" class="InductiveConstructor">Vn</a> <a id="923" class="Number">0</a>

<a id="Y"></a><a id="926" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="928" class="Symbol">:</a> <a id="930" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a>
<a id="936" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="938" class="Symbol">=</a> <a id="940" href="Chapter.Imp.AexpBexp.html#823" class="InductiveConstructor">Vn</a> <a id="943" class="Number">1</a>

<a id="Z"></a><a id="946" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a> <a id="948" class="Symbol">:</a> <a id="950" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a>
<a id="956" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a> <a id="958" class="Symbol">=</a> <a id="960" href="Chapter.Imp.AexpBexp.html#823" class="InductiveConstructor">Vn</a> <a id="963" class="Number">2</a>
</pre>
<p>When handling expressions it is often necessary to check whether two variables are the same or not.
For such purpose we define the boolean valued function <code class="language-plaintext highlighter-rouge">x =Vn y</code> that compares a pair of names <code class="language-plaintext highlighter-rouge">x, y ∈ Vname</code>,
returning <code class="language-plaintext highlighter-rouge">true</code> if they are the same, <code class="language-plaintext highlighter-rouge">false</code> otherwise. Such a definition depends on a similar fanction
<code class="language-plaintext highlighter-rouge">n =ℕ m</code> checking whether two indexes, namely two natural numbers, are the same:</p>

<pre class="Agda"><a id="_=ℕ_"></a><a id="1373" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">_=ℕ_</a> <a id="1378" class="Symbol">:</a> <a id="1380" href="Library.Nat.html#32" class="Datatype">ℕ</a> <a id="1382" class="Symbol">-&gt;</a> <a id="1385" href="Library.Nat.html#32" class="Datatype">ℕ</a> <a id="1387" class="Symbol">-&gt;</a> <a id="1390" href="Library.Bool.html#33" class="Datatype">Bool</a>
<a id="1395" href="Library.Nat.html#48" class="InductiveConstructor">zero</a> <a id="1400" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">=ℕ</a> <a id="1403" href="Library.Nat.html#48" class="InductiveConstructor">zero</a> <a id="1408" class="Symbol">=</a> <a id="1410" href="Library.Bool.html#52" class="InductiveConstructor">true</a>
<a id="1415" href="Library.Nat.html#48" class="InductiveConstructor">zero</a> <a id="1420" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">=ℕ</a> <a id="1423" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="1428" href="Chapter.Imp.AexpBexp.html#1428" class="Bound">m</a> <a id="1430" class="Symbol">=</a> <a id="1432" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
<a id="1438" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="1443" href="Chapter.Imp.AexpBexp.html#1443" class="Bound">n</a> <a id="1445" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">=ℕ</a> <a id="1448" href="Library.Nat.html#48" class="InductiveConstructor">zero</a> <a id="1453" class="Symbol">=</a> <a id="1455" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
<a id="1461" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="1466" href="Chapter.Imp.AexpBexp.html#1466" class="Bound">n</a> <a id="1468" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">=ℕ</a> <a id="1471" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="1476" href="Chapter.Imp.AexpBexp.html#1476" class="Bound">m</a> <a id="1478" class="Symbol">=</a> <a id="1480" href="Chapter.Imp.AexpBexp.html#1466" class="Bound">n</a> <a id="1482" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">=ℕ</a> <a id="1485" href="Chapter.Imp.AexpBexp.html#1476" class="Bound">m</a>

<a id="_=Vn_"></a><a id="1488" href="Chapter.Imp.AexpBexp.html#1488" class="Function Operator">_=Vn_</a> <a id="1494" class="Symbol">:</a> <a id="1496" class="Symbol">(</a><a id="1497" href="Chapter.Imp.AexpBexp.html#1497" class="Bound">x</a> <a id="1499" href="Chapter.Imp.AexpBexp.html#1499" class="Bound">y</a> <a id="1501" class="Symbol">:</a> <a id="1503" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a><a id="1508" class="Symbol">)</a> <a id="1510" class="Symbol">-&gt;</a> <a id="1513" href="Library.Bool.html#33" class="Datatype">Bool</a>
<a id="1518" href="Chapter.Imp.AexpBexp.html#823" class="InductiveConstructor">Vn</a> <a id="1521" href="Chapter.Imp.AexpBexp.html#1521" class="Bound">i</a> <a id="1523" href="Chapter.Imp.AexpBexp.html#1488" class="Function Operator">=Vn</a> <a id="1527" href="Chapter.Imp.AexpBexp.html#823" class="InductiveConstructor">Vn</a> <a id="1530" href="Chapter.Imp.AexpBexp.html#1530" class="Bound">j</a> <a id="1532" class="Symbol">=</a> <a id="1534" href="Chapter.Imp.AexpBexp.html#1521" class="Bound">i</a> <a id="1536" href="Chapter.Imp.AexpBexp.html#1373" class="Function Operator">=ℕ</a> <a id="1539" href="Chapter.Imp.AexpBexp.html#1530" class="Bound">j</a>
</pre>
<p>Now we can define the syntax of arithmetic expressions by the grammar:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                   Aexp ∋ a, a' ::= N n | V vn | Plus a a' 
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">n ∈ Nat</code>, <code class="language-plaintext highlighter-rouge">vn ∈ Vname</code>, which is represented by the data type <code class="language-plaintext highlighter-rouge">Aexp</code>:</p>

<pre class="Agda"><a id="1765" class="Keyword">data</a> <a id="Aexp"></a><a id="1770" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="1775" class="Symbol">:</a> <a id="1777" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1781" class="Keyword">where</a>
   <a id="Aexp.N"></a><a id="1790" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="1792" class="Symbol">:</a> <a id="1794" href="Library.Nat.html#32" class="Datatype">ℕ</a> <a id="1796" class="Symbol">-&gt;</a> <a id="1799" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>                  <a id="1821" class="Comment">-- numerals</a>
   <a id="Aexp.V"></a><a id="1836" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="1838" class="Symbol">:</a> <a id="1840" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a> <a id="1846" class="Symbol">-&gt;</a> <a id="1849" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>              <a id="1867" class="Comment">-- variables</a>
   <a id="Aexp.Plus"></a><a id="1883" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="1888" class="Symbol">:</a> <a id="1890" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="1895" class="Symbol">-&gt;</a> <a id="1898" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="1903" class="Symbol">-&gt;</a> <a id="1906" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>    <a id="1914" class="Comment">-- sum</a>
</pre>
<p>For example the expression <code class="language-plaintext highlighter-rouge">aexp0</code>:</p>
<pre class="Agda"><a id="aexp0"></a><a id="1966" href="Chapter.Imp.AexpBexp.html#1966" class="Function">aexp0</a> <a id="1972" class="Symbol">:</a> <a id="1974" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>
<a id="1979" href="Chapter.Imp.AexpBexp.html#1966" class="Function">aexp0</a> <a id="1985" class="Symbol">=</a> <a id="1987" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="1992" class="Symbol">(</a><a id="1993" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="1995" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a><a id="1996" class="Symbol">)</a> <a id="1998" class="Symbol">(</a><a id="1999" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="2004" class="Symbol">(</a><a id="2005" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="2007" class="Number">1</a><a id="2008" class="Symbol">)</a> <a id="2010" class="Symbol">(</a><a id="2011" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="2013" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a><a id="2014" class="Symbol">))</a>
</pre>
<p>is abstract syntax of the (concrete) expression: <code class="language-plaintext highlighter-rouge">X + (1 + Y)</code>.</p>

<h3 id="semantics-of-aritmetic-expressions">Semantics of aritmetic expressions</h3>

<p>The meaning of an expression <code class="language-plaintext highlighter-rouge">a ∈ Aexp</code> is a value that we define as a natural number. Since <code class="language-plaintext highlighter-rouge">a</code> may include
program variables we have to assign a meaning to each of them; this is done via the notion of <strong>state</strong>,
which is a mapping from variable names to values:</p>

<pre class="Agda"><a id="Val"></a><a id="2396" href="Chapter.Imp.AexpBexp.html#2396" class="Function">Val</a> <a id="2400" class="Symbol">=</a> <a id="2402" href="Library.Nat.html#32" class="Datatype">ℕ</a>
<a id="State"></a><a id="2404" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a> <a id="2410" class="Symbol">=</a> <a id="2412" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a> <a id="2418" class="Symbol">-&gt;</a> <a id="2421" href="Chapter.Imp.AexpBexp.html#2396" class="Function">Val</a>
</pre>
<p>States are defined as total functions for the sake of simplicity. Indeed to determine the value of an expression
<code class="language-plaintext highlighter-rouge">a</code> it suffices a partial mapping from the set of variables occurring in <code class="language-plaintext highlighter-rouge">a</code>, which is obviously finite.
This is consistent with the idea that the state is an abstraction of the finite memory of a computer,
where memory adresses are represented by variable names.</p>

<p>By using the above definition of <code class="language-plaintext highlighter-rouge">State</code> we avoid dealing with partial functions and the Maybe type constructor
or similar tricks, for example in the subsequent definition of the evaluating function <code class="language-plaintext highlighter-rouge">aval</code>.</p>

<p>The execution of an imperative program consists of a series of changes of the
meaning of program variables, performed by subsequently <strong>updating</strong> the state, that is a local redefinition
of the meaning of a single variable. We formalize the updating operation by means of the operator
<code class="language-plaintext highlighter-rouge">s [ x ::= v]</code> returning the state behaving like <code class="language-plaintext highlighter-rouge">s</code>, but when applied to <code class="language-plaintext highlighter-rouge">x</code> where it yields <code class="language-plaintext highlighter-rouge">v</code>.</p>

<pre class="Agda"><a id="_[_::=_]"></a><a id="3405" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">_[_::=_]</a> <a id="3414" class="Symbol">:</a> <a id="3416" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a> <a id="3422" class="Symbol">-&gt;</a> <a id="3425" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a> <a id="3431" class="Symbol">-&gt;</a> <a id="3434" href="Chapter.Imp.AexpBexp.html#2396" class="Function">Val</a> <a id="3438" class="Symbol">-&gt;</a> <a id="3441" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="3447" class="Symbol">(</a><a id="3448" href="Chapter.Imp.AexpBexp.html#3448" class="Bound">s</a> <a id="3450" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="3452" href="Chapter.Imp.AexpBexp.html#3452" class="Bound">x</a> <a id="3454" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="3458" href="Chapter.Imp.AexpBexp.html#3458" class="Bound">v</a> <a id="3460" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="3461" class="Symbol">)</a> <a id="3463" href="Chapter.Imp.AexpBexp.html#3463" class="Bound">y</a> <a id="3465" class="Symbol">=</a> <a id="3467" href="Library.Bool.html#71" class="Function Operator">if</a> <a id="3470" href="Chapter.Imp.AexpBexp.html#3452" class="Bound">x</a> <a id="3472" href="Chapter.Imp.AexpBexp.html#1488" class="Function Operator">=Vn</a> <a id="3476" href="Chapter.Imp.AexpBexp.html#3463" class="Bound">y</a> <a id="3478" href="Library.Bool.html#71" class="Function Operator">then</a> <a id="3483" href="Chapter.Imp.AexpBexp.html#3458" class="Bound">v</a> <a id="3485" href="Library.Bool.html#71" class="Function Operator">else</a> <a id="3490" href="Chapter.Imp.AexpBexp.html#3448" class="Bound">s</a> <a id="3492" href="Chapter.Imp.AexpBexp.html#3463" class="Bound">y</a> 
</pre>
<p>Then we use the update operation to define states <code class="language-plaintext highlighter-rouge">st1</code> and <code class="language-plaintext highlighter-rouge">st2</code> starting with default state <code class="language-plaintext highlighter-rouge">st0</code>, assigning 0
to all program varibles:</p>

<pre class="Agda"><a id="st0"></a><a id="3643" href="Chapter.Imp.AexpBexp.html#3643" class="Function">st0</a> <a id="3647" class="Symbol">:</a> <a id="3649" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="3655" href="Chapter.Imp.AexpBexp.html#3643" class="Function">st0</a> <a id="3659" class="Symbol">=</a> <a id="3661" class="Symbol">λ</a> <a id="3663" href="Chapter.Imp.AexpBexp.html#3663" class="Bound">x</a> <a id="3665" class="Symbol">-&gt;</a> <a id="3668" class="Number">0</a>

<a id="st1"></a><a id="3671" href="Chapter.Imp.AexpBexp.html#3671" class="Function">st1</a> <a id="3675" class="Symbol">:</a> <a id="3677" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="3683" href="Chapter.Imp.AexpBexp.html#3671" class="Function">st1</a> <a id="3687" class="Symbol">=</a> <a id="3689" href="Chapter.Imp.AexpBexp.html#3643" class="Function">st0</a> <a id="3693" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="3695" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="3697" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="3701" class="Number">1</a> <a id="3703" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>

<a id="st2"></a><a id="3706" href="Chapter.Imp.AexpBexp.html#3706" class="Function">st2</a> <a id="3710" class="Symbol">:</a> <a id="3712" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="3718" href="Chapter.Imp.AexpBexp.html#3706" class="Function">st2</a> <a id="3722" class="Symbol">=</a> <a id="3724" href="Chapter.Imp.AexpBexp.html#3671" class="Function">st1</a> <a id="3728" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="3730" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="3732" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="3736" class="Number">2</a> <a id="3738" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>  <a id="3741" class="Comment">-- equivalently:  st2 = (st0 [ X ::= 1 ]) [ Y ::= 2 ]</a>
</pre>
<p>The function <code class="language-plaintext highlighter-rouge">aval</code> is an interpreter of expressions in <code class="language-plaintext highlighter-rouge">Aexp</code> that uses the state in case of variables:</p>

<pre class="Agda"><a id="aval"></a><a id="3910" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="3915" class="Symbol">:</a> <a id="3917" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="3922" class="Symbol">-&gt;</a> <a id="3925" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a> <a id="3931" class="Symbol">-&gt;</a> <a id="3934" href="Chapter.Imp.AexpBexp.html#2396" class="Function">Val</a>
<a id="3938" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="3943" class="Symbol">(</a><a id="3944" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="3946" href="Chapter.Imp.AexpBexp.html#3946" class="Bound">n</a><a id="3947" class="Symbol">)</a> <a id="3949" href="Chapter.Imp.AexpBexp.html#3949" class="Bound">s</a> <a id="3951" class="Symbol">=</a> <a id="3953" href="Chapter.Imp.AexpBexp.html#3946" class="Bound">n</a>
<a id="3955" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="3960" class="Symbol">(</a><a id="3961" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="3963" href="Chapter.Imp.AexpBexp.html#3963" class="Bound">vn</a><a id="3965" class="Symbol">)</a> <a id="3967" href="Chapter.Imp.AexpBexp.html#3967" class="Bound">s</a> <a id="3969" class="Symbol">=</a> <a id="3971" href="Chapter.Imp.AexpBexp.html#3967" class="Bound">s</a> <a id="3973" href="Chapter.Imp.AexpBexp.html#3963" class="Bound">vn</a>
<a id="3976" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="3981" class="Symbol">(</a><a id="3982" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="3987" href="Chapter.Imp.AexpBexp.html#3987" class="Bound">a1</a> <a id="3990" href="Chapter.Imp.AexpBexp.html#3990" class="Bound">a2</a><a id="3992" class="Symbol">)</a> <a id="3994" href="Chapter.Imp.AexpBexp.html#3994" class="Bound">s</a> <a id="3996" class="Symbol">=</a> <a id="3998" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="4003" href="Chapter.Imp.AexpBexp.html#3987" class="Bound">a1</a> <a id="4006" href="Chapter.Imp.AexpBexp.html#3994" class="Bound">s</a> <a id="4008" href="Library.Nat.html#145" class="Function Operator">+</a> <a id="4010" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="4015" href="Chapter.Imp.AexpBexp.html#3990" class="Bound">a2</a> <a id="4018" href="Chapter.Imp.AexpBexp.html#3994" class="Bound">s</a>
</pre>
<p>The evaluation of the numeral <code class="language-plaintext highlighter-rouge">N n</code> does not depend on the state <code class="language-plaintext highlighter-rouge">s</code>, and just returns n. In case of the
evaluation of a variable <code class="language-plaintext highlighter-rouge">V vn</code>, <code class="language-plaintext highlighter-rouge">aval</code> returns the value of the state <code class="language-plaintext highlighter-rouge">s</code> when applied to <code class="language-plaintext highlighter-rouge">vn</code> namely <code class="language-plaintext highlighter-rouge">s vn</code>.
Finally to evaluate <code class="language-plaintext highlighter-rouge">Plus a1 a2</code> in <code class="language-plaintext highlighter-rouge">s</code>, <code class="language-plaintext highlighter-rouge">aval</code> recursively evaluates <code class="language-plaintext highlighter-rouge">a1</code> and <code class="language-plaintext highlighter-rouge">a2</code> in the same state <code class="language-plaintext highlighter-rouge">s</code>, and then
ruturns the sum of the so obtained values, hence by interpreting the symbol <code class="language-plaintext highlighter-rouge">Plus</code> (a constructor in Agda code)
by the arithmetical function <code class="language-plaintext highlighter-rouge">_+_</code>.</p>

<p>Consider:</p>

<pre class="Agda"><a id="aval-example1"></a><a id="4521" href="Chapter.Imp.AexpBexp.html#4521" class="Function">aval-example1</a> <a id="4535" class="Symbol">:</a> <a id="4537" href="Chapter.Imp.AexpBexp.html#2396" class="Function">Val</a>
<a id="4541" href="Chapter.Imp.AexpBexp.html#4521" class="Function">aval-example1</a> <a id="4555" class="Symbol">=</a> <a id="4557" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="4562" href="Chapter.Imp.AexpBexp.html#1966" class="Function">aexp0</a> <a id="4568" href="Chapter.Imp.AexpBexp.html#3706" class="Function">st2</a>
</pre>
<p>Then you can check by hitting <code class="language-plaintext highlighter-rouge">C-c C-n eaval-xample1</code> that the value of <code class="language-plaintext highlighter-rouge">aexp0</code> 
encoding the expression <code class="language-plaintext highlighter-rouge">X + (1 + Y)</code> when computed in the state <code class="language-plaintext highlighter-rouge">st2</code> above is 4.</p>

<h3 id="substitution">Substitution</h3>

<p><strong>Substitution</strong> is the operation of replacing each occurrence of a variable <code class="language-plaintext highlighter-rouge">x</code> in an
expression <code class="language-plaintext highlighter-rouge">a</code> by an expression <code class="language-plaintext highlighter-rouge">a'</code>, producing the new expression <code class="language-plaintext highlighter-rouge">a [ a' / x]</code>.</p>

<pre class="Agda"><a id="_[_/_]"></a><a id="4935" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">_[_/_]</a> <a id="4942" class="Symbol">:</a> <a id="4944" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="4949" class="Symbol">-&gt;</a> <a id="4952" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="4957" class="Symbol">-&gt;</a> <a id="4960" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a> <a id="4966" class="Symbol">-&gt;</a> <a id="4969" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>
<a id="4974" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="4976" href="Chapter.Imp.AexpBexp.html#4976" class="Bound">n</a>  <a id="4979" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="4981" href="Chapter.Imp.AexpBexp.html#4981" class="Bound">a&#39;</a> <a id="4984" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="4986" href="Chapter.Imp.AexpBexp.html#4986" class="Bound">x</a> <a id="4988" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a> <a id="4990" class="Symbol">=</a> <a id="4992" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="4994" href="Chapter.Imp.AexpBexp.html#4976" class="Bound">n</a>
<a id="4996" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="4998" href="Chapter.Imp.AexpBexp.html#4998" class="Bound">y</a>  <a id="5001" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="5003" href="Chapter.Imp.AexpBexp.html#5003" class="Bound">a&#39;</a> <a id="5006" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="5008" href="Chapter.Imp.AexpBexp.html#5008" class="Bound">x</a> <a id="5010" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a> <a id="5012" class="Keyword">with</a> <a id="5017" href="Chapter.Imp.AexpBexp.html#5008" class="Bound">x</a> <a id="5019" href="Chapter.Imp.AexpBexp.html#1488" class="Function Operator">=Vn</a> <a id="5023" href="Chapter.Imp.AexpBexp.html#4998" class="Bound">y</a>
<a id="5025" class="Symbol">...</a> <a id="5029" class="Symbol">|</a> <a id="5031" href="Library.Bool.html#52" class="InductiveConstructor">true</a>  <a id="5037" class="Symbol">=</a> <a id="5039" class="Bound">a&#39;</a>
<a id="5042" class="Symbol">...</a> <a id="5046" class="Symbol">|</a> <a id="5048" href="Library.Bool.html#57" class="InductiveConstructor">false</a> <a id="5054" class="Symbol">=</a> <a id="5056" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="5058" class="Bound">y</a>
<a id="5060" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="5065" href="Chapter.Imp.AexpBexp.html#5065" class="Bound">a1</a> <a id="5068" href="Chapter.Imp.AexpBexp.html#5068" class="Bound">a2</a> <a id="5071" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="5073" href="Chapter.Imp.AexpBexp.html#5073" class="Bound">a&#39;</a> <a id="5076" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="5078" href="Chapter.Imp.AexpBexp.html#5078" class="Bound">x</a> <a id="5080" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a> <a id="5082" class="Symbol">=</a> <a id="5084" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="5089" class="Symbol">(</a><a id="5090" href="Chapter.Imp.AexpBexp.html#5065" class="Bound">a1</a> <a id="5093" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="5095" href="Chapter.Imp.AexpBexp.html#5073" class="Bound">a&#39;</a> <a id="5098" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="5100" href="Chapter.Imp.AexpBexp.html#5078" class="Bound">x</a> <a id="5102" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="5103" class="Symbol">)</a> <a id="5105" class="Symbol">(</a><a id="5106" href="Chapter.Imp.AexpBexp.html#5068" class="Bound">a2</a> <a id="5109" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="5111" href="Chapter.Imp.AexpBexp.html#5073" class="Bound">a&#39;</a> <a id="5114" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="5116" href="Chapter.Imp.AexpBexp.html#5078" class="Bound">x</a> <a id="5118" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="5119" class="Symbol">)</a>
</pre>
<p>In concrete notation, the substitution <code class="language-plaintext highlighter-rouge">(X + (1 + Y)) [ (Z + 3) / X ]</code> yields the
expression <code class="language-plaintext highlighter-rouge">(Z + 3) + (1 + Y)</code>, whose abstract syntax can be obtained
by typing <code class="language-plaintext highlighter-rouge">C-c C-n aexp1</code> which is defined below:</p>
<pre class="Agda"><a id="aexp1"></a><a id="5332" href="Chapter.Imp.AexpBexp.html#5332" class="Function">aexp1</a> <a id="5338" class="Symbol">:</a> <a id="5340" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>
<a id="5345" href="Chapter.Imp.AexpBexp.html#5332" class="Function">aexp1</a> <a id="5351" class="Symbol">=</a> <a id="5353" href="Chapter.Imp.AexpBexp.html#1966" class="Function">aexp0</a> <a id="5359" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="5361" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="5366" class="Symbol">(</a><a id="5367" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="5369" href="Chapter.Imp.AexpBexp.html#946" class="Function">Z</a><a id="5370" class="Symbol">)</a> <a id="5372" class="Symbol">(</a><a id="5373" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="5375" class="Number">3</a><a id="5376" class="Symbol">)</a> <a id="5378" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="5380" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="5382" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a>
</pre>
<p>Notice that substitution is not recursive:</p>
<pre class="Agda"><a id="aexp2"></a><a id="5436" href="Chapter.Imp.AexpBexp.html#5436" class="Function">aexp2</a> <a id="5442" class="Symbol">:</a> <a id="5444" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a>
<a id="5449" href="Chapter.Imp.AexpBexp.html#5436" class="Function">aexp2</a> <a id="5455" class="Symbol">=</a> <a id="5457" href="Chapter.Imp.AexpBexp.html#1966" class="Function">aexp0</a> <a id="5463" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="5465" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="5470" class="Symbol">(</a><a id="5471" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="5473" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a><a id="5474" class="Symbol">)</a> <a id="5476" class="Symbol">(</a><a id="5477" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="5479" class="Number">3</a><a id="5480" class="Symbol">)</a> <a id="5482" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="5484" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a> <a id="5486" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a>
</pre>
<p>When typing <code class="language-plaintext highlighter-rouge">C-c C-n aexp2</code> we get</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                 Plus (Plus (V (Vn 0)) (N 3)) (Plus (N 1) (V (Vn 1)))
</code></pre></div></div>

<p>where rember that <code class="language-plaintext highlighter-rouge">Vn 0 == X</code>.</p>

<h3 id="the-substitution-lemma">The substitution lemma</h3>

<p>A key property of substitution, which is a syntactic operation, is its consistency with the
semantics of expressions in <code class="language-plaintext highlighter-rouge">Aexp</code> as given by the evaluation function <code class="language-plaintext highlighter-rouge">aval</code>. This is some kind
of commutativity property: it tells that by first substituting <code class="language-plaintext highlighter-rouge">a'</code> for <code class="language-plaintext highlighter-rouge">x</code> in <code class="language-plaintext highlighter-rouge">a</code> and
then evaluating the result w.r.t. the state <code class="language-plaintext highlighter-rouge">s</code> we get the same value as evaluating <code class="language-plaintext highlighter-rouge">a</code>
in the state <code class="language-plaintext highlighter-rouge">s [ x ::= (aval a' s) ]</code>, which is <code class="language-plaintext highlighter-rouge">s</code> where the value of <code class="language-plaintext highlighter-rouge">x</code> has been updated
to the value of <code class="language-plaintext highlighter-rouge">a'</code> w.r.t. <code class="language-plaintext highlighter-rouge">s</code>.</p>

<pre class="Agda"><a id="lemma-subst-aexp"></a><a id="6158" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="6175" class="Symbol">:</a> <a id="6177" class="Symbol">∀</a> <a id="6179" class="Symbol">(</a><a id="6180" href="Chapter.Imp.AexpBexp.html#6180" class="Bound">a</a> <a id="6182" href="Chapter.Imp.AexpBexp.html#6182" class="Bound">a&#39;</a> <a id="6185" class="Symbol">:</a> <a id="6187" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a><a id="6191" class="Symbol">)</a> <a id="6193" class="Symbol">(</a><a id="6194" href="Chapter.Imp.AexpBexp.html#6194" class="Bound">x</a> <a id="6196" class="Symbol">:</a> <a id="6198" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a><a id="6203" class="Symbol">)</a> <a id="6205" class="Symbol">(</a><a id="6206" href="Chapter.Imp.AexpBexp.html#6206" class="Bound">s</a> <a id="6208" class="Symbol">:</a> <a id="6210" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a><a id="6215" class="Symbol">)</a> <a id="6217" class="Symbol">-&gt;</a>
                     <a id="6241" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6246" class="Symbol">(</a><a id="6247" href="Chapter.Imp.AexpBexp.html#6180" class="Bound">a</a> <a id="6249" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="6251" href="Chapter.Imp.AexpBexp.html#6182" class="Bound">a&#39;</a> <a id="6254" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="6256" href="Chapter.Imp.AexpBexp.html#6194" class="Bound">x</a> <a id="6258" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="6259" class="Symbol">)</a> <a id="6261" href="Chapter.Imp.AexpBexp.html#6206" class="Bound">s</a> <a id="6263" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="6266" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6271" href="Chapter.Imp.AexpBexp.html#6180" class="Bound">a</a> <a id="6273" class="Symbol">(</a><a id="6274" href="Chapter.Imp.AexpBexp.html#6206" class="Bound">s</a> <a id="6276" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="6278" href="Chapter.Imp.AexpBexp.html#6194" class="Bound">x</a> <a id="6280" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="6284" class="Symbol">(</a><a id="6285" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6290" href="Chapter.Imp.AexpBexp.html#6182" class="Bound">a&#39;</a> <a id="6293" href="Chapter.Imp.AexpBexp.html#6206" class="Bound">s</a><a id="6294" class="Symbol">)</a> <a id="6296" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="6297" class="Symbol">)</a>
                     
<a id="6321" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="6338" class="Symbol">(</a><a id="6339" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="6341" href="Chapter.Imp.AexpBexp.html#6341" class="Bound">n</a><a id="6342" class="Symbol">)</a> <a id="6344" href="Chapter.Imp.AexpBexp.html#6344" class="Bound">a&#39;</a> <a id="6347" href="Chapter.Imp.AexpBexp.html#6347" class="Bound">x</a> <a id="6349" href="Chapter.Imp.AexpBexp.html#6349" class="Bound">s</a> <a id="6351" class="Symbol">=</a>
   <a id="6356" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
      <a id="6368" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6373" class="Symbol">((</a><a id="6375" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="6377" href="Chapter.Imp.AexpBexp.html#6341" class="Bound">n</a><a id="6378" class="Symbol">)</a> <a id="6380" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="6382" href="Chapter.Imp.AexpBexp.html#6344" class="Bound">a&#39;</a> <a id="6385" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="6387" href="Chapter.Imp.AexpBexp.html#6347" class="Bound">x</a> <a id="6389" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="6390" class="Symbol">)</a> <a id="6392" href="Chapter.Imp.AexpBexp.html#6349" class="Bound">s</a> <a id="6394" href="Library.Equality.Reasoning.html#440" class="Function Operator">==⟨⟩</a>          <a id="6408" class="Comment">-- by definition of substitution</a>
      <a id="6447" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6452" class="Symbol">(</a><a id="6453" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="6455" href="Chapter.Imp.AexpBexp.html#6341" class="Bound">n</a><a id="6456" class="Symbol">)</a> <a id="6458" href="Chapter.Imp.AexpBexp.html#6349" class="Bound">s</a>              <a id="6473" href="Library.Equality.Reasoning.html#440" class="Function Operator">==⟨⟩</a>          <a id="6487" class="Comment">-- by definition of aval</a>
      <a id="6518" href="Chapter.Imp.AexpBexp.html#6341" class="Bound">n</a>                         <a id="6544" href="Library.Equality.Reasoning.html#440" class="Function Operator">==⟨⟩</a>          <a id="6558" class="Comment">-- by definition of aval</a>
      <a id="6589" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6594" class="Symbol">(</a><a id="6595" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="6597" href="Chapter.Imp.AexpBexp.html#6341" class="Bound">n</a><a id="6598" class="Symbol">)</a> <a id="6600" class="Symbol">(</a><a id="6601" href="Chapter.Imp.AexpBexp.html#6349" class="Bound">s</a> <a id="6603" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="6605" href="Chapter.Imp.AexpBexp.html#6347" class="Bound">x</a> <a id="6607" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="6611" class="Symbol">(</a><a id="6612" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6617" href="Chapter.Imp.AexpBexp.html#6344" class="Bound">a&#39;</a> <a id="6620" href="Chapter.Imp.AexpBexp.html#6349" class="Bound">s</a><a id="6621" class="Symbol">)</a> <a id="6623" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="6624" class="Symbol">)</a>
   <a id="6629" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
<a id="6633" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="6650" class="Symbol">(</a><a id="6651" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="6653" href="Chapter.Imp.AexpBexp.html#6653" class="Bound">y</a><a id="6654" class="Symbol">)</a> <a id="6656" href="Chapter.Imp.AexpBexp.html#6656" class="Bound">a&#39;</a> <a id="6659" href="Chapter.Imp.AexpBexp.html#6659" class="Bound">x</a> <a id="6661" href="Chapter.Imp.AexpBexp.html#6661" class="Bound">s</a> <a id="6663" class="Keyword">with</a> <a id="6668" href="Chapter.Imp.AexpBexp.html#6659" class="Bound">x</a> <a id="6670" href="Chapter.Imp.AexpBexp.html#1488" class="Function Operator">=Vn</a> <a id="6674" href="Chapter.Imp.AexpBexp.html#6653" class="Bound">y</a>
<a id="6676" class="Symbol">...</a> <a id="6680" class="Symbol">|</a> <a id="6682" href="Library.Bool.html#52" class="InductiveConstructor">true</a>  <a id="6688" class="Symbol">=</a> <a id="6690" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="6695" class="Symbol">...</a> <a id="6699" class="Symbol">|</a> <a id="6701" href="Library.Bool.html#57" class="InductiveConstructor">false</a> <a id="6707" class="Symbol">=</a> <a id="6709" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="6714" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="6731" class="Symbol">(</a><a id="6732" href="Chapter.Imp.AexpBexp.html#1883" class="InductiveConstructor">Plus</a> <a id="6737" href="Chapter.Imp.AexpBexp.html#6737" class="Bound">a1</a> <a id="6740" href="Chapter.Imp.AexpBexp.html#6740" class="Bound">a2</a><a id="6742" class="Symbol">)</a> <a id="6744" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="6747" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="6749" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="6751" class="Symbol">=</a> 
   <a id="6757" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
      <a id="6769" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6774" class="Symbol">(</a><a id="6775" href="Chapter.Imp.AexpBexp.html#6737" class="Bound">a1</a> <a id="6778" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="6780" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="6783" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="6785" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="6787" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="6788" class="Symbol">)</a> <a id="6790" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="6792" href="Library.Nat.html#145" class="Function Operator">+</a> <a id="6794" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6799" class="Symbol">(</a><a id="6800" href="Chapter.Imp.AexpBexp.html#6740" class="Bound">a2</a> <a id="6803" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="6805" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="6808" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="6810" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="6812" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="6813" class="Symbol">)</a> <a id="6815" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a>  <a id="6818" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="6822" href="Library.Equality.html#459" class="Function">cong2</a> <a id="6828" href="Library.Nat.html#145" class="Function Operator">_+_</a> <a id="6832" href="Chapter.Imp.AexpBexp.html#7019" class="Function">h1</a> <a id="6835" href="Chapter.Imp.AexpBexp.html#7129" class="Function">h2</a> <a id="6838" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
                                              <a id="6886" class="Comment">-- by the ind. hyp. h1, h2</a>
      <a id="6919" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6924" href="Chapter.Imp.AexpBexp.html#6737" class="Bound">a1</a> <a id="6927" href="Chapter.Imp.AexpBexp.html#6965" class="Function">s&#39;</a> <a id="6930" href="Library.Nat.html#145" class="Function Operator">+</a> <a id="6932" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="6937" href="Chapter.Imp.AexpBexp.html#6740" class="Bound">a2</a> <a id="6940" href="Chapter.Imp.AexpBexp.html#6965" class="Function">s&#39;</a>
   <a id="6946" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
   <a id="6953" class="Keyword">where</a>
      <a id="6965" href="Chapter.Imp.AexpBexp.html#6965" class="Function">s&#39;</a> <a id="6968" class="Symbol">:</a> <a id="6970" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
      <a id="6982" href="Chapter.Imp.AexpBexp.html#6965" class="Function">s&#39;</a> <a id="6985" class="Symbol">=</a>  <a id="6988" class="Symbol">(</a><a id="6989" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="6991" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="6993" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="6995" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="6999" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7004" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7007" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="7009" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="7010" class="Symbol">)</a>

      <a id="7019" href="Chapter.Imp.AexpBexp.html#7019" class="Function">h1</a> <a id="7022" class="Symbol">:</a> <a id="7024" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7029" class="Symbol">(</a><a id="7030" href="Chapter.Imp.AexpBexp.html#6737" class="Bound">a1</a> <a id="7033" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="7035" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7038" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="7040" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="7042" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="7043" class="Symbol">)</a> <a id="7045" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="7047" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="7050" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7055" href="Chapter.Imp.AexpBexp.html#6737" class="Bound">a1</a> <a id="7058" class="Symbol">(</a><a id="7059" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="7061" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="7063" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="7065" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="7069" class="Symbol">(</a><a id="7070" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7075" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7078" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a><a id="7079" class="Symbol">)</a> <a id="7081" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="7082" class="Symbol">)</a>
      <a id="7090" href="Chapter.Imp.AexpBexp.html#7019" class="Function">h1</a> <a id="7093" class="Symbol">=</a> <a id="7095" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="7112" href="Chapter.Imp.AexpBexp.html#6737" class="Bound">a1</a> <a id="7115" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7118" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="7120" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a>

      <a id="7129" href="Chapter.Imp.AexpBexp.html#7129" class="Function">h2</a> <a id="7132" class="Symbol">:</a> <a id="7134" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7139" class="Symbol">(</a><a id="7140" href="Chapter.Imp.AexpBexp.html#6740" class="Bound">a2</a> <a id="7143" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="7145" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7148" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="7150" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="7152" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="7153" class="Symbol">)</a> <a id="7155" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="7157" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="7160" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7165" href="Chapter.Imp.AexpBexp.html#6740" class="Bound">a2</a> <a id="7168" class="Symbol">(</a><a id="7169" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a> <a id="7171" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="7173" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="7175" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="7185" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7188" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a><a id="7189" class="Symbol">)</a> <a id="7191" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="7192" class="Symbol">)</a>
      <a id="7200" href="Chapter.Imp.AexpBexp.html#7129" class="Function">h2</a> <a id="7203" class="Symbol">=</a> <a id="7205" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="7222" href="Chapter.Imp.AexpBexp.html#6740" class="Bound">a2</a> <a id="7225" href="Chapter.Imp.AexpBexp.html#6744" class="Bound">a&#39;</a> <a id="7228" href="Chapter.Imp.AexpBexp.html#6747" class="Bound">x</a> <a id="7230" href="Chapter.Imp.AexpBexp.html#6749" class="Bound">s</a>
</pre>
<p>Let us spell this proof in more detail. It establishes</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               aval (a [ a' / x ]) s == aval a (s [ x ::= (aval a' s) ])
</code></pre></div></div>

<p>by induction on <code class="language-plaintext highlighter-rouge">a</code>.</p>

<p>The case <code class="language-plaintext highlighter-rouge">a == N n</code> is trivial since <code class="language-plaintext highlighter-rouge">(N n) [ a' / x ] == N n</code> by substitution definition so that</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aval ((N n) [ a' / x ]) s == aval (N n) s
                          == n
                          == aval (N n) (s [ x ::= (aval a' s) ])
</code></pre></div></div>

<p>applying twice the definition of <code class="language-plaintext highlighter-rouge">aval</code>.</p>

<p>Since all these steps are valid by defintion, we use <code class="language-plaintext highlighter-rouge">==⟨⟩</code> without any justification.
Indeed the proof is verbose, since we could have written just</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               lemma-subst-aexp (N n) a' x s = refl
</code></pre></div></div>

<p>letting Agda to evaluate the left and right-hand sides of the equation.</p>

<p>The case <code class="language-plaintext highlighter-rouge">a == V y</code> is rather subtle. A naive proof would be</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               lemma-subst-aexp (V y) a' x s = x =Vn y
</code></pre></div></div>

<p>But the type of the right-hand side is <code class="language-plaintext highlighter-rouge">Bool</code> instead of being an equation <code class="language-plaintext highlighter-rouge">_==_</code> as required.
A further attempt would be</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               lemma-subst-aexp (V y) a' x s = if x =Vn y then refl else refl
</code></pre></div></div>

<p>However the right-hand side of this proof does not type check. The reason is that
the two <code class="language-plaintext highlighter-rouge">refl</code> in <code class="language-plaintext highlighter-rouge">if x =Vn y then refl else refl</code> above  have different types namely</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               aval a' s == aval a' s    and     s y == s y
</code></pre></div></div>

<p>respectively, while <code class="language-plaintext highlighter-rouge">if_then_else_</code> has type</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               ∀{A : Set} -&gt; Bool -&gt; A -&gt; A -&gt; A.
</code></pre></div></div>

<p>We escape the difficulty by means of the <code class="language-plaintext highlighter-rouge">with</code> construct.</p>

<p>Finally the case <code class="language-plaintext highlighter-rouge">a == Plus a1 a2</code> is an immedite consequence of the induction
hypotheses <code class="language-plaintext highlighter-rouge">h1</code> and <code class="language-plaintext highlighter-rouge">h2</code>, but these are used inside the
<code class="language-plaintext highlighter-rouge">(a1 [ a' / x ]) s + aval (a2 [ a' / x ]) s</code>,
for which we have to use the combinator <code class="language-plaintext highlighter-rouge">cong2</code> from Equality.agda.
The very same proof can be written more concisely by means of the <code class="language-plaintext highlighter-rouge">rewrite</code> tactic:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lemma-subst-aexp (Plus a1 a2) a' x s
      rewrite lemma-subst-aexp a1 a' x s | lemma-subst-aexp a2 a' x s = refl
</code></pre></div></div>

<h2 id="boolean-expressions-syntax-and-semantics">Boolean expressions: syntax and semantics</h2>

<p>The syntax of bolean expressions is defined by the grammar:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               Bexp ∋ b, b' ::= B bc | Less a a' | Not b | And b b'
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">bc ∈ Bool</code> and <code class="language-plaintext highlighter-rouge">a, a' ∈ Aexp</code>.</p>

<pre class="Agda"><a id="9380" class="Keyword">data</a> <a id="Bexp"></a><a id="9385" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a> <a id="9390" class="Symbol">:</a> <a id="9392" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="9396" class="Keyword">where</a>
   <a id="Bexp.B"></a><a id="9405" href="Chapter.Imp.AexpBexp.html#9405" class="InductiveConstructor">B</a> <a id="9407" class="Symbol">:</a> <a id="9409" href="Library.Bool.html#33" class="Datatype">Bool</a> <a id="9414" class="Symbol">-&gt;</a> <a id="9417" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>             <a id="9434" class="Comment">-- boolean constants</a>
   <a id="Bexp.Less"></a><a id="9458" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="9463" class="Symbol">:</a> <a id="9465" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="9470" class="Symbol">-&gt;</a> <a id="9473" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="9478" class="Symbol">-&gt;</a> <a id="9481" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>    <a id="9489" class="Comment">-- less than</a>
   <a id="Bexp.Not"></a><a id="9505" href="Chapter.Imp.AexpBexp.html#9505" class="InductiveConstructor">Not</a> <a id="9509" class="Symbol">:</a> <a id="9511" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a> <a id="9516" class="Symbol">-&gt;</a> <a id="9519" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>           <a id="9534" class="Comment">-- negation</a>
   <a id="Bexp.And"></a><a id="9549" href="Chapter.Imp.AexpBexp.html#9549" class="InductiveConstructor">And</a> <a id="9553" class="Symbol">:</a> <a id="9555" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a> <a id="9560" class="Symbol">-&gt;</a> <a id="9563" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a> <a id="9568" class="Symbol">-&gt;</a> <a id="9571" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>    <a id="9579" class="Comment">-- conjunction</a>
</pre>
<p>Examples:</p>
<pre class="Agda"><a id="bexp1"></a><a id="9613" href="Chapter.Imp.AexpBexp.html#9613" class="Function">bexp1</a> <a id="9619" class="Symbol">:</a> <a id="9621" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>
<a id="9626" href="Chapter.Imp.AexpBexp.html#9613" class="Function">bexp1</a> <a id="9632" class="Symbol">=</a> <a id="9634" href="Chapter.Imp.AexpBexp.html#9505" class="InductiveConstructor">Not</a> <a id="9638" class="Symbol">(</a><a id="9639" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="9644" class="Symbol">(</a><a id="9645" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="9647" href="Chapter.Imp.AexpBexp.html#906" class="Function">X</a><a id="9648" class="Symbol">)</a> <a id="9650" class="Symbol">(</a><a id="9651" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="9653" class="Number">1</a><a id="9654" class="Symbol">))</a>       <a id="9663" class="Comment">-- not (X &lt; 1)</a>

<a id="bexp2"></a><a id="9679" href="Chapter.Imp.AexpBexp.html#9679" class="Function">bexp2</a> <a id="9685" class="Symbol">:</a> <a id="9687" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>
<a id="9692" href="Chapter.Imp.AexpBexp.html#9679" class="Function">bexp2</a> <a id="9698" class="Symbol">=</a> <a id="9700" href="Chapter.Imp.AexpBexp.html#9549" class="InductiveConstructor">And</a> <a id="9704" href="Chapter.Imp.AexpBexp.html#9613" class="Function">bexp1</a> <a id="9710" class="Symbol">(</a><a id="9711" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="9716" class="Symbol">(</a><a id="9717" href="Chapter.Imp.AexpBexp.html#1790" class="InductiveConstructor">N</a> <a id="9719" class="Number">0</a><a id="9720" class="Symbol">)</a> <a id="9722" class="Symbol">(</a><a id="9723" href="Chapter.Imp.AexpBexp.html#1836" class="InductiveConstructor">V</a> <a id="9725" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a><a id="9726" class="Symbol">))</a> <a id="9729" class="Comment">-- (not (X &lt; 1)) &amp;&amp; (0 &lt; Y)</a>
</pre>
<p>The semantics of expressions in <code class="language-plaintext highlighter-rouge">Bexp</code> are boolean values; in particular
the meaning of <code class="language-plaintext highlighter-rouge">Less a a'</code> is <code class="language-plaintext highlighter-rouge">true</code> if <code class="language-plaintext highlighter-rouge">aval a s &lt; aval a's</code>, <code class="language-plaintext highlighter-rouge">false</code> otherwiese.
Since evaluating expressions in <code class="language-plaintext highlighter-rouge">Aexp</code> requires a state, in general the meaning of <code class="language-plaintext highlighter-rouge">b ∈ Bexp</code>
must depend on a state as well.</p>

<pre class="Agda"><a id="_&lt;ℕ_"></a><a id="10049" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">_&lt;ℕ_</a> <a id="10054" class="Symbol">:</a> <a id="10056" href="Library.Nat.html#32" class="Datatype">ℕ</a> <a id="10058" class="Symbol">-&gt;</a> <a id="10061" href="Library.Nat.html#32" class="Datatype">ℕ</a> <a id="10063" class="Symbol">-&gt;</a> <a id="10066" href="Library.Bool.html#33" class="Datatype">Bool</a>          <a id="10080" class="Comment">--  n &lt;ℕ m == true if n &lt; m </a>
<a id="10109" href="Library.Nat.html#48" class="InductiveConstructor">zero</a> <a id="10114" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a>   <a id="10119" href="Library.Nat.html#48" class="InductiveConstructor">zero</a>   <a id="10126" class="Symbol">=</a> <a id="10128" href="Library.Bool.html#57" class="InductiveConstructor">false</a>      <a id="10139" class="Comment">--  in the ordinary ordering of ℕ</a>
<a id="10173" href="Library.Nat.html#48" class="InductiveConstructor">zero</a> <a id="10178" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a>   <a id="10183" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="10188" href="Chapter.Imp.AexpBexp.html#10188" class="Bound">n</a> <a id="10190" class="Symbol">=</a> <a id="10192" href="Library.Bool.html#52" class="InductiveConstructor">true</a>
<a id="10197" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="10202" href="Chapter.Imp.AexpBexp.html#10202" class="Bound">n</a> <a id="10204" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a> <a id="10207" href="Library.Nat.html#48" class="InductiveConstructor">zero</a>   <a id="10214" class="Symbol">=</a> <a id="10216" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
<a id="10222" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="10227" href="Chapter.Imp.AexpBexp.html#10227" class="Bound">n</a> <a id="10229" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a> <a id="10232" href="Library.Nat.html#59" class="InductiveConstructor">succ</a> <a id="10237" href="Chapter.Imp.AexpBexp.html#10237" class="Bound">m</a> <a id="10239" class="Symbol">=</a> <a id="10241" href="Chapter.Imp.AexpBexp.html#10227" class="Bound">n</a> <a id="10243" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a> <a id="10246" href="Chapter.Imp.AexpBexp.html#10237" class="Bound">m</a>

<a id="bval"></a><a id="10249" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10254" class="Symbol">:</a> <a id="10256" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a> <a id="10261" class="Symbol">-&gt;</a> <a id="10264" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a> <a id="10270" class="Symbol">-&gt;</a> <a id="10273" href="Library.Bool.html#33" class="Datatype">Bool</a>
<a id="10278" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10283" class="Symbol">(</a><a id="10284" href="Chapter.Imp.AexpBexp.html#9405" class="InductiveConstructor">B</a> <a id="10286" href="Chapter.Imp.AexpBexp.html#10286" class="Bound">x</a><a id="10287" class="Symbol">)</a> <a id="10289" href="Chapter.Imp.AexpBexp.html#10289" class="Bound">s</a>       <a id="10297" class="Symbol">=</a> <a id="10299" href="Chapter.Imp.AexpBexp.html#10286" class="Bound">x</a>
<a id="10301" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10306" class="Symbol">(</a><a id="10307" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="10312" href="Chapter.Imp.AexpBexp.html#10312" class="Bound">x</a> <a id="10314" href="Chapter.Imp.AexpBexp.html#10314" class="Bound">y</a><a id="10315" class="Symbol">)</a> <a id="10317" href="Chapter.Imp.AexpBexp.html#10317" class="Bound">s</a>   <a id="10321" class="Symbol">=</a> <a id="10323" class="Symbol">(</a><a id="10324" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="10329" href="Chapter.Imp.AexpBexp.html#10312" class="Bound">x</a> <a id="10331" href="Chapter.Imp.AexpBexp.html#10317" class="Bound">s</a><a id="10332" class="Symbol">)</a> <a id="10334" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a> <a id="10337" class="Symbol">(</a><a id="10338" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="10343" href="Chapter.Imp.AexpBexp.html#10314" class="Bound">y</a> <a id="10345" href="Chapter.Imp.AexpBexp.html#10317" class="Bound">s</a><a id="10346" class="Symbol">)</a>
<a id="10348" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10353" class="Symbol">(</a><a id="10354" href="Chapter.Imp.AexpBexp.html#9505" class="InductiveConstructor">Not</a> <a id="10358" href="Chapter.Imp.AexpBexp.html#10358" class="Bound">b</a><a id="10359" class="Symbol">)</a> <a id="10361" href="Chapter.Imp.AexpBexp.html#10361" class="Bound">s</a>     <a id="10367" class="Symbol">=</a> <a id="10369" href="Library.Bool.html#176" class="Function">not</a> <a id="10373" class="Symbol">(</a><a id="10374" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10379" href="Chapter.Imp.AexpBexp.html#10358" class="Bound">b</a> <a id="10381" href="Chapter.Imp.AexpBexp.html#10361" class="Bound">s</a><a id="10382" class="Symbol">)</a>
<a id="10384" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10389" class="Symbol">(</a><a id="10390" href="Chapter.Imp.AexpBexp.html#9549" class="InductiveConstructor">And</a> <a id="10394" href="Chapter.Imp.AexpBexp.html#10394" class="Bound">b1</a> <a id="10397" href="Chapter.Imp.AexpBexp.html#10397" class="Bound">b2</a><a id="10399" class="Symbol">)</a> <a id="10401" href="Chapter.Imp.AexpBexp.html#10401" class="Bound">s</a> <a id="10403" class="Symbol">=</a> <a id="10405" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10410" href="Chapter.Imp.AexpBexp.html#10394" class="Bound">b1</a> <a id="10413" href="Chapter.Imp.AexpBexp.html#10401" class="Bound">s</a> <a id="10415" href="Library.Bool.html#230" class="Function Operator">&amp;&amp;</a> <a id="10418" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="10423" href="Chapter.Imp.AexpBexp.html#10397" class="Bound">b2</a> <a id="10426" href="Chapter.Imp.AexpBexp.html#10401" class="Bound">s</a>
</pre>
<h2 id="exercises">Exercises</h2>

<ol>
  <li>Find states <code class="language-plaintext highlighter-rouge">st3, st4, st5, st6</code> such that <code class="language-plaintext highlighter-rouge">bval bexp1 st3 == true</code>,
<code class="language-plaintext highlighter-rouge">bval bexp1 st4 == false</code>, <code class="language-plaintext highlighter-rouge">bval bexp2 st3 == true</code> and <code class="language-plaintext highlighter-rouge">bval bexp2 st4 == false</code>
(hint: use <code class="language-plaintext highlighter-rouge">st0</code>, <code class="language-plaintext highlighter-rouge">st1</code> or <code class="language-plaintext highlighter-rouge">st2</code> possibly with some updates).</li>
  <li>
    <p>Prove that the function <code class="language-plaintext highlighter-rouge">bval</code> is total, namely that</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        lemma-bval-tot : ∀ (b : Bexp) (s : State) -&gt;
                    bval b s == true ∨ bval b s == false
</code></pre></div>    </div>
  </li>
  <li>Define a function  <code class="language-plaintext highlighter-rouge">_[_/_]B :  Bexp -&gt; Aexp -&gt; Vname -&gt; Bexp</code> extending
substitution to expressions in <code class="language-plaintext highlighter-rouge">Bexp</code>.</li>
  <li>
    <p>Prove the lemma:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        lemma-subst-bexp : ∀(b : Bexp) (a : Aexp) (x : Vname) (s : State) -&gt;
                    bval (b [ a / x ]B) s == bval b (s [ x ::= aval a s ])
</code></pre></div>    </div>
  </li>
</ol>

<pre class="Agda solution"><a id="11181" class="Comment">-- EXERCISE 1</a>

<a id="st3"></a><a id="11196" href="Chapter.Imp.AexpBexp.html#11196" class="Function">st3</a> <a id="11200" class="Symbol">:</a> <a id="11202" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11208" href="Chapter.Imp.AexpBexp.html#11196" class="Function">st3</a> <a id="11212" class="Symbol">=</a> <a id="11214" href="Chapter.Imp.AexpBexp.html#3671" class="Function">st1</a>

<a id="bval-chek1"></a><a id="11219" href="Chapter.Imp.AexpBexp.html#11219" class="Function">bval-chek1</a> <a id="11230" class="Symbol">:</a> <a id="11232" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11237" href="Chapter.Imp.AexpBexp.html#9613" class="Function">bexp1</a> <a id="11243" href="Chapter.Imp.AexpBexp.html#11196" class="Function">st3</a> <a id="11247" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11250" href="Library.Bool.html#52" class="InductiveConstructor">true</a>
<a id="11255" href="Chapter.Imp.AexpBexp.html#11219" class="Function">bval-chek1</a> <a id="11266" class="Symbol">=</a> <a id="11268" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="st4"></a><a id="11274" href="Chapter.Imp.AexpBexp.html#11274" class="Function">st4</a> <a id="11278" class="Symbol">:</a> <a id="11280" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11286" href="Chapter.Imp.AexpBexp.html#11274" class="Function">st4</a> <a id="11290" class="Symbol">=</a> <a id="11292" href="Chapter.Imp.AexpBexp.html#3643" class="Function">st0</a>

<a id="bval-chek2"></a><a id="11297" href="Chapter.Imp.AexpBexp.html#11297" class="Function">bval-chek2</a> <a id="11308" class="Symbol">:</a> <a id="11310" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11315" href="Chapter.Imp.AexpBexp.html#9613" class="Function">bexp1</a> <a id="11321" href="Chapter.Imp.AexpBexp.html#11274" class="Function">st4</a> <a id="11325" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11328" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
<a id="11334" href="Chapter.Imp.AexpBexp.html#11297" class="Function">bval-chek2</a> <a id="11345" class="Symbol">=</a> <a id="11347" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="st5"></a><a id="11353" href="Chapter.Imp.AexpBexp.html#11353" class="Function">st5</a> <a id="11357" class="Symbol">:</a> <a id="11359" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11365" href="Chapter.Imp.AexpBexp.html#11353" class="Function">st5</a> <a id="11369" class="Symbol">=</a> <a id="11371" href="Chapter.Imp.AexpBexp.html#3671" class="Function">st1</a> <a id="11375" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="11377" href="Chapter.Imp.AexpBexp.html#926" class="Function">Y</a> <a id="11379" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="11383" class="Number">1</a> <a id="11385" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>

<a id="bval-chek3"></a><a id="11388" href="Chapter.Imp.AexpBexp.html#11388" class="Function">bval-chek3</a> <a id="11399" class="Symbol">:</a> <a id="11401" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11406" href="Chapter.Imp.AexpBexp.html#9679" class="Function">bexp2</a> <a id="11412" href="Chapter.Imp.AexpBexp.html#11353" class="Function">st5</a> <a id="11416" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11419" href="Library.Bool.html#52" class="InductiveConstructor">true</a>
<a id="11424" href="Chapter.Imp.AexpBexp.html#11388" class="Function">bval-chek3</a> <a id="11435" class="Symbol">=</a> <a id="11437" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="st6"></a><a id="11443" href="Chapter.Imp.AexpBexp.html#11443" class="Function">st6</a> <a id="11447" class="Symbol">:</a> <a id="11449" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
<a id="11455" href="Chapter.Imp.AexpBexp.html#11443" class="Function">st6</a> <a id="11459" class="Symbol">=</a> <a id="11461" href="Chapter.Imp.AexpBexp.html#3671" class="Function">st1</a>

<a id="bval-chek4"></a><a id="11466" href="Chapter.Imp.AexpBexp.html#11466" class="Function">bval-chek4</a> <a id="11477" class="Symbol">:</a> <a id="11479" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11484" href="Chapter.Imp.AexpBexp.html#9679" class="Function">bexp2</a> <a id="11490" href="Chapter.Imp.AexpBexp.html#11443" class="Function">st6</a> <a id="11494" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11497" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
<a id="11503" href="Chapter.Imp.AexpBexp.html#11466" class="Function">bval-chek4</a> <a id="11514" class="Symbol">=</a> <a id="11516" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="11522" class="Comment">-- EXERCISE 2</a>

<a id="lemma-bval-tot"></a><a id="11537" href="Chapter.Imp.AexpBexp.html#11537" class="Function">lemma-bval-tot</a> <a id="11552" class="Symbol">:</a> <a id="11554" class="Symbol">∀</a> <a id="11556" class="Symbol">(</a><a id="11557" href="Chapter.Imp.AexpBexp.html#11557" class="Bound">b</a> <a id="11559" class="Symbol">:</a> <a id="11561" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a><a id="11565" class="Symbol">)</a> <a id="11567" class="Symbol">(</a><a id="11568" href="Chapter.Imp.AexpBexp.html#11568" class="Bound">s</a> <a id="11570" class="Symbol">:</a> <a id="11572" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a><a id="11577" class="Symbol">)</a> <a id="11579" class="Symbol">-&gt;</a> <a id="11582" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11587" href="Chapter.Imp.AexpBexp.html#11557" class="Bound">b</a> <a id="11589" href="Chapter.Imp.AexpBexp.html#11568" class="Bound">s</a> <a id="11591" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11594" href="Library.Bool.html#52" class="InductiveConstructor">true</a> <a id="11599" href="Library.Logic.html#1416" class="Datatype Operator">∨</a> <a id="11601" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11606" href="Chapter.Imp.AexpBexp.html#11557" class="Bound">b</a> <a id="11608" href="Chapter.Imp.AexpBexp.html#11568" class="Bound">s</a> <a id="11610" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="11613" href="Library.Bool.html#57" class="InductiveConstructor">false</a>
<a id="11619" href="Chapter.Imp.AexpBexp.html#11537" class="Function">lemma-bval-tot</a> <a id="11634" href="Chapter.Imp.AexpBexp.html#11634" class="Bound">b</a> <a id="11636" href="Chapter.Imp.AexpBexp.html#11636" class="Bound">s</a> <a id="11638" class="Keyword">with</a> <a id="11643" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="11648" href="Chapter.Imp.AexpBexp.html#11634" class="Bound">b</a> <a id="11650" href="Chapter.Imp.AexpBexp.html#11636" class="Bound">s</a>
<a id="11652" class="Symbol">...</a> <a id="11656" class="Symbol">|</a> <a id="11658" href="Library.Bool.html#52" class="InductiveConstructor">true</a>  <a id="11664" class="Symbol">=</a> <a id="11666" href="Library.Logic.html#1446" class="InductiveConstructor">inl</a> <a id="11670" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="11675" class="Symbol">...</a> <a id="11679" class="Symbol">|</a> <a id="11681" href="Library.Bool.html#57" class="InductiveConstructor">false</a> <a id="11687" class="Symbol">=</a> <a id="11689" href="Library.Logic.html#1465" class="InductiveConstructor">inr</a> <a id="11693" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>

<a id="11699" class="Comment">-- EXERCISE 3</a>

<a id="_[_/_]B"></a><a id="11714" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">_[_/_]B</a> <a id="11722" class="Symbol">:</a> <a id="11724" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a> <a id="11729" class="Symbol">-&gt;</a> <a id="11732" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a> <a id="11737" class="Symbol">-&gt;</a> <a id="11740" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a> <a id="11746" class="Symbol">-&gt;</a> <a id="11749" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a>
<a id="11754" href="Chapter.Imp.AexpBexp.html#9405" class="InductiveConstructor">B</a> <a id="11756" href="Chapter.Imp.AexpBexp.html#11756" class="Bound">c</a> <a id="11758" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11760" href="Chapter.Imp.AexpBexp.html#11760" class="Bound">a</a> <a id="11762" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11764" href="Chapter.Imp.AexpBexp.html#11764" class="Bound">x</a> <a id="11766" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a>       <a id="11775" class="Symbol">=</a> <a id="11777" href="Chapter.Imp.AexpBexp.html#9405" class="InductiveConstructor">B</a> <a id="11779" href="Chapter.Imp.AexpBexp.html#11756" class="Bound">c</a>
<a id="11781" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="11786" href="Chapter.Imp.AexpBexp.html#11786" class="Bound">a1</a> <a id="11789" href="Chapter.Imp.AexpBexp.html#11789" class="Bound">a2</a> <a id="11792" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11794" href="Chapter.Imp.AexpBexp.html#11794" class="Bound">a</a> <a id="11796" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11798" href="Chapter.Imp.AexpBexp.html#11798" class="Bound">x</a> <a id="11800" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a> <a id="11803" class="Symbol">=</a> <a id="11805" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="11810" class="Symbol">(</a><a id="11811" href="Chapter.Imp.AexpBexp.html#11786" class="Bound">a1</a> <a id="11814" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="11816" href="Chapter.Imp.AexpBexp.html#11794" class="Bound">a</a> <a id="11818" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="11820" href="Chapter.Imp.AexpBexp.html#11798" class="Bound">x</a> <a id="11822" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="11823" class="Symbol">)</a> <a id="11825" class="Symbol">(</a><a id="11826" href="Chapter.Imp.AexpBexp.html#11789" class="Bound">a2</a> <a id="11829" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="11831" href="Chapter.Imp.AexpBexp.html#11794" class="Bound">a</a> <a id="11833" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="11835" href="Chapter.Imp.AexpBexp.html#11798" class="Bound">x</a> <a id="11837" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="11838" class="Symbol">)</a>
<a id="11840" href="Chapter.Imp.AexpBexp.html#9505" class="InductiveConstructor">Not</a> <a id="11844" href="Chapter.Imp.AexpBexp.html#11844" class="Bound">b</a> <a id="11846" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11848" href="Chapter.Imp.AexpBexp.html#11848" class="Bound">a</a> <a id="11850" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11852" href="Chapter.Imp.AexpBexp.html#11852" class="Bound">x</a> <a id="11854" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a>     <a id="11861" class="Symbol">=</a> <a id="11863" href="Chapter.Imp.AexpBexp.html#9505" class="InductiveConstructor">Not</a> <a id="11867" class="Symbol">(</a><a id="11868" href="Chapter.Imp.AexpBexp.html#11844" class="Bound">b</a> <a id="11870" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11872" href="Chapter.Imp.AexpBexp.html#11848" class="Bound">a</a> <a id="11874" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11876" href="Chapter.Imp.AexpBexp.html#11852" class="Bound">x</a> <a id="11878" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a><a id="11880" class="Symbol">)</a>
<a id="11882" href="Chapter.Imp.AexpBexp.html#9549" class="InductiveConstructor">And</a> <a id="11886" href="Chapter.Imp.AexpBexp.html#11886" class="Bound">b1</a> <a id="11889" href="Chapter.Imp.AexpBexp.html#11889" class="Bound">b2</a> <a id="11892" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11894" href="Chapter.Imp.AexpBexp.html#11894" class="Bound">a</a> <a id="11896" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11898" href="Chapter.Imp.AexpBexp.html#11898" class="Bound">x</a> <a id="11900" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a> <a id="11903" class="Symbol">=</a> <a id="11905" href="Chapter.Imp.AexpBexp.html#9549" class="InductiveConstructor">And</a> <a id="11909" class="Symbol">(</a><a id="11910" href="Chapter.Imp.AexpBexp.html#11886" class="Bound">b1</a> <a id="11913" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11915" href="Chapter.Imp.AexpBexp.html#11894" class="Bound">a</a> <a id="11917" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11919" href="Chapter.Imp.AexpBexp.html#11898" class="Bound">x</a> <a id="11921" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a><a id="11923" class="Symbol">)</a> <a id="11925" class="Symbol">(</a><a id="11926" href="Chapter.Imp.AexpBexp.html#11889" class="Bound">b2</a> <a id="11929" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="11931" href="Chapter.Imp.AexpBexp.html#11894" class="Bound">a</a> <a id="11933" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="11935" href="Chapter.Imp.AexpBexp.html#11898" class="Bound">x</a> <a id="11937" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a><a id="11939" class="Symbol">)</a>

<a id="11942" class="Comment">-- EXERCISE 4</a>

<a id="lemma-subst-bexp"></a><a id="11957" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="11974" class="Symbol">:</a> <a id="11976" class="Symbol">∀(</a><a id="11978" href="Chapter.Imp.AexpBexp.html#11978" class="Bound">b</a> <a id="11980" class="Symbol">:</a> <a id="11982" href="Chapter.Imp.AexpBexp.html#9385" class="Datatype">Bexp</a><a id="11986" class="Symbol">)</a> <a id="11988" class="Symbol">(</a><a id="11989" href="Chapter.Imp.AexpBexp.html#11989" class="Bound">a</a> <a id="11991" class="Symbol">:</a> <a id="11993" href="Chapter.Imp.AexpBexp.html#1770" class="Datatype">Aexp</a><a id="11997" class="Symbol">)</a> <a id="11999" class="Symbol">(</a><a id="12000" href="Chapter.Imp.AexpBexp.html#12000" class="Bound">x</a> <a id="12002" class="Symbol">:</a> <a id="12004" href="Chapter.Imp.AexpBexp.html#802" class="Datatype">Vname</a><a id="12009" class="Symbol">)</a> <a id="12011" class="Symbol">(</a><a id="12012" href="Chapter.Imp.AexpBexp.html#12012" class="Bound">s</a> <a id="12014" class="Symbol">:</a> <a id="12016" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a><a id="12021" class="Symbol">)</a> <a id="12023" class="Symbol">-&gt;</a>
                     <a id="12047" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="12052" class="Symbol">(</a><a id="12053" href="Chapter.Imp.AexpBexp.html#11978" class="Bound">b</a> <a id="12055" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="12057" href="Chapter.Imp.AexpBexp.html#11989" class="Bound">a</a> <a id="12059" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="12061" href="Chapter.Imp.AexpBexp.html#12000" class="Bound">x</a> <a id="12063" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a><a id="12065" class="Symbol">)</a> <a id="12067" href="Chapter.Imp.AexpBexp.html#12012" class="Bound">s</a> <a id="12069" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12072" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="12077" href="Chapter.Imp.AexpBexp.html#11978" class="Bound">b</a> <a id="12079" class="Symbol">(</a><a id="12080" href="Chapter.Imp.AexpBexp.html#12012" class="Bound">s</a> <a id="12082" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="12084" href="Chapter.Imp.AexpBexp.html#12000" class="Bound">x</a> <a id="12086" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="12090" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12095" href="Chapter.Imp.AexpBexp.html#11989" class="Bound">a</a> <a id="12097" href="Chapter.Imp.AexpBexp.html#12012" class="Bound">s</a> <a id="12099" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="12100" class="Symbol">)</a>
                     
<a id="12124" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12141" class="Symbol">(</a><a id="12142" href="Chapter.Imp.AexpBexp.html#9405" class="InductiveConstructor">B</a> <a id="12144" href="Chapter.Imp.AexpBexp.html#12144" class="Bound">c</a><a id="12145" class="Symbol">)</a> <a id="12147" href="Chapter.Imp.AexpBexp.html#12147" class="Bound">a</a> <a id="12149" href="Chapter.Imp.AexpBexp.html#12149" class="Bound">x</a> <a id="12151" href="Chapter.Imp.AexpBexp.html#12151" class="Bound">s</a> <a id="12153" class="Symbol">=</a> <a id="12155" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="12160" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12177" class="Symbol">(</a><a id="12178" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="12183" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12186" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a><a id="12188" class="Symbol">)</a> <a id="12190" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12192" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12194" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12196" class="Symbol">=</a>
    <a id="12202" href="Library.Equality.Reasoning.html#142" class="Function Operator">begin</a>
       <a id="12215" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="12220" class="Symbol">(</a><a id="12221" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="12226" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12229" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12232" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">[</a> <a id="12234" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12236" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">/</a> <a id="12238" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12240" href="Chapter.Imp.AexpBexp.html#11714" class="Function Operator">]B</a><a id="12242" class="Symbol">)</a> <a id="12244" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a>                        <a id="12269" href="Library.Equality.Reasoning.html#440" class="Function Operator">==⟨⟩</a>
       <a id="12281" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="12286" class="Symbol">(</a><a id="12287" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="12292" class="Symbol">(</a><a id="12293" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12296" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="12298" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12300" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="12302" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12304" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="12305" class="Symbol">)</a> <a id="12307" class="Symbol">(</a><a id="12308" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12311" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="12313" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12315" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="12317" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12319" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="12320" class="Symbol">))</a> <a id="12323" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a>           <a id="12335" href="Library.Equality.Reasoning.html#440" class="Function Operator">==⟨⟩</a>
       <a id="12347" class="Symbol">(</a><a id="12348" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a>  <a id="12354" class="Symbol">(</a><a id="12355" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12358" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="12360" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12362" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="12364" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12366" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="12367" class="Symbol">)</a> <a id="12369" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a><a id="12370" class="Symbol">)</a> <a id="12372" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a> <a id="12375" class="Symbol">(</a><a id="12376" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a>  <a id="12382" class="Symbol">(</a><a id="12383" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12386" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="12388" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12390" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="12392" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12394" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="12395" class="Symbol">)</a> <a id="12397" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a><a id="12398" class="Symbol">)</a> <a id="12400" href="Library.Equality.Reasoning.html#255" class="Function Operator">==⟨</a> <a id="12404" href="Library.Equality.html#459" class="Function">cong2</a> <a id="12410" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">_&lt;ℕ_</a> <a id="12415" href="Chapter.Imp.AexpBexp.html#12601" class="Function">lm1</a> <a id="12419" href="Chapter.Imp.AexpBexp.html#12714" class="Function">lm2</a> <a id="12423" href="Library.Equality.Reasoning.html#255" class="Function Operator">⟩</a>
       <a id="12432" class="Symbol">(</a><a id="12433" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12438" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12441" href="Chapter.Imp.AexpBexp.html#12545" class="Function">s&#39;</a><a id="12443" class="Symbol">)</a> <a id="12445" href="Chapter.Imp.AexpBexp.html#10049" class="Function Operator">&lt;ℕ</a> <a id="12448" class="Symbol">(</a><a id="12449" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12454" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12457" href="Chapter.Imp.AexpBexp.html#12545" class="Function">s&#39;</a><a id="12459" class="Symbol">)</a>                         <a id="12485" href="Library.Equality.Reasoning.html#440" class="Function Operator">==⟨⟩</a>
       <a id="12497" href="Chapter.Imp.AexpBexp.html#10249" class="Function">bval</a> <a id="12502" class="Symbol">(</a><a id="12503" href="Chapter.Imp.AexpBexp.html#9458" class="InductiveConstructor">Less</a> <a id="12508" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12511" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a><a id="12513" class="Symbol">)</a> <a id="12515" href="Chapter.Imp.AexpBexp.html#12545" class="Function">s&#39;</a>
    <a id="12522" href="Library.Equality.Reasoning.html#205" class="Function Operator">end</a>
    <a id="12530" class="Keyword">where</a>
         <a id="12545" href="Chapter.Imp.AexpBexp.html#12545" class="Function">s&#39;</a> <a id="12548" class="Symbol">:</a> <a id="12550" href="Chapter.Imp.AexpBexp.html#2404" class="Function">State</a>
         <a id="12565" href="Chapter.Imp.AexpBexp.html#12545" class="Function">s&#39;</a> <a id="12568" class="Symbol">=</a> <a id="12570" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12572" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="12574" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12576" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="12580" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12585" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12587" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12589" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a>

         <a id="12601" href="Chapter.Imp.AexpBexp.html#12601" class="Function">lm1</a> <a id="12605" class="Symbol">:</a> <a id="12607" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12612" class="Symbol">(</a><a id="12613" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12616" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="12618" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12620" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="12622" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12624" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="12625" class="Symbol">)</a> <a id="12627" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12629" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12632" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12637" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12640" class="Symbol">(</a><a id="12641" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12643" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="12645" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12647" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="12651" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12656" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12658" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12660" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="12661" class="Symbol">)</a>
         <a id="12672" href="Chapter.Imp.AexpBexp.html#12601" class="Function">lm1</a> <a id="12676" class="Symbol">=</a> <a id="12678" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="12695" href="Chapter.Imp.AexpBexp.html#12183" class="Bound">a1</a> <a id="12698" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12700" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12702" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a>

         <a id="12714" href="Chapter.Imp.AexpBexp.html#12714" class="Function">lm2</a> <a id="12718" class="Symbol">:</a> <a id="12720" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12725" class="Symbol">(</a><a id="12726" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12729" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">[</a> <a id="12731" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12733" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">/</a> <a id="12735" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12737" href="Chapter.Imp.AexpBexp.html#4935" class="Function Operator">]</a><a id="12738" class="Symbol">)</a> <a id="12740" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12742" href="Library.Equality.html#83" class="Datatype Operator">==</a> <a id="12745" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12750" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12753" class="Symbol">(</a><a id="12754" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12756" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">[</a> <a id="12758" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12760" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">::=</a> <a id="12764" href="Chapter.Imp.AexpBexp.html#3910" class="Function">aval</a> <a id="12769" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12771" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a> <a id="12773" href="Chapter.Imp.AexpBexp.html#3405" class="Function Operator">]</a><a id="12774" class="Symbol">)</a>
         <a id="12785" href="Chapter.Imp.AexpBexp.html#12714" class="Function">lm2</a> <a id="12789" class="Symbol">=</a> <a id="12791" href="Chapter.Imp.AexpBexp.html#6158" class="Function">lemma-subst-aexp</a> <a id="12808" href="Chapter.Imp.AexpBexp.html#12186" class="Bound">a2</a> <a id="12811" href="Chapter.Imp.AexpBexp.html#12190" class="Bound">a</a> <a id="12813" href="Chapter.Imp.AexpBexp.html#12192" class="Bound">x</a> <a id="12815" href="Chapter.Imp.AexpBexp.html#12194" class="Bound">s</a>
<a id="12817" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12834" class="Symbol">(</a><a id="12835" href="Chapter.Imp.AexpBexp.html#9505" class="InductiveConstructor">Not</a> <a id="12839" href="Chapter.Imp.AexpBexp.html#12839" class="Bound">b</a><a id="12840" class="Symbol">)</a> <a id="12842" href="Chapter.Imp.AexpBexp.html#12842" class="Bound">a</a> <a id="12844" href="Chapter.Imp.AexpBexp.html#12844" class="Bound">x</a> <a id="12846" href="Chapter.Imp.AexpBexp.html#12846" class="Bound">s</a>
         <a id="12857" class="Keyword">rewrite</a> <a id="12865" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12882" href="Chapter.Imp.AexpBexp.html#12839" class="Bound">b</a> <a id="12884" href="Chapter.Imp.AexpBexp.html#12842" class="Bound">a</a> <a id="12886" href="Chapter.Imp.AexpBexp.html#12844" class="Bound">x</a> <a id="12888" href="Chapter.Imp.AexpBexp.html#12846" class="Bound">s</a> <a id="12890" class="Symbol">=</a> <a id="12892" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
<a id="12897" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12914" class="Symbol">(</a><a id="12915" href="Chapter.Imp.AexpBexp.html#9549" class="InductiveConstructor">And</a> <a id="12919" href="Chapter.Imp.AexpBexp.html#12919" class="Bound">b1</a> <a id="12922" href="Chapter.Imp.AexpBexp.html#12922" class="Bound">b2</a><a id="12924" class="Symbol">)</a> <a id="12926" href="Chapter.Imp.AexpBexp.html#12926" class="Bound">a</a> <a id="12928" href="Chapter.Imp.AexpBexp.html#12928" class="Bound">x</a> <a id="12930" href="Chapter.Imp.AexpBexp.html#12930" class="Bound">s</a>
         <a id="12941" class="Keyword">rewrite</a> <a id="12949" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12966" href="Chapter.Imp.AexpBexp.html#12919" class="Bound">b1</a> <a id="12969" href="Chapter.Imp.AexpBexp.html#12926" class="Bound">a</a> <a id="12971" href="Chapter.Imp.AexpBexp.html#12928" class="Bound">x</a> <a id="12973" href="Chapter.Imp.AexpBexp.html#12930" class="Bound">s</a> <a id="12975" class="Symbol">|</a> <a id="12977" href="Chapter.Imp.AexpBexp.html#11957" class="Function">lemma-subst-bexp</a> <a id="12994" href="Chapter.Imp.AexpBexp.html#12922" class="Bound">b2</a> <a id="12997" href="Chapter.Imp.AexpBexp.html#12926" class="Bound">a</a> <a id="12999" href="Chapter.Imp.AexpBexp.html#12928" class="Bound">x</a> <a id="13001" href="Chapter.Imp.AexpBexp.html#12930" class="Bound">s</a> <a id="13003" class="Symbol">=</a> <a id="13005" href="Library.Equality.html#125" class="InductiveConstructor">refl</a>
</pre>

  </div>
  <ul class="menu">
  <li>
    <a href="Chapter.Imp.Introduction.html">‹ Introduction to IMP and to Hoare Logic</a></li>
  <li>
    <a href="Chapter.Imp.BigStep.html">Big-step operational semantics ›</a></li>
</ul>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>
  <div class="wrapper">
    <!-- <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"> -->
    <!--   <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png"/> -->
    <!-- </a> -->
    2022-2023
    <a href="https://boystrange.github.io">Luca Padovani</a>
    and <a href="http://www.di.unito.it/~deligu/">Ugo de'Liguoro</a>.
    Page generated on 20 Sep 2023.
  </div>
</footer>
</body>

</html>
